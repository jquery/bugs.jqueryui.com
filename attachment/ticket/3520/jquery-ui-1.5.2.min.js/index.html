<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">jquery-ui-1.5.2.min.js on Ticket #3520 – Attachment – jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/E43-5SJe5X.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          


<div class="flex-column attachment">
  <nav class="content-nav">
    <ul class="flex-row">
      <li>
        <a href="/ticket/3520">Back to Ticket #3520</a>
      </li>
    </ul>
  </nav>

  <h1>
    <a href="/ticket/3520">Ticket #3520</a>: jquery-ui-1.5.2.min.js
  
  <hr>

  <div class="attachment-info">
    <h6>File jquery-ui-1.5.2.min.js, 103.1 KB (added by ctrager, October 26, 2008 05:56PM UTC)</h6>
    
      <p>the actual jquery ui mini code I downloaded</p>
    
  </div>

  
    <div class="attachment-preview">
      
      <pre class="language-js" tabindex="0"><code class="language-js"><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>ui<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">plugin</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token function-variable function">add</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span>option<span class="token punctuation">,</span><span class="token keyword">set</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> proto<span class="token operator">=</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">[</span>module<span class="token punctuation">]</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> set<span class="token punctuation">)</span><span class="token punctuation">{</span>proto<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>proto<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">||</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>proto<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>option<span class="token punctuation">,</span><span class="token keyword">set</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">call</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">instance<span class="token punctuation">,</span>name<span class="token punctuation">,</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> set<span class="token operator">=</span>instance<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>set<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>set<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">[</span><span class="token keyword">set</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">set</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>element<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">cssCache</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">css</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>cssCache<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>cssCache<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> tmp<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="ui-gen">'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'-5000px'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'-5000px'</span><span class="token punctuation">,</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">'block'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>cssCache<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">auto|default</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'cursor'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">none</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'backgroundImage'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">transparent|rgba\(0, 0, 0, 0\)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'backgroundColor'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">try</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> $<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>cssCache<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">disableSelection</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'unselectable'</span><span class="token punctuation">,</span><span class="token string">'on'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'MozUserSelect'</span><span class="token punctuation">,</span><span class="token string">'none'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">enableSelection</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'unselectable'</span><span class="token punctuation">,</span><span class="token string">'off'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'MozUserSelect'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">hasScroll</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>a</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> scroll<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">top</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>a<span class="token operator">||</span><span class="token string">"top"</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'scrollTop'</span><span class="token operator">:</span><span class="token string">'scrollLeft'</span><span class="token punctuation">,</span>has<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">[</span>scroll<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>e<span class="token punctuation">[</span>scroll<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>has<span class="token operator">=</span>e<span class="token punctuation">[</span>scroll<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0</span><span class="token operator">?</span><span class="token boolean">true</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">;</span>e<span class="token punctuation">[</span>scroll<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">return</span> has<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> _remove<span class="token operator">=</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>remove<span class="token punctuation">;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">remove</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"remove"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token function">_remove</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token parameter">namespace<span class="token punctuation">,</span>plugin<span class="token punctuation">,</span>method</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> methods<span class="token operator">=</span>$<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">[</span>plugin<span class="token punctuation">]</span><span class="token punctuation">.</span>getter<span class="token operator">||</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>methods<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> methods<span class="token operator">==</span><span class="token string">"string"</span><span class="token operator">?</span>methods<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">,?\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token operator">:</span>methods<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span>methods<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
$<span class="token punctuation">.</span><span class="token function-variable function">widget</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>prototype</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> namespace<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>name<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> isMethodCall<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token operator">==</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isMethodCall<span class="token operator">&amp;&amp;</span><span class="token function">getter</span><span class="token punctuation">(</span>namespace<span class="token punctuation">,</span>name<span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> instance<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span>instance<span class="token operator">?</span>instance<span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> instance<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isMethodCall<span class="token operator">&amp;&amp;</span>instance<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>instance<span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>instance<span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isMethodCall<span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token keyword">new</span> $<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>options</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token operator">=</span>name<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetBaseClass<span class="token operator">=</span>namespace<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>name<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>defaults<span class="token punctuation">,</span>$<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>defaults<span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'setData.'</span><span class="token operator">+</span>name<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'getData.'</span><span class="token operator">+</span>name<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'remove'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function-variable function">init</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">getData</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">setData</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token operator">==</span><span class="token string">'disabled'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span>value<span class="token operator">?</span><span class="token string">'addClass'</span><span class="token operator">:</span><span class="token string">'removeClass'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetBaseClass<span class="token operator">+</span><span class="token string">'-disabled'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">enable</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">disable</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>defaults<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">disabled</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>mouse<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function-variable function">mouseInit</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'mousedown.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">mouseDown</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseUnselectable<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'unselectable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'unselectable'</span><span class="token punctuation">,</span><span class="token string">'on'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>started<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDestroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'unselectable'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseUnselectable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDown</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseUp</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDownEvent<span class="token operator">=</span>e<span class="token punctuation">;</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>btnIsLeft<span class="token operator">=</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>which<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>elIsCancel<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>cancel<span class="token operator">==</span><span class="token string">"string"</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>cancel<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>btnIsLeft<span class="token operator">||</span>elIsCancel<span class="token operator">||</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseCapture</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDelayMet<span class="token operator">=</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>delay<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDelayMet<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDelayTimer<span class="token operator">=</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>_mouseDelayMet<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>delay<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDistanceMet</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDelayMet</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseStart</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">_mouseMoveDelegate</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">mouseMove</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">_mouseUpDelegate</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">mouseUp</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'mousemove.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseMoveDelegate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'mouseup.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseUpDelegate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseMove</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>e<span class="token punctuation">.</span>button<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseUp</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDrag</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDistanceMet</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDelayMet</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseStart</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDownEvent<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDrag</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseUp</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseUp</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'mousemove.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseMoveDelegate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'mouseup.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>widgetName<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseUpDelegate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseStarted<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseStop</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDistanceMet</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDownEvent<span class="token punctuation">.</span>pageX<span class="token operator">-</span>e<span class="token punctuation">.</span>pageX<span class="token punctuation">)</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDownEvent<span class="token punctuation">.</span>pageY<span class="token operator">-</span>e<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>distance<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDelayMet</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_mouseDelayMet<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseStart</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDrag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseStop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseCapture</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>defaults<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">cancel</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">distance</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">delay</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token string">"ui.draggable"</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>mouse<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">init</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">==</span><span class="token string">'original'</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(relative|absolute|fixed)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">,</span><span class="token string">'relative'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-draggable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabled<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-draggable-disabled'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseStart</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">||</span>o<span class="token punctuation">.</span>disabled<span class="token operator">||</span><span class="token function">$</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">'.ui-resizable-handle'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> handle<span class="token operator">=</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>handle<span class="token operator">||</span><span class="token operator">!</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>handle<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">?</span><span class="token boolean">true</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>handle<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span>handle<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>handle<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token punctuation">)</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token punctuation">.</span>current<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">helper</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">==</span><span class="token string">'clone'</span><span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>appendTo<span class="token operator">==</span><span class="token string">'parent'</span><span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token operator">:</span>o<span class="token punctuation">.</span>appendTo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(fixed|absolute)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"position"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"position"</span><span class="token punctuation">,</span><span class="token string">"absolute"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginLeft"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginTop"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"position"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>top<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>left<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>e<span class="token punctuation">.</span>pageX<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>left<span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>e<span class="token punctuation">.</span>pageY<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>top<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">offsetParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> po<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>document<span class="token punctuation">.</span>body<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>mozilla<span class="token punctuation">)</span>po<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>po<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"borderTopWidth"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>po<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"borderLeftWidth"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> p<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"relative"</span><span class="token operator">?</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>p<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>p<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">generatePosition</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>left<span class="token operator">!=</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left<span class="token operator">=</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>right<span class="token operator">!=</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>width<span class="token operator">-</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>right<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>top<span class="token operator">!=</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top<span class="token operator">=</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>bottom<span class="token operator">!=</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>height<span class="token operator">-</span>o<span class="token punctuation">.</span>cursorAt<span class="token punctuation">.</span>bottom<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token operator">==</span><span class="token string">'parent'</span><span class="token punctuation">)</span>o<span class="token punctuation">.</span>containment<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token operator">==</span><span class="token string">'document'</span><span class="token operator">||</span>o<span class="token punctuation">.</span>containment<span class="token operator">==</span><span class="token string">'window'</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">,</span><span class="token number">0</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token operator">==</span><span class="token string">'document'</span><span class="token operator">?</span>document<span class="token operator">:</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>width<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginRight"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token operator">==</span><span class="token string">'document'</span><span class="token operator">?</span>document<span class="token operator">:</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>height<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginBottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(document|window|parent)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> ce<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> co<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token operator">=</span><span class="token punctuation">[</span>co<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"borderLeftWidth"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">,</span>co<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"borderTopWidth"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token punctuation">,</span>co<span class="token punctuation">.</span>left<span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>ce<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">,</span>ce<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"borderLeftWidth"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>width<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginRight"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>co<span class="token punctuation">.</span>top<span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>ce<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">,</span>ce<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"borderTopWidth"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>height<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginBottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"start"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helperProportions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>dropBehaviour<span class="token punctuation">)</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token punctuation">.</span><span class="token function">prepareOffsets</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"ui-draggable-dragging"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDrag</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">convertPositionTo</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span>pos</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pos<span class="token punctuation">)</span>pos<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">;</span><span class="token keyword">var</span> mod<span class="token operator">=</span>d<span class="token operator">==</span><span class="token string">"absolute"</span><span class="token operator">?</span><span class="token number">1</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>top
<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>top<span class="token operator">*</span>mod
<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token operator">*</span>mod
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"absolute"</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span><span class="token operator">*</span>mod
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span>mod
<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>top<span class="token operator">*</span>mod<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>left
<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>left<span class="token operator">*</span>mod
<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token operator">*</span>mod
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"absolute"</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token punctuation">)</span><span class="token operator">*</span>mod
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span>mod
<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>margins<span class="token punctuation">.</span>left<span class="token operator">*</span>mod<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">generatePosition</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">var</span> position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY
<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top
<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>top
<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"absolute"</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX
<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left
<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>relative<span class="token punctuation">.</span>left
<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"absolute"</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cssPosition<span class="token operator">==</span><span class="token string">"fixed"</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">)</span><span class="token keyword">return</span> position<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>left<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>top<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>left<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>top<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> top<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>top<span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">/</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token operator">?</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>top<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span>top<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">?</span>top<span class="token operator">:</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>top<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">?</span>top<span class="token operator">-</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span>top<span class="token operator">+</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>top<span class="token punctuation">;</span><span class="token keyword">var</span> left<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>left<span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">/</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token operator">?</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">||</span>left<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">?</span>left<span class="token operator">:</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>containment<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">?</span>left<span class="token operator">-</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span>left<span class="token operator">+</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>left<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> position<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDrag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">generatePosition</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"absolute"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"drag"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>axis<span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>axis<span class="token operator">!=</span><span class="token string">"y"</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>axis<span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>axis<span class="token operator">!=</span><span class="token string">"x"</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token punctuation">)</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token punctuation">.</span><span class="token function">drag</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseStop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> dropped<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>dropBehaviour<span class="token punctuation">)</span>
<span class="token keyword">var</span> dropped<span class="token operator">=</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>ddmanager<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token operator">==</span><span class="token string">"invalid"</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>dropped<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token operator">==</span><span class="token string">"valid"</span><span class="token operator">&amp;&amp;</span>dropped<span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token operator">===</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">,</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"stop"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"stop"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">clear</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"ui-draggable-dragging"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>helper<span class="token operator">!=</span><span class="token string">'original'</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>cancelHelperRemoval<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>cancelHelperRemoval<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">uiHash</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">helper</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">,</span><span class="token literal-property property">absolutePosition</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token punctuation">,</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">propagate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uiHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token string">"drag"</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"absolute"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token string">"drag"</span><span class="token operator">?</span>n<span class="token operator">:</span><span class="token string">"drag"</span><span class="token operator">+</span>n<span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uiHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'draggable'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">".draggable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'ui-draggable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>draggable<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">defaults</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">appendTo</span><span class="token operator">:</span><span class="token string">"parent"</span><span class="token punctuation">,</span><span class="token literal-property property">axis</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">cancel</span><span class="token operator">:</span><span class="token string">":input"</span><span class="token punctuation">,</span><span class="token literal-property property">delay</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">distance</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">helper</span><span class="token operator">:</span><span class="token string">"original"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"cursor"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"cursor"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_cursor<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"cursor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"cursor"</span><span class="token punctuation">,</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_cursor<span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"cursor"</span><span class="token punctuation">,</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_cursor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"zIndex"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"zIndex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_zIndex<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"zIndex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'zIndex'</span><span class="token punctuation">,</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>zIndex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_zIndex<span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'zIndex'</span><span class="token punctuation">,</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_zIndex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"opacity"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"opacity"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_opacity<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"opacity"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>opacity<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_opacity<span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_opacity<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"iframeFix"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>iframeFix<span class="token operator">===</span><span class="token boolean">true</span><span class="token operator">?</span><span class="token string">"iframe"</span><span class="token operator">:</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>iframeFix<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="ui-draggable-iframeFix" style="background: #fff;">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetWidth<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">"absolute"</span><span class="token punctuation">,</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token string">"0.001"</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div.DragDropIframeFix"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"scroll"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token operator">=</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token operator">||</span><span class="token number">20</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token operator">=</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token operator">||</span><span class="token number">20</span><span class="token punctuation">;</span>i<span class="token punctuation">.</span><span class="token function-variable function">overflowY</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">do</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">auto|scroll</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'overflow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">auto|scroll</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'overflow-y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> el<span class="token punctuation">;</span>el<span class="token operator">=</span>el<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>el<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token punctuation">.</span><span class="token function-variable function">overflowX</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">do</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">auto|scroll</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'overflow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">auto|scroll</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'overflow-x'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> el<span class="token punctuation">;</span>el<span class="token operator">=</span>el<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>el<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>document<span class="token operator">&amp;&amp;</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tagName<span class="token operator">!=</span><span class="token string">'HTML'</span><span class="token punctuation">)</span>i<span class="token punctuation">.</span>overflowYOffset<span class="token operator">=</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>document<span class="token operator">&amp;&amp;</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tagName<span class="token operator">!=</span><span class="token string">'HTML'</span><span class="token punctuation">)</span>i<span class="token punctuation">.</span>overflowXOffset<span class="token operator">=</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">drag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>document<span class="token operator">&amp;&amp;</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tagName<span class="token operator">!=</span><span class="token string">'HTML'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>overflowYOffset<span class="token punctuation">.</span>top<span class="token operator">+</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token operator">-</span>e<span class="token punctuation">.</span>pageY<span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token operator">=</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token operator">+</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token operator">-</span>i<span class="token punctuation">.</span>overflowYOffset<span class="token punctuation">.</span>top<span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token operator">=</span>i<span class="token punctuation">.</span>overflowY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop<span class="token operator">-</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token operator">-</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token operator">-</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>document<span class="token operator">&amp;&amp;</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tagName<span class="token operator">!=</span><span class="token string">'HTML'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>overflowXOffset<span class="token punctuation">.</span>left<span class="token operator">+</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token operator">-</span>e<span class="token punctuation">.</span>pageX<span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token operator">=</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token operator">+</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token operator">-</span>i<span class="token punctuation">.</span>overflowXOffset<span class="token punctuation">.</span>left<span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token operator">=</span>i<span class="token punctuation">.</span>overflowX<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollLeft<span class="token operator">-</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token operator">-</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token operator">-</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>o<span class="token punctuation">.</span>scrollSensitivity<span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>o<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"snap"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>snapElements<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snap<span class="token operator">===</span><span class="token boolean">true</span><span class="token operator">?</span><span class="token string">'.ui-draggable'</span><span class="token operator">:</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $t<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> $o<span class="token operator">=</span>$t<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">!=</span>inst<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>inst<span class="token punctuation">.</span>snapElements<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">item</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>$t<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>$t<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>$o<span class="token punctuation">.</span>top<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>$o<span class="token punctuation">.</span>left<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">drag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> d<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapTolerance<span class="token operator">||</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> x1<span class="token operator">=</span>ui<span class="token punctuation">.</span>absolutePosition<span class="token punctuation">.</span>left<span class="token punctuation">,</span>x2<span class="token operator">=</span>x1<span class="token operator">+</span>inst<span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>width<span class="token punctuation">,</span>y1<span class="token operator">=</span>ui<span class="token punctuation">.</span>absolutePosition<span class="token punctuation">.</span>top<span class="token punctuation">,</span>y2<span class="token operator">=</span>y1<span class="token operator">+</span>inst<span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span>inst<span class="token punctuation">.</span>snapElements<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> l<span class="token operator">=</span>inst<span class="token punctuation">.</span>snapElements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span>r<span class="token operator">=</span>l<span class="token operator">+</span>inst<span class="token punctuation">.</span>snapElements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span>t<span class="token operator">=</span>inst<span class="token punctuation">.</span>snapElements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>top<span class="token punctuation">,</span>b<span class="token operator">=</span>t<span class="token operator">+</span>inst<span class="token punctuation">.</span>snapElements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">(</span>l<span class="token operator">-</span>d<span class="token operator">&lt;</span>x1<span class="token operator">&amp;&amp;</span>x1<span class="token operator">&lt;</span>r<span class="token operator">+</span>d<span class="token operator">&amp;&amp;</span>t<span class="token operator">-</span>d<span class="token operator">&lt;</span>y1<span class="token operator">&amp;&amp;</span>y1<span class="token operator">&lt;</span>b<span class="token operator">+</span>d<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>l<span class="token operator">-</span>d<span class="token operator">&lt;</span>x1<span class="token operator">&amp;&amp;</span>x1<span class="token operator">&lt;</span>r<span class="token operator">+</span>d<span class="token operator">&amp;&amp;</span>t<span class="token operator">-</span>d<span class="token operator">&lt;</span>y2<span class="token operator">&amp;&amp;</span>y2<span class="token operator">&lt;</span>b<span class="token operator">+</span>d<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>l<span class="token operator">-</span>d<span class="token operator">&lt;</span>x2<span class="token operator">&amp;&amp;</span>x2<span class="token operator">&lt;</span>r<span class="token operator">+</span>d<span class="token operator">&amp;&amp;</span>t<span class="token operator">-</span>d<span class="token operator">&lt;</span>y1<span class="token operator">&amp;&amp;</span>y1<span class="token operator">&lt;</span>b<span class="token operator">+</span>d<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>l<span class="token operator">-</span>d<span class="token operator">&lt;</span>x2<span class="token operator">&amp;&amp;</span>x2<span class="token operator">&lt;</span>r<span class="token operator">+</span>d<span class="token operator">&amp;&amp;</span>t<span class="token operator">-</span>d<span class="token operator">&lt;</span>y2<span class="token operator">&amp;&amp;</span>y2<span class="token operator">&lt;</span>b<span class="token operator">+</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapMode<span class="token operator">!=</span><span class="token string">'inner'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> ts<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>t<span class="token operator">-</span>y2<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> bs<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>b<span class="token operator">-</span>y1<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> ls<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>l<span class="token operator">-</span>x2<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> rs<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>r<span class="token operator">-</span>x1<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>t<span class="token operator">-</span>inst<span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>height<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>b<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ls<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>l<span class="token operator">-</span>inst<span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>width<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>r<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapMode<span class="token operator">!=</span><span class="token string">'outer'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> ts<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>t<span class="token operator">-</span>y1<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> bs<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>b<span class="token operator">-</span>y2<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> ls<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>l<span class="token operator">-</span>x1<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> rs<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>r<span class="token operator">-</span>x2<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>t<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>b<span class="token operator">-</span>inst<span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>height<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ls<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>l<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">)</span>ui<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>inst<span class="token punctuation">.</span><span class="token function">convertPositionTo</span><span class="token punctuation">(</span><span class="token string">"relative"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>r<span class="token operator">-</span>inst<span class="token punctuation">.</span>helperProportions<span class="token punctuation">.</span>width<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"connectToSortable"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>sortables<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectToSortable<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">'sortable'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> sortable<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">'sortable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>sortables<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">instance</span><span class="token operator">:</span>sortable<span class="token punctuation">,</span><span class="token literal-property property">shouldRevert</span><span class="token operator">:</span>sortable<span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sortable<span class="token punctuation">.</span><span class="token function">refreshItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sortable<span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"activate"</span><span class="token punctuation">,</span>e<span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>sortables<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isOver<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isOver<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>cancelHelperRemoval<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>cancelHelperRemoval<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>shouldRevert<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">mouseStop</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"sortreceive"</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">sender</span><span class="token operator">:</span>inst<span class="token punctuation">.</span>element<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">[</span><span class="token string">"receive"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>helper<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_helper<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"deactivate"</span><span class="token punctuation">,</span>e<span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">drag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">checkPos</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> l<span class="token operator">=</span>o<span class="token punctuation">.</span>left<span class="token punctuation">,</span>r<span class="token operator">=</span>l<span class="token operator">+</span>o<span class="token punctuation">.</span>width<span class="token punctuation">,</span>t<span class="token operator">=</span>o<span class="token punctuation">.</span>top<span class="token punctuation">,</span>b<span class="token operator">=</span>t<span class="token operator">+</span>o<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span>l<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">&lt;</span>r<span class="token operator">&amp;&amp;</span>t<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>positionAbs<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">&lt;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>sortables<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">checkPos</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>containerCache<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isOver<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isOver<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>currentItem<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"sortable-item"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_helper<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>helper<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function-variable function">helper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> ui<span class="token punctuation">.</span>helper<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>target<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>currentItem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">mouseCapture</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">mouseStart</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top<span class="token operator">=</span>inst<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left<span class="token operator">=</span>inst<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>click<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token operator">-=</span>inst<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token operator">-=</span>inst<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>top<span class="token punctuation">;</span>inst<span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"toSortable"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>currentItem<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">mouseDrag</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isOver<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isOver<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>cancelHelperRemoval<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>revert<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">mouseStop</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>helper<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_helper<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>currentItem<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>placeholder<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>placeholder<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"fromSortable"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"draggable"</span><span class="token punctuation">,</span><span class="token string">"stack"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> group<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>stack<span class="token punctuation">.</span>group<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"zIndex"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>stack<span class="token punctuation">.</span>min<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"zIndex"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>stack<span class="token punctuation">.</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>stack<span class="token punctuation">.</span>min<span class="token operator">+</span>i<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">.</span>stack<span class="token punctuation">.</span>min<span class="token operator">+</span>group<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token string">"ui.resizable"</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>mouse<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">init</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">var</span> elpos<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalElement<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"ui-resizable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">static</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>elpos<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'relative'</span><span class="token operator">:</span>elpos<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">_aspectRatio</span><span class="token operator">:</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">helper</span><span class="token operator">:</span>o<span class="token punctuation">.</span>helper<span class="token operator">||</span>o<span class="token punctuation">.</span>ghost<span class="token operator">||</span>o<span class="token punctuation">.</span>animate<span class="token operator">?</span>o<span class="token punctuation">.</span>helper<span class="token operator">||</span><span class="token string">'proxy'</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">knobHandles</span><span class="token operator">:</span>o<span class="token punctuation">.</span>knobHandles<span class="token operator">===</span><span class="token boolean">true</span><span class="token operator">?</span><span class="token string">'ui-resizable-knob-handle'</span><span class="token operator">:</span>o<span class="token punctuation">.</span>knobHandles<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> aBorder<span class="token operator">=</span><span class="token string">'1px solid #DEDEDE'</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>defaultTheme<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string-property property">'ui-resizable'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">'block'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-handle'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">background</span><span class="token operator">:</span><span class="token string">'#F2F2F2'</span><span class="token punctuation">,</span><span class="token literal-property property">fontSize</span><span class="token operator">:</span><span class="token string">'0.1px'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-n'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'n-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">right</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderTop</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-s'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'s-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">right</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderBottom</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-e'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'e-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderRight</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-w'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'w-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderLeft</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-se'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'se-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderRight</span><span class="token operator">:</span>aBorder<span class="token punctuation">,</span><span class="token literal-property property">borderBottom</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-sw'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'sw-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderBottom</span><span class="token operator">:</span>aBorder<span class="token punctuation">,</span><span class="token literal-property property">borderLeft</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-ne'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'ne-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderRight</span><span class="token operator">:</span>aBorder<span class="token punctuation">,</span><span class="token literal-property property">borderTop</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-nw'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'nw-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'4px'</span><span class="token punctuation">,</span><span class="token literal-property property">borderLeft</span><span class="token operator">:</span>aBorder<span class="token punctuation">,</span><span class="token literal-property property">borderTop</span><span class="token operator">:</span>aBorder<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>knobTheme<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string-property property">'ui-resizable-handle'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span><span class="token string">'#F2F2F2'</span><span class="token punctuation">,</span><span class="token literal-property property">border</span><span class="token operator">:</span><span class="token string">'1px solid #808080'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'8px'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'8px'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-n'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'n-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'45%'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-s'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'s-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'45%'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-e'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'e-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">right</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'45%'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-w'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'w-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'45%'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-se'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'se-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">right</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-sw'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'sw-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-nw'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'nw-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string-property property">'ui-resizable-ne'</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'ne-resize'</span><span class="token punctuation">,</span><span class="token literal-property property">right</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'0px'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>_nodeName<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>_nodeName<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">canvas|textarea|input|select|button|img</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">relative</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>opera<span class="token punctuation">)</span>
el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'relative'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'auto'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'auto'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>el<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="ui-wrapper" style="overflow: hidden;">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> oel<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'resizable'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">marginLeft</span><span class="token operator">:</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginLeft"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">marginTop</span><span class="token operator">:</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginTop"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">marginRight</span><span class="token operator">:</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginRight"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">marginBottom</span><span class="token operator">:</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginBottom"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">marginLeft</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">marginTop</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">marginRight</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">marginBottom</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>safari<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span><span class="token string">'none'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token operator">=</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'static'</span><span class="token punctuation">,</span><span class="token literal-property property">zoom</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">'block'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">margin</span><span class="token operator">:</span>oel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'margin'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_proportionallyResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">)</span>o<span class="token punctuation">.</span>handles<span class="token operator">=</span><span class="token operator">!</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-resizable-handle'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">?</span><span class="token string">"e,s,se"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">n</span><span class="token operator">:</span><span class="token string">'.ui-resizable-n'</span><span class="token punctuation">,</span><span class="token literal-property property">e</span><span class="token operator">:</span><span class="token string">'.ui-resizable-e'</span><span class="token punctuation">,</span><span class="token literal-property property">s</span><span class="token operator">:</span><span class="token string">'.ui-resizable-s'</span><span class="token punctuation">,</span><span class="token literal-property property">w</span><span class="token operator">:</span><span class="token string">'.ui-resizable-w'</span><span class="token punctuation">,</span><span class="token literal-property property">se</span><span class="token operator">:</span><span class="token string">'.ui-resizable-se'</span><span class="token punctuation">,</span><span class="token literal-property property">sw</span><span class="token operator">:</span><span class="token string">'.ui-resizable-sw'</span><span class="token punctuation">,</span><span class="token literal-property property">ne</span><span class="token operator">:</span><span class="token string">'.ui-resizable-ne'</span><span class="token punctuation">,</span><span class="token literal-property property">nw</span><span class="token operator">:</span><span class="token string">'.ui-resizable-nw'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">.</span>constructor<span class="token operator">==</span>String<span class="token punctuation">)</span><span class="token punctuation">{</span>o<span class="token punctuation">.</span>zIndex<span class="token operator">=</span>o<span class="token punctuation">.</span>zIndex<span class="token operator">||</span><span class="token number">1000</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>handles<span class="token operator">==</span><span class="token string">'all'</span><span class="token punctuation">)</span>o<span class="token punctuation">.</span>handles<span class="token operator">=</span><span class="token string">'n,e,s,w,se,sw,ne,nw'</span><span class="token punctuation">;</span><span class="token keyword">var</span> n<span class="token operator">=</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>handles<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> insertionsDefault<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">handle</span><span class="token operator">:</span><span class="token string">'position: absolute; display: none; overflow:hidden;'</span><span class="token punctuation">,</span><span class="token literal-property property">n</span><span class="token operator">:</span><span class="token string">'top: 0pt; width:100%;'</span><span class="token punctuation">,</span><span class="token literal-property property">e</span><span class="token operator">:</span><span class="token string">'right: 0pt; height:100%;'</span><span class="token punctuation">,</span><span class="token literal-property property">s</span><span class="token operator">:</span><span class="token string">'bottom: 0pt; width:100%;'</span><span class="token punctuation">,</span><span class="token literal-property property">w</span><span class="token operator">:</span><span class="token string">'left: 0pt; height:100%;'</span><span class="token punctuation">,</span><span class="token literal-property property">se</span><span class="token operator">:</span><span class="token string">'bottom: 0pt; right: 0px;'</span><span class="token punctuation">,</span><span class="token literal-property property">sw</span><span class="token operator">:</span><span class="token string">'bottom: 0pt; left: 0px;'</span><span class="token punctuation">,</span><span class="token literal-property property">ne</span><span class="token operator">:</span><span class="token string">'top: 0pt; right: 0px;'</span><span class="token punctuation">,</span><span class="token literal-property property">nw</span><span class="token operator">:</span><span class="token string">'top: 0pt; left: 0px;'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> handle<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dt<span class="token operator">=</span>o<span class="token punctuation">.</span>defaultTheme<span class="token punctuation">,</span>hname<span class="token operator">=</span><span class="token string">'ui-resizable-'</span><span class="token operator">+</span>handle<span class="token punctuation">,</span>loadDefault<span class="token operator">=</span><span class="token operator">!</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>hname<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>knobHandles<span class="token punctuation">,</span>userKnobClass<span class="token operator">=</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'ui-resizable-knob-handle'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>allDefTheme<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>dt<span class="token punctuation">[</span>hname<span class="token punctuation">]</span><span class="token punctuation">,</span>dt<span class="token punctuation">[</span><span class="token string">'ui-resizable-handle'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>allKnobTheme<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>knobTheme<span class="token punctuation">[</span>hname<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">!</span>userKnobClass<span class="token operator">?</span>o<span class="token punctuation">.</span>knobTheme<span class="token punctuation">[</span><span class="token string">'ui-resizable-handle'</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> applyZIndex<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">sw|se|ne|nw</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">{</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token operator">++</span>o<span class="token punctuation">.</span>zIndex<span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> defCss<span class="token operator">=</span><span class="token punctuation">(</span>loadDefault<span class="token operator">?</span>insertionsDefault<span class="token punctuation">[</span>handle<span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'&lt;div class="ui-resizable-handle '</span><span class="token punctuation">,</span>hname<span class="token punctuation">,</span><span class="token string">'" style="'</span><span class="token punctuation">,</span>defCss<span class="token punctuation">,</span>insertionsDefault<span class="token punctuation">.</span>handle<span class="token punctuation">,</span><span class="token string">'">&lt;/div>'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>applyZIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>handle<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'.ui-resizable-'</span><span class="token operator">+</span>handle<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>axis<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>loadDefault<span class="token operator">?</span>allDefTheme<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>knobHandles<span class="token operator">?</span>allKnobTheme<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>knobHandles<span class="token operator">?</span><span class="token string">'ui-resizable-knob-handle'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>knobHandles<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>knobHandles<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-resizable-knob'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'ui-resizable-knob'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">_renderAxis</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span><span class="token punctuation">{</span>target<span class="token operator">=</span>target<span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> o<span class="token punctuation">.</span>handles<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor<span class="token operator">==</span>String<span class="token punctuation">)</span>
o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>transparent<span class="token punctuation">)</span>
o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">'.ui-wrapper'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>_nodeName<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">textarea|input|select|button</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> axis<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">,</span>padWrapper<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>padWrapper<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">sw|ne|nw|se|n|s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">?</span>axis<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>axis<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> padPos<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'padding'</span><span class="token punctuation">,</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ne|nw|n</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'Top'</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">se|sw|s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'Bottom'</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^e$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'Right'</span><span class="token operator">:</span><span class="token string">'Left'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>transparent<span class="token punctuation">)</span>
target<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>padPos<span class="token punctuation">,</span>padWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_proportionallyResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_renderAxis</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>_handles<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-resizable-handle'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disableSelection<span class="token punctuation">)</span>
o<span class="token punctuation">.</span>_handles<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">disableSelection</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>_handles<span class="token punctuation">.</span><span class="token function">mouseover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>resizing<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token punctuation">)</span>
<span class="token keyword">var</span> axis<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ui-resizable-(se|sw|ne|nw|n|e|s|w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>axis<span class="token operator">=</span>o<span class="token punctuation">.</span>axis<span class="token operator">=</span>axis<span class="token operator">&amp;&amp;</span>axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">?</span>axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">'se'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>autoHide<span class="token punctuation">)</span><span class="token punctuation">{</span>o<span class="token punctuation">.</span>_handles<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"ui-resizable-autohide"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"ui-resizable-autohide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>_handles<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>resizing<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"ui-resizable-autohide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>_handles<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">ui</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">originalElement</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalElement<span class="token punctuation">,</span><span class="token literal-property property">element</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">,</span><span class="token literal-property property">helper</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">,</span><span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span><span class="token literal-property property">originalSize</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">,</span><span class="token literal-property property">originalPosition</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">propagate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">!=</span><span class="token string">"resize"</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"resize"</span><span class="token punctuation">,</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">,</span>wrapped<span class="token operator">=</span>el<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">".ui-resizable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">_destroy</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exp</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"ui-resizable ui-resizable-disabled"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">".resizable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.ui-resizable-handle'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">_destroy</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">'.ui-wrapper'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>wrapped<span class="token punctuation">)</span><span class="token punctuation">{</span>el<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>wrapped<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">_destroy</span><span class="token punctuation">(</span>wrapped<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseStart</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>disabled<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> handle<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>handles<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>handles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span>handle<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>handle<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>iniPos<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">,</span><span class="token function-variable function">num</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>ie6<span class="token operator">=</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>resizing<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>documentScroll<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">'.ui-draggable'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">absolute</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> sOffset<span class="token operator">=</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>containment<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">absolute</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">relative</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dscrollt<span class="token operator">=</span>sOffset<span class="token operator">?</span>o<span class="token punctuation">.</span>documentScroll<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>dscrolll<span class="token operator">=</span>sOffset<span class="token operator">?</span>o<span class="token punctuation">.</span>documentScroll<span class="token punctuation">.</span>left<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token punctuation">(</span>iniPos<span class="token punctuation">.</span>top<span class="token operator">+</span>dscrollt<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token punctuation">(</span>iniPos<span class="token punctuation">.</span>left<span class="token operator">+</span>dscrolll<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>opera<span class="token operator">&amp;&amp;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">relative</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'relative'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'auto'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'auto'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_renderProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> curleft<span class="token operator">=</span><span class="token function">num</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>curtop<span class="token operator">=</span><span class="token function">num</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">{</span>curleft<span class="token operator">+=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span>curtop<span class="token operator">+=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>curleft<span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>curtop<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">=</span>o<span class="token punctuation">.</span>helper<span class="token operator">||</span>ie6<span class="token operator">?</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token operator">=</span>o<span class="token punctuation">.</span>helper<span class="token operator">||</span>ie6<span class="token operator">?</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>curleft<span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>curtop<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>sizeDiff<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>el<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>el<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalMousePosition<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>e<span class="token punctuation">.</span>pageY<span class="token punctuation">}</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>aspectRatio<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> o<span class="token punctuation">.</span>aspectRatio<span class="token operator">==</span><span class="token string">'number'</span><span class="token punctuation">)</span><span class="token operator">?</span>o<span class="token punctuation">.</span>aspectRatio<span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">.</span>height<span class="token operator">/</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>preserveCursor<span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'cursor'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>axis<span class="token operator">+</span><span class="token string">'-resize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"start"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseDrag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>props<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>smp<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalMousePosition<span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>axis<span class="token punctuation">;</span><span class="token keyword">var</span> dx<span class="token operator">=</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token operator">-</span>smp<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span>dy<span class="token operator">=</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token operator">-</span>smp<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">var</span> trigger<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>trigger<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> data<span class="token operator">=</span><span class="token function">trigger</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ie6<span class="token operator">=</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">,</span>csdif<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>sizeDiff<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>_aspectRatio<span class="token operator">||</span>e<span class="token punctuation">.</span>shiftKey<span class="token punctuation">)</span>
data<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateRatio</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_respectSize</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>helper<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_proportionallyResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateCache</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span><span class="token string">"resize"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">mouseStop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>resizing<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span><span class="token function-variable function">num</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> pr<span class="token operator">=</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">,</span>ista<span class="token operator">=</span>pr<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">textarea</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">,</span>soffseth<span class="token operator">=</span>ista<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">hasScroll</span><span class="token punctuation">(</span>pr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>self<span class="token punctuation">.</span>sizeDiff<span class="token punctuation">.</span>height<span class="token punctuation">,</span>soffsetw<span class="token operator">=</span>ista<span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>self<span class="token punctuation">.</span>sizeDiff<span class="token punctuation">.</span>width<span class="token punctuation">;</span><span class="token keyword">var</span> s<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">-</span>soffsetw<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">-</span>soffseth<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>left<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span>self<span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">null</span><span class="token punctuation">,</span>top<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">-</span>self<span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>animate<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>top<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>left<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>animate<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_proportionallyResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>preserveCursor<span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'cursor'</span><span class="token punctuation">,</span><span class="token string">'auto'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"stop"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_updateCache</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>offset<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>data<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>data<span class="token punctuation">.</span>top<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>data<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>data<span class="token punctuation">.</span>width<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_updateRatio</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>cpos<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">,</span>csize<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>axis<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>height<span class="token punctuation">)</span>data<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token punctuation">(</span>csize<span class="token punctuation">.</span>height<span class="token operator">/</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>width<span class="token punctuation">)</span>data<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token punctuation">(</span>csize<span class="token punctuation">.</span>width<span class="token operator">*</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token string">'sw'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>left<span class="token operator">=</span>cpos<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token punctuation">(</span>csize<span class="token punctuation">.</span>width<span class="token operator">-</span>data<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token string">'nw'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>top<span class="token operator">=</span>cpos<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token punctuation">(</span>csize<span class="token punctuation">.</span>height<span class="token operator">-</span>data<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">.</span>left<span class="token operator">=</span>cpos<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token punctuation">(</span>csize<span class="token punctuation">.</span>width<span class="token operator">-</span>data<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> data<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_respectSize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>pRatio<span class="token operator">=</span>o<span class="token punctuation">.</span>_aspectRatio<span class="token operator">||</span>e<span class="token punctuation">.</span>shiftKey<span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>axis<span class="token punctuation">,</span>ismaxw<span class="token operator">=</span>data<span class="token punctuation">.</span>width<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>maxWidth<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>maxWidth<span class="token operator">&lt;</span>data<span class="token punctuation">.</span>width<span class="token punctuation">,</span>ismaxh<span class="token operator">=</span>data<span class="token punctuation">.</span>height<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>maxHeight<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>maxHeight<span class="token operator">&lt;</span>data<span class="token punctuation">.</span>height<span class="token punctuation">,</span>isminw<span class="token operator">=</span>data<span class="token punctuation">.</span>width<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>minWidth<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>minWidth<span class="token operator">></span>data<span class="token punctuation">.</span>width<span class="token punctuation">,</span>isminh<span class="token operator">=</span>data<span class="token punctuation">.</span>height<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>minHeight<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>minHeight<span class="token operator">></span>data<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isminw<span class="token punctuation">)</span>data<span class="token punctuation">.</span>width<span class="token operator">=</span>o<span class="token punctuation">.</span>minWidth<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isminh<span class="token punctuation">)</span>data<span class="token punctuation">.</span>height<span class="token operator">=</span>o<span class="token punctuation">.</span>minHeight<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ismaxw<span class="token punctuation">)</span>data<span class="token punctuation">.</span>width<span class="token operator">=</span>o<span class="token punctuation">.</span>maxWidth<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ismaxh<span class="token punctuation">)</span>data<span class="token punctuation">.</span>height<span class="token operator">=</span>o<span class="token punctuation">.</span>maxHeight<span class="token punctuation">;</span><span class="token keyword">var</span> dw<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span>dh<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">var</span> cw<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">sw|nw|w</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>ch<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">nw|ne|n</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isminw<span class="token operator">&amp;&amp;</span>cw<span class="token punctuation">)</span>data<span class="token punctuation">.</span>left<span class="token operator">=</span>dw<span class="token operator">-</span>o<span class="token punctuation">.</span>minWidth<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ismaxw<span class="token operator">&amp;&amp;</span>cw<span class="token punctuation">)</span>data<span class="token punctuation">.</span>left<span class="token operator">=</span>dw<span class="token operator">-</span>o<span class="token punctuation">.</span>maxWidth<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isminh<span class="token operator">&amp;&amp;</span>ch<span class="token punctuation">)</span>data<span class="token punctuation">.</span>top<span class="token operator">=</span>dh<span class="token operator">-</span>o<span class="token punctuation">.</span>minHeight<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ismaxh<span class="token operator">&amp;&amp;</span>ch<span class="token punctuation">)</span>data<span class="token punctuation">.</span>top<span class="token operator">=</span>dh<span class="token operator">-</span>o<span class="token punctuation">.</span>maxHeight<span class="token punctuation">;</span><span class="token keyword">var</span> isNotwh<span class="token operator">=</span><span class="token operator">!</span>data<span class="token punctuation">.</span>width<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>data<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isNotwh<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>data<span class="token punctuation">.</span>left<span class="token operator">&amp;&amp;</span>data<span class="token punctuation">.</span>top<span class="token punctuation">)</span>data<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>isNotwh<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>data<span class="token punctuation">.</span>top<span class="token operator">&amp;&amp;</span>data<span class="token punctuation">.</span>left<span class="token punctuation">)</span>data<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">return</span> data<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_proportionallyResize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> prel<span class="token operator">=</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">,</span>el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>borderDif<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> b<span class="token operator">=</span><span class="token punctuation">[</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'borderTopWidth'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'borderRightWidth'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'borderBottomWidth'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'borderLeftWidth'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>p<span class="token operator">=</span><span class="token punctuation">[</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'paddingTop'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'paddingRight'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'paddingBottom'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'paddingLeft'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>borderDif<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> border<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span>padding<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">return</span> border<span class="token operator">+</span>padding<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
prel<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>o<span class="token punctuation">.</span>borderDif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>o<span class="token punctuation">.</span>borderDif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>o<span class="token punctuation">.</span>borderDif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>o<span class="token punctuation">.</span>borderDif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_renderProxy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> el<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>elementOffset<span class="token operator">=</span>el<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">||</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div style="overflow:hidden;">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> ie6<span class="token operator">=</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">,</span>ie6offset<span class="token operator">=</span><span class="token punctuation">(</span>ie6<span class="token operator">?</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pxyoffset<span class="token operator">=</span><span class="token punctuation">(</span>ie6<span class="token operator">?</span><span class="token number">2</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>pxyoffset<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>el<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>pxyoffset<span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>elementOffset<span class="token punctuation">.</span>left<span class="token operator">-</span>ie6offset<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>elementOffset<span class="token punctuation">.</span>top<span class="token operator">-</span>ie6offset<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token operator">++</span>o<span class="token punctuation">.</span>zIndex<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disableSelection<span class="token punctuation">)</span>
$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">disableSelection</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>helper<span class="token operator">=</span>el<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">_change</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token function-variable function">e</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">.</span>width<span class="token operator">+</span>dx<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">w</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>cs<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">,</span>sp<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>sp<span class="token punctuation">.</span>left<span class="token operator">+</span>dx<span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>cs<span class="token punctuation">.</span>width<span class="token operator">-</span>dx<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">n</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>cs<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">,</span>sp<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalPosition<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>sp<span class="token punctuation">.</span>top<span class="token operator">+</span>dy<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>cs<span class="token punctuation">.</span>height<span class="token operator">-</span>dy<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">s</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>originalSize<span class="token punctuation">.</span>height<span class="token operator">+</span>dy<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">se</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">s</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">sw</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">s</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">ne</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">nw</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_change<span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>resizable<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">defaults</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">cancel</span><span class="token operator">:</span><span class="token string">":input"</span><span class="token punctuation">,</span><span class="token literal-property property">distance</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">delay</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">preventDefault</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">transparent</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">minWidth</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token literal-property property">minHeight</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token literal-property property">aspectRatio</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">disableSelection</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">preserveCursor</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">autoHide</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">knobHandles</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">,</span><span class="token string">"containment"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>el<span class="token operator">=</span>self<span class="token punctuation">.</span>element<span class="token punctuation">;</span><span class="token keyword">var</span> oc<span class="token operator">=</span>o<span class="token punctuation">.</span>containment<span class="token punctuation">,</span>ce<span class="token operator">=</span><span class="token punctuation">(</span>oc <span class="token keyword">instanceof</span> $<span class="token punctuation">)</span><span class="token operator">?</span>oc<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">parent</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>oc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span>el<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span>oc<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ce<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>containerElement<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">document</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>oc<span class="token punctuation">)</span><span class="token operator">||</span>oc<span class="token operator">==</span>document<span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>containerOffset<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>containerPosition<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>parentData<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">element</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>containerOffset<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>containerPosition<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>containerSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">innerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">innerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> co<span class="token operator">=</span>self<span class="token punctuation">.</span>containerOffset<span class="token punctuation">,</span>ch<span class="token operator">=</span>self<span class="token punctuation">.</span>containerSize<span class="token punctuation">.</span>height<span class="token punctuation">,</span>cw<span class="token operator">=</span>self<span class="token punctuation">.</span>containerSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">hasScroll</span><span class="token punctuation">(</span>ce<span class="token punctuation">,</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token operator">?</span>ce<span class="token punctuation">.</span>scrollWidth<span class="token operator">:</span>cw<span class="token punctuation">)</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">hasScroll</span><span class="token punctuation">(</span>ce<span class="token punctuation">)</span><span class="token operator">?</span>ce<span class="token punctuation">.</span>scrollHeight<span class="token operator">:</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>parentData<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">element</span><span class="token operator">:</span>ce<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>co<span class="token punctuation">.</span>left<span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>co<span class="token punctuation">.</span>top<span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>width<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>height<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">resize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ps<span class="token operator">=</span>self<span class="token punctuation">.</span>containerSize<span class="token punctuation">,</span>co<span class="token operator">=</span>self<span class="token punctuation">.</span>containerOffset<span class="token punctuation">,</span>cs<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">,</span>cp<span class="token operator">=</span>self<span class="token punctuation">.</span>position<span class="token punctuation">,</span>pRatio<span class="token operator">=</span>o<span class="token punctuation">.</span>_aspectRatio<span class="token operator">||</span>e<span class="token punctuation">.</span>shiftKey<span class="token punctuation">,</span>cop<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>ce<span class="token operator">=</span>self<span class="token punctuation">.</span>containerElement<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ce<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>document<span class="token operator">&amp;&amp;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">static</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ce<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cop<span class="token operator">=</span>self<span class="token punctuation">.</span>containerPosition<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cp<span class="token punctuation">.</span>left<span class="token operator">&lt;</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span>co<span class="token punctuation">.</span>left<span class="token operator">:</span>cop<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">+</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span>co<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span>cop<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>pRatio<span class="token punctuation">)</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">*</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">;</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span>co<span class="token punctuation">.</span>left<span class="token operator">:</span>cop<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>cp<span class="token punctuation">.</span>top<span class="token operator">&lt;</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span>co<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">+</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">-</span>co<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">:</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>pRatio<span class="token punctuation">)</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">/</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">;</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span>co<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> woset<span class="token operator">=</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span>self<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>left<span class="token operator">-</span>co<span class="token punctuation">.</span>left<span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span>cop<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span>self<span class="token punctuation">.</span>sizeDiff<span class="token punctuation">.</span>width<span class="token punctuation">,</span>hoset<span class="token operator">=</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">?</span>self<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>top<span class="token operator">-</span>co<span class="token punctuation">.</span>top<span class="token operator">:</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">+</span>self<span class="token punctuation">.</span>sizeDiff<span class="token punctuation">.</span>height<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>woset<span class="token operator">+</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">>=</span>self<span class="token punctuation">.</span>parentData<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>self<span class="token punctuation">.</span>parentData<span class="token punctuation">.</span>width<span class="token operator">-</span>woset<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>pRatio<span class="token punctuation">)</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">*</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>hoset<span class="token operator">+</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">>=</span>self<span class="token punctuation">.</span>parentData<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>self<span class="token punctuation">.</span>parentData<span class="token punctuation">.</span>height<span class="token operator">-</span>hoset<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>pRatio<span class="token punctuation">)</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">/</span>o<span class="token punctuation">.</span>aspectRatio<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cp<span class="token operator">=</span>self<span class="token punctuation">.</span>position<span class="token punctuation">,</span>co<span class="token operator">=</span>self<span class="token punctuation">.</span>containerOffset<span class="token punctuation">,</span>cop<span class="token operator">=</span>self<span class="token punctuation">.</span>containerPosition<span class="token punctuation">,</span>ce<span class="token operator">=</span>self<span class="token punctuation">.</span>containerElement<span class="token punctuation">;</span><span class="token keyword">var</span> helper<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">,</span>ho<span class="token operator">=</span>helper<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>w<span class="token operator">=</span>helper<span class="token punctuation">.</span><span class="token function">innerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>h<span class="token operator">=</span>helper<span class="token punctuation">.</span><span class="token function">innerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>animate<span class="token operator">&amp;&amp;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">relative</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ce<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token punctuation">(</span>ho<span class="token punctuation">.</span>left<span class="token operator">-</span>co<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token punctuation">(</span>ho<span class="token punctuation">.</span>top<span class="token operator">-</span>co<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>w<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>h<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>helper<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>animate<span class="token operator">&amp;&amp;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">static</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ce<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>cop<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token punctuation">(</span>ho<span class="token punctuation">.</span>left<span class="token operator">-</span>co<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>cop<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token punctuation">(</span>ho<span class="token punctuation">.</span>top<span class="token operator">-</span>co<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>w<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>h<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">,</span><span class="token string">"grid"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">resize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cs<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">,</span>os<span class="token operator">=</span>self<span class="token punctuation">.</span>originalSize<span class="token punctuation">,</span>op<span class="token operator">=</span>self<span class="token punctuation">.</span>originalPosition<span class="token punctuation">,</span>a<span class="token operator">=</span>self<span class="token punctuation">.</span>axis<span class="token punctuation">,</span>ratio<span class="token operator">=</span>o<span class="token punctuation">.</span>_aspectRatio<span class="token operator">||</span>e<span class="token punctuation">.</span>shiftKey<span class="token punctuation">;</span>o<span class="token punctuation">.</span>grid<span class="token operator">=</span><span class="token keyword">typeof</span> o<span class="token punctuation">.</span>grid<span class="token operator">==</span><span class="token string">"number"</span><span class="token operator">?</span><span class="token punctuation">[</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">,</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">]</span><span class="token operator">:</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">;</span><span class="token keyword">var</span> ox<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cs<span class="token punctuation">.</span>width<span class="token operator">-</span>os<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>oy<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cs<span class="token punctuation">.</span>height<span class="token operator">-</span>os<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>grid<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(se|s|e)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>os<span class="token punctuation">.</span>width<span class="token operator">+</span>ox<span class="token punctuation">;</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>os<span class="token punctuation">.</span>height<span class="token operator">+</span>oy<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(ne)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>os<span class="token punctuation">.</span>width<span class="token operator">+</span>ox<span class="token punctuation">;</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>os<span class="token punctuation">.</span>height<span class="token operator">+</span>oy<span class="token punctuation">;</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>op<span class="token punctuation">.</span>top<span class="token operator">-</span>oy<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(sw)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>os<span class="token punctuation">.</span>width<span class="token operator">+</span>ox<span class="token punctuation">;</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>os<span class="token punctuation">.</span>height<span class="token operator">+</span>oy<span class="token punctuation">;</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>op<span class="token punctuation">.</span>left<span class="token operator">-</span>ox<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">=</span>os<span class="token punctuation">.</span>width<span class="token operator">+</span>ox<span class="token punctuation">;</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">=</span>os<span class="token punctuation">.</span>height<span class="token operator">+</span>oy<span class="token punctuation">;</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">=</span>op<span class="token punctuation">.</span>top<span class="token operator">-</span>oy<span class="token punctuation">;</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">=</span>op<span class="token punctuation">.</span>left<span class="token operator">-</span>ox<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">,</span><span class="token string">"animate"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> pr<span class="token operator">=</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">,</span>ista<span class="token operator">=</span>pr<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">textarea</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">,</span>soffseth<span class="token operator">=</span>ista<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">hasScroll</span><span class="token punctuation">(</span>pr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>self<span class="token punctuation">.</span>sizeDiff<span class="token punctuation">.</span>height<span class="token punctuation">,</span>soffsetw<span class="token operator">=</span>ista<span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>self<span class="token punctuation">.</span>sizeDiff<span class="token punctuation">.</span>width<span class="token punctuation">;</span><span class="token keyword">var</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">-</span>soffsetw<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">-</span>soffseth<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>left<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span>self<span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">null</span><span class="token punctuation">,</span>top<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">-</span>self<span class="token punctuation">.</span>originalPosition<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">null</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>style<span class="token punctuation">,</span>top<span class="token operator">&amp;&amp;</span>left<span class="token operator">?</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>top<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>left<span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span>o<span class="token punctuation">.</span>animateDuration<span class="token operator">||</span><span class="token string">"slow"</span><span class="token punctuation">,</span><span class="token literal-property property">easing</span><span class="token operator">:</span>o<span class="token punctuation">.</span>animateEasing<span class="token operator">||</span><span class="token string">"swing"</span><span class="token punctuation">,</span><span class="token function-variable function">step</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>pr<span class="token punctuation">)</span>pr<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>data<span class="token punctuation">.</span>width<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>data<span class="token punctuation">.</span>height<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span><span class="token function">_updateCache</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span><span class="token function">propagate</span><span class="token punctuation">(</span><span class="token string">"animate"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">,</span><span class="token string">"ghost"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pr<span class="token operator">=</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">,</span>cs<span class="token operator">=</span>self<span class="token punctuation">.</span>size<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pr<span class="token punctuation">)</span>self<span class="token punctuation">.</span>ghost<span class="token operator">=</span>self<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> self<span class="token punctuation">.</span>ghost<span class="token operator">=</span>pr<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>ghost<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">.25</span><span class="token punctuation">,</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">'block'</span><span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'relative'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>cs<span class="token punctuation">.</span>height<span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>cs<span class="token punctuation">.</span>width<span class="token punctuation">,</span><span class="token literal-property property">margin</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-resizable-ghost'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> o<span class="token punctuation">.</span>ghost<span class="token operator">==</span><span class="token string">'string'</span><span class="token operator">?</span>o<span class="token punctuation">.</span>ghost<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>ghost<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>helper<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">resize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pr<span class="token operator">=</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>ghost<span class="token punctuation">)</span>self<span class="token punctuation">.</span>ghost<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'relative'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pr<span class="token operator">=</span>o<span class="token punctuation">.</span>proportionallyResize<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>ghost<span class="token operator">&amp;&amp;</span>self<span class="token punctuation">.</span>helper<span class="token punctuation">)</span>self<span class="token punctuation">.</span>helper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>ghost<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">,</span><span class="token string">"alsoResize"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function-variable function">_store</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exp</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable-alsoresize"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>o<span class="token punctuation">.</span>alsoResize<span class="token operator">=</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">_store</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exp<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">_store</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token function">_store</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">resize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span>ui<span class="token punctuation">.</span>options<span class="token punctuation">,</span>self<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>os<span class="token operator">=</span>self<span class="token punctuation">.</span>originalSize<span class="token punctuation">,</span>op<span class="token operator">=</span>self<span class="token punctuation">.</span>originalPosition<span class="token punctuation">;</span><span class="token keyword">var</span> delta<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token operator">-</span>os<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token operator">-</span>os<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>top<span class="token operator">-</span>op<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>left<span class="token operator">-</span>op<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_alsoResize</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exp<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> start<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"resizable-alsoresize"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>css<span class="token operator">=</span>c<span class="token operator">&amp;&amp;</span>c<span class="token punctuation">.</span>length<span class="token operator">?</span>c<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'width'</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">,</span><span class="token string">'top'</span><span class="token punctuation">,</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>css<span class="token operator">||</span><span class="token punctuation">[</span><span class="token string">'width'</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">,</span><span class="token string">'top'</span><span class="token punctuation">,</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span>prop</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>delta<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&amp;&amp;</span>sum<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span>
style<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token operator">=</span>sum<span class="token operator">||</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exp<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">_alsoResize</span><span class="token punctuation">(</span>exp<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token function">_alsoResize</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>alsoResize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">"resizable-alsoresize-start"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> setDataSwitch<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">dragStart</span><span class="token operator">:</span><span class="token string">"start.draggable"</span><span class="token punctuation">,</span><span class="token literal-property property">drag</span><span class="token operator">:</span><span class="token string">"drag.draggable"</span><span class="token punctuation">,</span><span class="token literal-property property">dragStop</span><span class="token operator">:</span><span class="token string">"stop.draggable"</span><span class="token punctuation">,</span><span class="token literal-property property">maxHeight</span><span class="token operator">:</span><span class="token string">"maxHeight.resizable"</span><span class="token punctuation">,</span><span class="token literal-property property">minHeight</span><span class="token operator">:</span><span class="token string">"minHeight.resizable"</span><span class="token punctuation">,</span><span class="token literal-property property">maxWidth</span><span class="token operator">:</span><span class="token string">"maxWidth.resizable"</span><span class="token punctuation">,</span><span class="token literal-property property">minWidth</span><span class="token operator">:</span><span class="token string">"minWidth.resizable"</span><span class="token punctuation">,</span><span class="token literal-property property">resizeStart</span><span class="token operator">:</span><span class="token string">"start.resizable"</span><span class="token punctuation">,</span><span class="token literal-property property">resize</span><span class="token operator">:</span><span class="token string">"drag.resizable"</span><span class="token punctuation">,</span><span class="token literal-property property">resizeStop</span><span class="token operator">:</span><span class="token string">"stop.resizable"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token string">"ui.dialog"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">init</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>options<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>resizeHandles<span class="token operator">=</span><span class="token keyword">typeof</span> options<span class="token punctuation">.</span>resizable<span class="token operator">==</span><span class="token string">'string'</span><span class="token operator">?</span>options<span class="token punctuation">.</span>resizable<span class="token operator">:</span><span class="token string">'n,e,s,w,se,sw,ne,nw'</span><span class="token punctuation">,</span>uiDialogContent<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">'&lt;div/>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">'&lt;div/>'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>uiDialogContainer<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogContainer<span class="token operator">=</span>uiDialogContent<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-container'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'relative'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'100%'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>title<span class="token operator">=</span>options<span class="token punctuation">.</span>title<span class="token operator">||</span>uiDialogContent<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">''</span><span class="token punctuation">,</span>uiDialogTitlebar<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebar<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="ui-dialog-titlebar"/>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'&lt;span class="ui-dialog-title">'</span><span class="token operator">+</span>title<span class="token operator">+</span><span class="token string">'&lt;/span>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'&lt;a href="#" class="ui-dialog-titlebar-close">&lt;span>X&lt;/span>&lt;/a>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prependTo</span><span class="token punctuation">(</span>uiDialogContainer<span class="token punctuation">)</span><span class="token punctuation">,</span>uiDialog<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token operator">=</span>uiDialogContainer<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>dialogClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>uiDialogContent<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'className'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>options<span class="token punctuation">.</span>height<span class="token punctuation">,</span><span class="token literal-property property">overflow</span><span class="token operator">:</span><span class="token string">'hidden'</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span>options<span class="token punctuation">.</span>zIndex<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'tabIndex'</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'outline'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keydown</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>closeOnEscape<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> <span class="token constant">ESC</span><span class="token operator">=</span><span class="token number">27</span><span class="token punctuation">;</span><span class="token punctuation">(</span>ev<span class="token punctuation">.</span>keyCode<span class="token operator">&amp;&amp;</span>ev<span class="token punctuation">.</span>keyCode<span class="token operator">==</span><span class="token constant">ESC</span><span class="token operator">&amp;&amp;</span>self<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mousedown</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span><span class="token function">moveToTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>uiDialogButtonPane<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogButtonPane<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div/>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-buttonpane'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>uiDialog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebarClose<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-dialog-titlebar-close'</span><span class="token punctuation">,</span>uiDialogTitlebar<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-titlebar-close-hover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-titlebar-close-hover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mousedown</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ev<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebar<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">disableSelection</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>draggable<span class="token punctuation">)</span><span class="token punctuation">{</span>uiDialog<span class="token punctuation">.</span><span class="token function">draggable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">cancel</span><span class="token operator">:</span><span class="token string">'.ui-dialog-content'</span><span class="token punctuation">,</span><span class="token literal-property property">helper</span><span class="token operator">:</span>options<span class="token punctuation">.</span>dragHelper<span class="token punctuation">,</span><span class="token literal-property property">handle</span><span class="token operator">:</span><span class="token string">'.ui-dialog-titlebar'</span><span class="token punctuation">,</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span><span class="token function">moveToTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>dragStart<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span><span class="token function">dragStart</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">drag</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>drag<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span><span class="token function">drag</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>dragStop<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span><span class="token function">dragStop</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>draggable<span class="token operator">||</span>uiDialog<span class="token punctuation">.</span><span class="token function">draggable</span><span class="token punctuation">(</span><span class="token string">'disable'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>resizable<span class="token punctuation">)</span><span class="token punctuation">{</span>uiDialog<span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">cancel</span><span class="token operator">:</span><span class="token string">'.ui-dialog-content'</span><span class="token punctuation">,</span><span class="token literal-property property">helper</span><span class="token operator">:</span>options<span class="token punctuation">.</span>resizeHelper<span class="token punctuation">,</span><span class="token literal-property property">maxWidth</span><span class="token operator">:</span>options<span class="token punctuation">.</span>maxWidth<span class="token punctuation">,</span><span class="token literal-property property">maxHeight</span><span class="token operator">:</span>options<span class="token punctuation">.</span>maxHeight<span class="token punctuation">,</span><span class="token literal-property property">minWidth</span><span class="token operator">:</span>options<span class="token punctuation">.</span>minWidth<span class="token punctuation">,</span><span class="token literal-property property">minHeight</span><span class="token operator">:</span>options<span class="token punctuation">.</span>minHeight<span class="token punctuation">,</span><span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>resizeStart<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span><span class="token function">resizeStart</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">resize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>autoResize<span class="token operator">&amp;&amp;</span>self<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>resize<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">handles</span><span class="token operator">:</span>resizeHandles<span class="token punctuation">,</span><span class="token function-variable function">stop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>ui</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>autoResize<span class="token operator">&amp;&amp;</span>self<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>resizeStop<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span><span class="token function">resizeStop</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>resizable<span class="token operator">||</span>uiDialog<span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token string">'disable'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createButtons</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>isOpen<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>bgiframe<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>bgiframe<span class="token operator">&amp;&amp;</span>uiDialog<span class="token punctuation">.</span><span class="token function">bgiframe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>autoOpen<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">setData</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>setDataSwitch<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>setDataSwitch<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">switch</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">"buttons"</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createButtons</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"draggable"</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">draggable</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token string">'enable'</span><span class="token operator">:</span><span class="token string">'disable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"position"</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"resizable"</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value<span class="token operator">==</span><span class="token string">'string'</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'handles.resizable'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token string">'enable'</span><span class="token operator">:</span><span class="token string">'disable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"title"</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".ui-dialog-title"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebar<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"width"</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
$<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">position</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> wnd<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">,</span>doc<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">,</span>pTop<span class="token operator">=</span>doc<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pLeft<span class="token operator">=</span>doc<span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>minTop<span class="token operator">=</span>pTop<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'center'</span><span class="token punctuation">,</span><span class="token string">'top'</span><span class="token punctuation">,</span><span class="token string">'right'</span><span class="token punctuation">,</span><span class="token string">'bottom'</span><span class="token punctuation">,</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>pos<span class="token operator">=</span><span class="token punctuation">[</span>pos<span class="token operator">==</span><span class="token string">'right'</span><span class="token operator">||</span>pos<span class="token operator">==</span><span class="token string">'left'</span><span class="token operator">?</span>pos<span class="token operator">:</span><span class="token string">'center'</span><span class="token punctuation">,</span>pos<span class="token operator">==</span><span class="token string">'top'</span><span class="token operator">||</span>pos<span class="token operator">==</span><span class="token string">'bottom'</span><span class="token operator">?</span>pos<span class="token operator">:</span><span class="token string">'middle'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>constructor<span class="token operator">!=</span>Array<span class="token punctuation">)</span><span class="token punctuation">{</span>pos<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'center'</span><span class="token punctuation">,</span><span class="token string">'middle'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>constructor<span class="token operator">==</span>Number<span class="token punctuation">)</span><span class="token punctuation">{</span>pLeft<span class="token operator">+=</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">switch</span><span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">'left'</span><span class="token operator">:</span>pLeft<span class="token operator">+=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'right'</span><span class="token operator">:</span>pLeft<span class="token operator">+=</span>wnd<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'center'</span><span class="token operator">:</span>pLeft<span class="token operator">+=</span><span class="token punctuation">(</span>wnd<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>constructor<span class="token operator">==</span>Number<span class="token punctuation">)</span><span class="token punctuation">{</span>pTop<span class="token operator">+=</span>pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">switch</span><span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">'top'</span><span class="token operator">:</span>pTop<span class="token operator">+=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'bottom'</span><span class="token operator">:</span>pTop<span class="token operator">+=</span>wnd<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'middle'</span><span class="token operator">:</span>pTop<span class="token operator">+=</span><span class="token punctuation">(</span>wnd<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
pTop<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>pTop<span class="token punctuation">,</span>minTop<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span>pTop<span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>pLeft<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">size</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> container<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogContainer<span class="token punctuation">,</span>titlebar<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebar<span class="token punctuation">,</span>content<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">,</span>tbMargin<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'margin-top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">parseInt</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'margin-bottom'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lrMargin<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'margin-left'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">parseInt</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'margin-right'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>content<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>titlebar<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>tbMargin<span class="token punctuation">)</span><span class="token punctuation">;</span>content<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>lrMargin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">open</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isOpen<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>modal<span class="token operator">?</span><span class="token keyword">new</span> $<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>autoResize<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moveToTop</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> openEV<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> openUI<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogTitlebarClose<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"dialogopen"</span><span class="token punctuation">,</span><span class="token punctuation">[</span>openEV<span class="token punctuation">,</span>openUI<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>open<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>isOpen<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">moveToTop</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">force</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>modal<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>force<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>stack<span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>modal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"dialogfocus"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>focus<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> maxZ<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>zIndex<span class="token punctuation">,</span>options<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-dialog:visible'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>maxZ<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxZ<span class="token punctuation">,</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'z-index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">||</span>options<span class="token punctuation">.</span>zIndex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'z-index'</span><span class="token punctuation">,</span><span class="token operator">++</span>maxZ<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'z-index'</span><span class="token punctuation">,</span><span class="token operator">++</span>maxZ<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"dialogfocus"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>focus<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">close</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>hide<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> closeEV<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> closeUI<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">"dialogclose"</span><span class="token punctuation">,</span><span class="token punctuation">[</span>closeEV<span class="token punctuation">,</span>closeUI<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>close<span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>isOpen<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.dialog'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">'dialog'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialog<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">createButtons</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">buttons</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>hasButtons<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span>uiDialogButtonPane<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>uiDialogButtonPane<span class="token punctuation">;</span>uiDialogButtonPane<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>buttons<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token operator">!</span><span class="token punctuation">(</span>hasButtons<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasButtons<span class="token punctuation">)</span><span class="token punctuation">{</span>uiDialogButtonPane<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>buttons<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;button/>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>uiDialogButtonPane<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">defaults</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">autoOpen</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">autoResize</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">bgiframe</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">buttons</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">closeOnEscape</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">draggable</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token literal-property property">minHeight</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token literal-property property">minWidth</span><span class="token operator">:</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token literal-property property">modal</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">overlay</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'center'</span><span class="token punctuation">,</span><span class="token literal-property property">resizable</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">stack</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">overlay</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dialog</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token operator">=</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>dialog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">instances</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">events</span><span class="token operator">:</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">'focus,mousedown,mouseup,keydown,keypress,click'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> e<span class="token operator">+</span><span class="token string">'.dialog-overlay'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function-variable function">create</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dialog</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instances<span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a, :input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span>events<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> allow<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> $dialog<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">'.ui-dialog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$dialog<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $overlays<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-dialog-overlay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$overlays<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> maxZ<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>$overlays<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'z-index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$overlays<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>maxZ<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxZ<span class="token punctuation">,</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'z-index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>allow<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>$dialog<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'z-index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">></span>maxZ<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>allow<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> allow<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'keydown.dialog-overlay'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> <span class="token constant">ESC</span><span class="token operator">=</span><span class="token number">27</span><span class="token punctuation">;</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token operator">&amp;&amp;</span>e<span class="token punctuation">.</span>keyCode<span class="token operator">==</span><span class="token constant">ESC</span><span class="token operator">&amp;&amp;</span>dialog<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'resize.dialog-overlay'</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span>resize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> $el<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div/>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'ui-dialog-overlay'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">borderWidth</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">margin</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">padding</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>dialog<span class="token punctuation">.</span>options<span class="token punctuation">.</span>overlay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span>dialog<span class="token punctuation">.</span>options<span class="token punctuation">.</span>bgiframe<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>bgiframe<span class="token operator">&amp;&amp;</span>$el<span class="token punctuation">.</span><span class="token function">bgiframe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>instances<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>$el<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> $el<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$el</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>instances<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instances<span class="token punctuation">,</span>$el<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instances<span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a, :input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>document<span class="token punctuation">,</span>window<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.dialog-overlay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
$el<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">height</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> scrollHeight<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">,</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> offsetHeight<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">,</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>scrollHeight<span class="token operator">&lt;</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">return</span> scrollHeight<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">width</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> scrollWidth<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">,</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> offsetWidth<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">,</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>scrollWidth<span class="token operator">&lt;</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">return</span> scrollWidth<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">resize</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $overlays<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span>instances<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$overlays<span class="token operator">=</span>$overlays<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$overlays<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span>overlay<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token string">"ui.tabs"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">init</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>event<span class="token operator">+=</span><span class="token string">'.tabs'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">tabify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">setData</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^selected</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">tabify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">length</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">tabId</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>title<span class="token operator">&amp;&amp;</span>a<span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^A-Za-z0-9\-_:\.]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>idPrefix<span class="token operator">+</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">ui</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tab<span class="token punctuation">,</span>panel</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">options</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span><span class="token literal-property property">tab</span><span class="token operator">:</span>tab<span class="token punctuation">,</span><span class="token literal-property property">panel</span><span class="token operator">:</span>panel<span class="token punctuation">,</span><span class="token literal-property property">index</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>tab<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">tabify</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">init</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'li:has(a[href])'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span>a</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>hash<span class="token operator">&amp;&amp;</span>a<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>$panels<span class="token operator">=</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">'href.tabs'</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">'load.tabs'</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> id<span class="token operator">=</span>self<span class="token punctuation">.</span><span class="token function">tabId</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">'#'</span><span class="token operator">+</span>id<span class="token punctuation">;</span><span class="token keyword">var</span> $panel<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$panel<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>$panel<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>panelTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>panelClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insertAfter</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>$panel<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'destroy.tabs'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
self<span class="token punctuation">.</span>$panels<span class="token operator">=</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>$panel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span>
o<span class="token punctuation">.</span>disabled<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>navClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $<span class="token keyword">this</span><span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>panelClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token operator">===</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span>a</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>hash<span class="token operator">==</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">{</span>o<span class="token punctuation">.</span>selected<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">||</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>opera<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $toShow<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">,</span>toShowId<span class="token operator">=</span>$toShow<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$toShow<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$toShow<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span>toShowId<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> index<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">'ui-tabs'</span><span class="token operator">+</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">&amp;&amp;</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
o<span class="token punctuation">.</span>selected<span class="token operator">=</span>index<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
o<span class="token punctuation">.</span>selected<span class="token operator">=</span>self<span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
o<span class="token punctuation">.</span>selected<span class="token operator">=</span>o<span class="token punctuation">.</span>selected<span class="token operator">===</span><span class="token keyword">null</span><span class="token operator">||</span>o<span class="token punctuation">.</span>selected<span class="token operator">!==</span><span class="token keyword">undefined</span><span class="token operator">?</span>o<span class="token punctuation">.</span>selected<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>disabled<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span>o<span class="token punctuation">.</span>disabledClass<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">,</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
o<span class="token punctuation">.</span>disabled<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">,</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token operator">!==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">onShow</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsshow'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsshow'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">]</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'load.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">,</span>onShow<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'unload'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>$lis<span class="token operator">=</span>self<span class="token punctuation">.</span>$tabs<span class="token operator">=</span>self<span class="token punctuation">.</span>$panels<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>li<span class="token punctuation">;</span>li<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">[</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">$</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'addClass'</span><span class="token operator">:</span><span class="token string">'removeClass'</span><span class="token punctuation">]</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabledClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cache<span class="token operator">===</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">'cache.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> hideFx<span class="token punctuation">,</span>showFx<span class="token punctuation">,</span>baseFx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string-property property">'min-width'</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">duration</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>baseDuration<span class="token operator">=</span><span class="token string">'normal'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>fx<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Array<span class="token punctuation">)</span>
hideFx<span class="token operator">=</span>o<span class="token punctuation">.</span>fx<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">||</span>baseFx<span class="token punctuation">,</span>showFx<span class="token operator">=</span>o<span class="token punctuation">.</span>fx<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span>baseFx<span class="token punctuation">;</span><span class="token keyword">else</span>
hideFx<span class="token operator">=</span>showFx<span class="token operator">=</span>o<span class="token punctuation">.</span>fx<span class="token operator">||</span>baseFx<span class="token punctuation">;</span><span class="token keyword">var</span> resetCSS<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">overflow</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token punctuation">)</span>
resetCSS<span class="token punctuation">.</span>opacity<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">hideTab</span><span class="token punctuation">(</span><span class="token parameter">clicked<span class="token punctuation">,</span>$hide<span class="token punctuation">,</span>$show</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$hide<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>hideFx<span class="token punctuation">,</span>hideFx<span class="token punctuation">.</span>duration<span class="token operator">||</span>baseDuration<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$hide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>resetCSS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>hideFx<span class="token punctuation">.</span>opacity<span class="token punctuation">)</span>
$hide<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$show<span class="token punctuation">)</span>
<span class="token function">showTab</span><span class="token punctuation">(</span>clicked<span class="token punctuation">,</span>$show<span class="token punctuation">,</span>$hide<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">showTab</span><span class="token punctuation">(</span><span class="token parameter">clicked<span class="token punctuation">,</span>$show<span class="token punctuation">,</span>$hide</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>showFx<span class="token operator">===</span>baseFx<span class="token punctuation">)</span>
$show<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'display'</span><span class="token punctuation">,</span><span class="token string">'block'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$show<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>showFx<span class="token punctuation">,</span>showFx<span class="token punctuation">.</span>duration<span class="token operator">||</span>baseDuration<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$show<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>resetCSS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span>showFx<span class="token punctuation">.</span>opacity<span class="token punctuation">)</span>
$show<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsshow'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsshow'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span>clicked<span class="token punctuation">,</span>$show<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token parameter">clicked<span class="token punctuation">,</span>$li<span class="token punctuation">,</span>$hide<span class="token punctuation">,</span>$show</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">hideTab</span><span class="token punctuation">(</span>clicked<span class="token punctuation">,</span>$hide<span class="token punctuation">,</span>$show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>event<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $li<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">'li:eq(0)'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>$hide<span class="token operator">=</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">':visible'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>$show<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>o<span class="token punctuation">.</span>unselect<span class="token punctuation">)</span><span class="token operator">||</span>$li<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabledClass<span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>loadingClass<span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsselect'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsselect'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>$show<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>select<span class="token punctuation">)</span><span class="token operator">===</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
self<span class="token punctuation">.</span>options<span class="token punctuation">.</span>selected<span class="token operator">=</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>unselect<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>options<span class="token punctuation">.</span>selected<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>$li<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">hideTab</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>$hide<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$hide<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>unselectClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">showTab</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>$show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span>
$<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">'ui-tabs'</span><span class="token operator">+</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>options<span class="token punctuation">.</span>selected<span class="token punctuation">,</span>o<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$show<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>$hide<span class="token punctuation">.</span>length<span class="token operator">?</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">switchTab</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>$li<span class="token punctuation">,</span>$hide<span class="token punctuation">,</span>$show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">showTab</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>$show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span>
<span class="token keyword">throw</span><span class="token string">'jQuery UI Tabs: Mismatching fragment identifier.'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^click</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$tabs</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'click.tabs'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">add</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>label<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">==</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
index<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">var</span> $li<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>tabTemplate<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">#\{href\}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">#\{label\}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span>label<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$li<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'destroy.tabs'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> id<span class="token operator">=</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">?</span>url<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">tabId</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a:first-child'</span><span class="token punctuation">,</span>$li<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> $panel<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$panel<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>$panel<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>panelTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'destroy.tabs'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
$panel<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>panelClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">>=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>$panel<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$panel<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
o<span class="token punctuation">.</span>disabled<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> n<span class="token operator">>=</span>index<span class="token operator">?</span><span class="token operator">++</span>n<span class="token operator">:</span>n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">tabify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token punctuation">;</span>$panel<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> href<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'load.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsadd'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsadd'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">remove</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>$li<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>$panel<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span>length<span class="token operator">?</span><span class="token number">1</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>disabled<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> n<span class="token operator">!=</span>index<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> n<span class="token operator">>=</span>index<span class="token operator">?</span><span class="token operator">--</span>n<span class="token operator">:</span>n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">tabify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsremove'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsremove'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>$panel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>remove<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">enable</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> $li<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabledClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>safari<span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'display'</span><span class="token punctuation">,</span><span class="token string">'inline-block'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$li<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'display'</span><span class="token punctuation">,</span><span class="token string">'block'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
o<span class="token punctuation">.</span>disabled<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> n<span class="token operator">!=</span>index<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsenable'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsenable'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>enable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">disable</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">!=</span>o<span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>disabledClass<span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>disabled<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsdisable'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsdisable'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>disable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">select</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> index<span class="token operator">==</span><span class="token string">'string'</span><span class="token punctuation">)</span>
index<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'[href$='</span><span class="token operator">+</span>index<span class="token operator">+</span><span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">load</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span>callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>$a<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token operator">=</span>$a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>bypassCache<span class="token operator">=</span>callback<span class="token operator">==</span><span class="token keyword">undefined</span><span class="token operator">||</span>callback<span class="token operator">===</span><span class="token boolean">false</span><span class="token punctuation">,</span>url<span class="token operator">=</span>$a<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'load.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>callback<span class="token operator">=</span>callback<span class="token operator">||</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>url<span class="token operator">||</span><span class="token operator">!</span>bypassCache<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">'cache.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">inner</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">parent</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> $parent<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>$inner<span class="token operator">=</span>$parent<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'*:last'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> $inner<span class="token punctuation">.</span>length<span class="token operator">&amp;&amp;</span>$inner<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">':not(img)'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>$inner<span class="token operator">||</span>$parent<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">cleanup</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span>o<span class="token punctuation">.</span>loadingClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>loadingClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>spinner<span class="token punctuation">)</span>
<span class="token function">inner</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token function">inner</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'label.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span>xhr<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>spinner<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> label<span class="token operator">=</span><span class="token function">inner</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">inner</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrapInner</span><span class="token punctuation">(</span><span class="token string">'&lt;em>&lt;/em>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'em'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'label.tabs'</span><span class="token punctuation">,</span>label<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>spinner<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> ajaxOptions<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>ajaxOptions<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span>url<span class="token punctuation">,</span><span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span>s</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>cache<span class="token punctuation">)</span>
$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">'cache.tabs'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span><span class="token string">'tabsload'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span><span class="token function">fakeEvent</span><span class="token punctuation">(</span><span class="token string">'tabsload'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>$panels<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>load<span class="token punctuation">)</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>ajaxOptions<span class="token punctuation">.</span>success<span class="token operator">&amp;&amp;</span>o<span class="token punctuation">.</span>ajaxOptions<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>xhr<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>xhr<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
$a<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>loadingClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>xhr<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span>ajaxOptions<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">url</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span>url</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">'cache.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'load.tabs'</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">destroy</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> o<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>navClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">'tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> href<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">'href.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>href<span class="token operator">=</span>href<span class="token punctuation">;</span><span class="token keyword">var</span> $<span class="token keyword">this</span><span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">,</span><span class="token string">'load'</span><span class="token punctuation">,</span><span class="token string">'cache'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span>prefix</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span>prefix<span class="token operator">+</span><span class="token string">'.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$lis<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$panels<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">'destroy.tabs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token punctuation">[</span>o<span class="token punctuation">.</span>selectedClass<span class="token punctuation">,</span>o<span class="token punctuation">.</span>unselectClass<span class="token punctuation">,</span>o<span class="token punctuation">.</span>disabledClass<span class="token punctuation">,</span>o<span class="token punctuation">.</span>panelClass<span class="token punctuation">,</span>o<span class="token punctuation">.</span>hideClass<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">fakeEvent</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">fix</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span>type<span class="token punctuation">,</span><span class="token literal-property property">target</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span>defaults<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">unselect</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">event</span><span class="token operator">:</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token literal-property property">disabled</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">cookie</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">spinner</span><span class="token operator">:</span><span class="token string">'Loading&amp;#8230;'</span><span class="token punctuation">,</span><span class="token literal-property property">cache</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">idPrefix</span><span class="token operator">:</span><span class="token string">'ui-tabs-'</span><span class="token punctuation">,</span><span class="token literal-property property">ajaxOptions</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">fx</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">tabTemplate</span><span class="token operator">:</span><span class="token string">'&lt;li>&lt;a href="#{href}">&lt;span>#{label}&lt;/span>&lt;/a>&lt;/li>'</span><span class="token punctuation">,</span><span class="token literal-property property">panelTemplate</span><span class="token operator">:</span><span class="token string">'&lt;div>&lt;/div>'</span><span class="token punctuation">,</span><span class="token literal-property property">navClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-nav'</span><span class="token punctuation">,</span><span class="token literal-property property">selectedClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-selected'</span><span class="token punctuation">,</span><span class="token literal-property property">unselectClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-unselect'</span><span class="token punctuation">,</span><span class="token literal-property property">disabledClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-disabled'</span><span class="token punctuation">,</span><span class="token literal-property property">panelClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-panel'</span><span class="token punctuation">,</span><span class="token literal-property property">hideClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-hide'</span><span class="token punctuation">,</span><span class="token literal-property property">loadingClass</span><span class="token operator">:</span><span class="token string">'ui-tabs-loading'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span>getter<span class="token operator">=</span><span class="token string">"length"</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">rotation</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token function-variable function">rotate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ms<span class="token punctuation">,</span>continuing</span><span class="token punctuation">)</span><span class="token punctuation">{</span>continuing<span class="token operator">=</span>continuing<span class="token operator">||</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>t<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>selected<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>self<span class="token punctuation">.</span>rotation<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>t<span class="token operator">=</span><span class="token operator">++</span>t<span class="token operator">&lt;</span>self<span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span>length<span class="token operator">?</span>t<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>self<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>ms<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token operator">||</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>rotation<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>continuing<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$tabs</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>event<span class="token punctuation">,</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$tabs</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>event<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>t<span class="token operator">=</span>self<span class="token punctuation">.</span>options<span class="token punctuation">.</span>selected<span class="token punctuation">;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$tabs<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>event<span class="token punctuation">,</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> <span class="token constant">PROP_NAME</span><span class="token operator">=</span><span class="token string">'datepicker'</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Datepicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>debug<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_curInst<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_datepickerShowing<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_inDialog<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mainDivId<span class="token operator">=</span><span class="token string">'ui-datepicker-div'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_appendClass<span class="token operator">=</span><span class="token string">'ui-datepicker-append'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token operator">=</span><span class="token string">'ui-datepicker-trigger'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogClass<span class="token operator">=</span><span class="token string">'ui-datepicker-dialog'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_promptClass<span class="token operator">=</span><span class="token string">'ui-datepicker-prompt'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_unselectableClass<span class="token operator">=</span><span class="token string">'ui-datepicker-unselectable'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_currentClass<span class="token operator">=</span><span class="token string">'ui-datepicker-current-day'</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>regional<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>regional<span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">clearText</span><span class="token operator">:</span><span class="token string">'Clear'</span><span class="token punctuation">,</span><span class="token literal-property property">clearStatus</span><span class="token operator">:</span><span class="token string">'Erase the current date'</span><span class="token punctuation">,</span><span class="token literal-property property">closeText</span><span class="token operator">:</span><span class="token string">'Close'</span><span class="token punctuation">,</span><span class="token literal-property property">closeStatus</span><span class="token operator">:</span><span class="token string">'Close without change'</span><span class="token punctuation">,</span><span class="token literal-property property">prevText</span><span class="token operator">:</span><span class="token string">'&amp;#x3c;Prev'</span><span class="token punctuation">,</span><span class="token literal-property property">prevStatus</span><span class="token operator">:</span><span class="token string">'Show the previous month'</span><span class="token punctuation">,</span><span class="token literal-property property">nextText</span><span class="token operator">:</span><span class="token string">'Next&amp;#x3e;'</span><span class="token punctuation">,</span><span class="token literal-property property">nextStatus</span><span class="token operator">:</span><span class="token string">'Show the next month'</span><span class="token punctuation">,</span><span class="token literal-property property">currentText</span><span class="token operator">:</span><span class="token string">'Today'</span><span class="token punctuation">,</span><span class="token literal-property property">currentStatus</span><span class="token operator">:</span><span class="token string">'Show the current month'</span><span class="token punctuation">,</span><span class="token literal-property property">monthNames</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'January'</span><span class="token punctuation">,</span><span class="token string">'February'</span><span class="token punctuation">,</span><span class="token string">'March'</span><span class="token punctuation">,</span><span class="token string">'April'</span><span class="token punctuation">,</span><span class="token string">'May'</span><span class="token punctuation">,</span><span class="token string">'June'</span><span class="token punctuation">,</span><span class="token string">'July'</span><span class="token punctuation">,</span><span class="token string">'August'</span><span class="token punctuation">,</span><span class="token string">'September'</span><span class="token punctuation">,</span><span class="token string">'October'</span><span class="token punctuation">,</span><span class="token string">'November'</span><span class="token punctuation">,</span><span class="token string">'December'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">monthNamesShort</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'Jan'</span><span class="token punctuation">,</span><span class="token string">'Feb'</span><span class="token punctuation">,</span><span class="token string">'Mar'</span><span class="token punctuation">,</span><span class="token string">'Apr'</span><span class="token punctuation">,</span><span class="token string">'May'</span><span class="token punctuation">,</span><span class="token string">'Jun'</span><span class="token punctuation">,</span><span class="token string">'Jul'</span><span class="token punctuation">,</span><span class="token string">'Aug'</span><span class="token punctuation">,</span><span class="token string">'Sep'</span><span class="token punctuation">,</span><span class="token string">'Oct'</span><span class="token punctuation">,</span><span class="token string">'Nov'</span><span class="token punctuation">,</span><span class="token string">'Dec'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">monthStatus</span><span class="token operator">:</span><span class="token string">'Show a different month'</span><span class="token punctuation">,</span><span class="token literal-property property">yearStatus</span><span class="token operator">:</span><span class="token string">'Show a different year'</span><span class="token punctuation">,</span><span class="token literal-property property">weekHeader</span><span class="token operator">:</span><span class="token string">'Wk'</span><span class="token punctuation">,</span><span class="token literal-property property">weekStatus</span><span class="token operator">:</span><span class="token string">'Week of the year'</span><span class="token punctuation">,</span><span class="token literal-property property">dayNames</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'Sunday'</span><span class="token punctuation">,</span><span class="token string">'Monday'</span><span class="token punctuation">,</span><span class="token string">'Tuesday'</span><span class="token punctuation">,</span><span class="token string">'Wednesday'</span><span class="token punctuation">,</span><span class="token string">'Thursday'</span><span class="token punctuation">,</span><span class="token string">'Friday'</span><span class="token punctuation">,</span><span class="token string">'Saturday'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">dayNamesShort</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Mon'</span><span class="token punctuation">,</span><span class="token string">'Tue'</span><span class="token punctuation">,</span><span class="token string">'Wed'</span><span class="token punctuation">,</span><span class="token string">'Thu'</span><span class="token punctuation">,</span><span class="token string">'Fri'</span><span class="token punctuation">,</span><span class="token string">'Sat'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">dayNamesMin</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'Su'</span><span class="token punctuation">,</span><span class="token string">'Mo'</span><span class="token punctuation">,</span><span class="token string">'Tu'</span><span class="token punctuation">,</span><span class="token string">'We'</span><span class="token punctuation">,</span><span class="token string">'Th'</span><span class="token punctuation">,</span><span class="token string">'Fr'</span><span class="token punctuation">,</span><span class="token string">'Sa'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">dayStatus</span><span class="token operator">:</span><span class="token string">'Set DD as first week day'</span><span class="token punctuation">,</span><span class="token literal-property property">dateStatus</span><span class="token operator">:</span><span class="token string">'Select DD, M d'</span><span class="token punctuation">,</span><span class="token literal-property property">dateFormat</span><span class="token operator">:</span><span class="token string">'mm/dd/yy'</span><span class="token punctuation">,</span><span class="token literal-property property">firstDay</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">initStatus</span><span class="token operator">:</span><span class="token string">'Select a date'</span><span class="token punctuation">,</span><span class="token literal-property property">isRTL</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">showOn</span><span class="token operator">:</span><span class="token string">'focus'</span><span class="token punctuation">,</span><span class="token literal-property property">showAnim</span><span class="token operator">:</span><span class="token string">'show'</span><span class="token punctuation">,</span><span class="token literal-property property">showOptions</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">defaultDate</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">appendText</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">buttonText</span><span class="token operator">:</span><span class="token string">'...'</span><span class="token punctuation">,</span><span class="token literal-property property">buttonImage</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">buttonImageOnly</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">closeAtTop</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">mandatory</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">hideIfNoPrevNext</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">navigationAsDateFormat</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">gotoCurrent</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">changeMonth</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">changeYear</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">yearRange</span><span class="token operator">:</span><span class="token string">'-10:+10'</span><span class="token punctuation">,</span><span class="token literal-property property">changeFirstDay</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">highlightWeek</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">showOtherMonths</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">showWeeks</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">calculateWeek</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>iso8601Week<span class="token punctuation">,</span><span class="token literal-property property">shortYearCutoff</span><span class="token operator">:</span><span class="token string">'+10'</span><span class="token punctuation">,</span><span class="token literal-property property">showStatus</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">statusForDate</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>dateStatus<span class="token punctuation">,</span><span class="token literal-property property">minDate</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">maxDate</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">duration</span><span class="token operator">:</span><span class="token string">'normal'</span><span class="token punctuation">,</span><span class="token literal-property property">beforeShowDay</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">beforeShow</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">onSelect</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">onChangeMonthYear</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">onClose</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token literal-property property">numberOfMonths</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">stepMonths</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">rangeSelect</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">rangeSeparator</span><span class="token operator">:</span><span class="token string">' - '</span><span class="token punctuation">,</span><span class="token literal-property property">altField</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">altFormat</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>regional<span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>dpDiv<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div id="'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_mainDivId<span class="token operator">+</span><span class="token string">'" style="display: none;">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token class-name">Datepicker</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">markerClassName</span><span class="token operator">:</span><span class="token string">'hasDatepicker'</span><span class="token punctuation">,</span><span class="token function-variable function">log</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>debug<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">setDefaults</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">settings</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">extendRemove</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">,</span>settings<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_attachDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>settings</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inlineSettings<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>attrName <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> attrValue<span class="token operator">=</span>target<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'date:'</span><span class="token operator">+</span>attrName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>attrValue<span class="token punctuation">)</span><span class="token punctuation">{</span>inlineSettings<span class="token operator">=</span>inlineSettings<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">try</span><span class="token punctuation">{</span>inlineSettings<span class="token punctuation">[</span>attrName<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">eval</span><span class="token punctuation">(</span>attrValue<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>inlineSettings<span class="token punctuation">[</span>attrName<span class="token punctuation">]</span><span class="token operator">=</span>attrValue<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> nodeName<span class="token operator">=</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inline<span class="token operator">=</span><span class="token punctuation">(</span>nodeName<span class="token operator">==</span><span class="token string">'div'</span><span class="token operator">||</span>nodeName<span class="token operator">==</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
target<span class="token punctuation">.</span>id<span class="token operator">=</span><span class="token string">'dp'</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_newInst</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">,</span>inline<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>settings<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>settings<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>inlineSettings<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>nodeName<span class="token operator">==</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_connectDatepicker</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>inline<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_inlineDatepicker</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_newInst</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>inline</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token literal-property property">input</span><span class="token operator">:</span>target<span class="token punctuation">,</span><span class="token literal-property property">selectedDay</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">selectedMonth</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">selectedYear</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">drawMonth</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">drawYear</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">inline</span><span class="token operator">:</span>inline<span class="token punctuation">,</span><span class="token literal-property property">dpDiv</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token operator">!</span>inline<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span>dpDiv<span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="ui-datepicker-inline">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_connectDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> input<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> appendText<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'appendText'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> isRTL<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'isRTL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>appendText<span class="token punctuation">)</span>
input<span class="token punctuation">[</span>isRTL<span class="token operator">?</span><span class="token string">'before'</span><span class="token operator">:</span><span class="token string">'after'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'&lt;span class="'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_appendClass<span class="token operator">+</span><span class="token string">'">'</span><span class="token operator">+</span>appendText<span class="token operator">+</span><span class="token string">'&lt;/span>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> showOn<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showOn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>showOn<span class="token operator">==</span><span class="token string">'focus'</span><span class="token operator">||</span>showOn<span class="token operator">==</span><span class="token string">'both'</span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_showDatepicker<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>showOn<span class="token operator">==</span><span class="token string">'button'</span><span class="token operator">||</span>showOn<span class="token operator">==</span><span class="token string">'both'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> buttonText<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'buttonText'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> buttonImage<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'buttonImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> trigger<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'buttonImageOnly'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;img/>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">src</span><span class="token operator">:</span>buttonImage<span class="token punctuation">,</span><span class="token literal-property property">alt</span><span class="token operator">:</span>buttonText<span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span>buttonText<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;button type="button">&lt;/button>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>buttonImage<span class="token operator">==</span><span class="token string">''</span><span class="token operator">?</span>buttonText<span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;img/>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">src</span><span class="token operator">:</span>buttonImage<span class="token punctuation">,</span><span class="token literal-property property">alt</span><span class="token operator">:</span>buttonText<span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span>buttonText<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>input<span class="token punctuation">[</span>isRTL<span class="token operator">?</span><span class="token string">'before'</span><span class="token operator">:</span><span class="token string">'after'</span><span class="token punctuation">]</span><span class="token punctuation">(</span>trigger<span class="token punctuation">)</span><span class="token punctuation">;</span>trigger<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_datepickerShowing<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_lastInput<span class="token operator">==</span>target<span class="token punctuation">)</span>
$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_hideDatepicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_showDatepicker</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
input<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keydown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_doKeyDown<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keypress</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_doKeyPress<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">"setData.datepicker"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span>key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">"getData.datepicker"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_inlineDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> input<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span>input<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">"setData.datepicker"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span>key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">"getData.datepicker"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_setDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDefaultDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_inlineShow</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> numMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getNumberOfMonths</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span>numMonths<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-datepicker'</span><span class="token punctuation">,</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_dialogDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span>dateText<span class="token punctuation">,</span>onSelect<span class="token punctuation">,</span>settings<span class="token punctuation">,</span>pos</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInst<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> id<span class="token operator">=</span><span class="token string">'dp'</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;input type="text" id="'</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">'" size="1" style="position: absolute; top: -100px;"/>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">.</span><span class="token function">keydown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_doKeyDown<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInst<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_newInst</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>settings<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token function">extendRemove</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">,</span>settings<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>dateText<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_pos<span class="token operator">=</span><span class="token punctuation">(</span>pos<span class="token operator">?</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>length<span class="token operator">?</span>pos<span class="token operator">:</span><span class="token punctuation">[</span>pos<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span>pos<span class="token punctuation">.</span>pageY<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_pos<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> browserWidth<span class="token operator">=</span>window<span class="token punctuation">.</span>innerWidth<span class="token operator">||</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span><span class="token keyword">var</span> browserHeight<span class="token operator">=</span>window<span class="token punctuation">.</span>innerHeight<span class="token operator">||</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span><span class="token keyword">var</span> scrollX<span class="token operator">=</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft<span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span><span class="token keyword">var</span> scrollY<span class="token operator">=</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_pos<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span>browserWidth<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">100</span><span class="token operator">+</span>scrollX<span class="token punctuation">,</span><span class="token punctuation">(</span>browserHeight<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">150</span><span class="token operator">+</span>scrollY<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>onSelect<span class="token operator">=</span>onSelect<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_inDialog<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_showDatepicker</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>blockUI<span class="token punctuation">)</span>
$<span class="token punctuation">.</span><span class="token function">blockUI</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dpDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">,</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_destroyDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> nodeName<span class="token operator">=</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> $target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>nodeName<span class="token operator">==</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$target<span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_appendClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_showDatepicker<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_doKeyDown<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_doKeyPress<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>nodeName<span class="token operator">==</span><span class="token string">'div'</span><span class="token operator">||</span>nodeName<span class="token operator">==</span><span class="token string">'span'</span><span class="token punctuation">)</span>
$target<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_enableDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span><span class="token punctuation">{</span>target<span class="token punctuation">.</span>disabled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token string">'button.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>disabled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token string">'img.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token string">'1.0'</span><span class="token punctuation">,</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span>value<span class="token operator">==</span>target<span class="token operator">?</span><span class="token keyword">null</span><span class="token operator">:</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_disableDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span><span class="token punctuation">{</span>target<span class="token punctuation">.</span>disabled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token string">'button.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>disabled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token string">'img.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token string">'0.5'</span><span class="token punctuation">,</span><span class="token literal-property property">cursor</span><span class="token operator">:</span><span class="token string">'default'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span>value<span class="token operator">==</span>target<span class="token operator">?</span><span class="token keyword">null</span><span class="token operator">:</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token operator">=</span>target<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_isDisabledDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>target<span class="token punctuation">)</span>
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_disabledInputs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">)</span>
<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_changeDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>name<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> settings<span class="token operator">=</span>name<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> name<span class="token operator">==</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>settings<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>settings<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">extendRemove</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">,</span>settings<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_setDateDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>date<span class="token punctuation">,</span>endDate</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_setDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>date<span class="token punctuation">,</span>endDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getDateDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_setDateFromField</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span>inst<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_doKeyDown</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> handled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_datepickerShowing<span class="token punctuation">)</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_hideDatepicker</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">13</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_selectDay</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>selectedYear<span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'td.ui-datepicker-days-cell-over'</span><span class="token punctuation">,</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">27</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_hideDatepicker</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'duration'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">33</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token operator">?</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span><span class="token operator">-</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'stepMonths'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token operator">?</span><span class="token string">'Y'</span><span class="token operator">:</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">34</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token operator">?</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">:</span><span class="token operator">+</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'stepMonths'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token operator">?</span><span class="token string">'Y'</span><span class="token operator">:</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">35</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_clearDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">36</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_gotoToday</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">37</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">38</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">39</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">40</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">default</span><span class="token operator">:</span>handled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token operator">==</span><span class="token number">36</span><span class="token operator">&amp;&amp;</span>e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>
$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_showDatepicker</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
handled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>handled<span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_doKeyPress</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> chars<span class="token operator">=</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_possibleChars</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dateFormat'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> chr<span class="token operator">=</span>String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>charCode<span class="token operator">==</span><span class="token keyword">undefined</span><span class="token operator">?</span>e<span class="token punctuation">.</span>keyCode<span class="token operator">:</span>e<span class="token punctuation">.</span>charCode<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> e<span class="token punctuation">.</span>ctrlKey<span class="token operator">||</span><span class="token punctuation">(</span>chr<span class="token operator">&lt;</span><span class="token string">' '</span><span class="token operator">||</span><span class="token operator">!</span>chars<span class="token operator">||</span>chars<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>chr<span class="token punctuation">)</span><span class="token operator">></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_showDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span><span class="token punctuation">{</span>input<span class="token operator">=</span>input<span class="token punctuation">.</span>target<span class="token operator">||</span>input<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token string">'input'</span><span class="token punctuation">)</span>
input<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span>input<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_isDisabledDatepicker</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token operator">||</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_lastInput<span class="token operator">==</span>input<span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> beforeShow<span class="token operator">=</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'beforeShow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">extendRemove</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">,</span><span class="token punctuation">(</span>beforeShow<span class="token operator">?</span><span class="token function">beforeShow</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span><span class="token punctuation">[</span>input<span class="token punctuation">,</span>inst<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_hideDatepicker</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_lastInput<span class="token operator">=</span>input<span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_setDateFromField</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_inDialog<span class="token punctuation">)</span>
input<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token operator">=</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_findPos</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+=</span>input<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> isFixed<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>isFixed<span class="token operator">|=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'fixed'</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token operator">!</span>isFixed<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isFixed<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>opera<span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-=</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-=</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> offset<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_pos<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">'block'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'-1000px'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_getNumberOfMonths</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-datepicker'</span><span class="token punctuation">,</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>offset<span class="token operator">=</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_checkOffset</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>offset<span class="token punctuation">,</span>isFixed<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_inDialog<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>blockUI<span class="token operator">?</span><span class="token string">'static'</span><span class="token operator">:</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span><span class="token string">'fixed'</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">display</span><span class="token operator">:</span><span class="token string">'none'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span>offset<span class="token punctuation">.</span>left<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span>offset<span class="token punctuation">.</span>top<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>inline<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> showAnim<span class="token operator">=</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showAnim'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'show'</span><span class="token punctuation">;</span><span class="token keyword">var</span> duration<span class="token operator">=</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'duration'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">postProcess</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_datepickerShowing<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span><span class="token function">parseInt</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'iframe.ui-datepicker-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>effects<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>effects<span class="token punctuation">[</span>showAnim<span class="token punctuation">]</span><span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>showAnim<span class="token punctuation">,</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showOptions'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>duration<span class="token punctuation">,</span>postProcess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">[</span>showAnim<span class="token punctuation">]</span><span class="token punctuation">(</span>duration<span class="token punctuation">,</span>postProcess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>duration<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token function">postProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token operator">!=</span><span class="token string">'hidden'</span><span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_curInst<span class="token operator">=</span>inst<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_updateDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> dims<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_generateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'iframe.ui-datepicker-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>dims<span class="token punctuation">.</span>width<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>dims<span class="token punctuation">.</span>height<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> numMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getNumberOfMonths</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">[</span><span class="token punctuation">(</span>numMonths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span><span class="token operator">||</span>numMonths<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span><span class="token operator">?</span><span class="token string">'add'</span><span class="token operator">:</span><span class="token string">'remove'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'Class'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'ui-datepicker-multi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'isRTL'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'add'</span><span class="token operator">:</span><span class="token string">'remove'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'Class'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'ui-datepicker-rtl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">&amp;&amp;</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token operator">!=</span><span class="token string">'hidden'</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_checkOffset</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>offset<span class="token punctuation">,</span>isFixed</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> pos<span class="token operator">=</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_findPos</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> browserWidth<span class="token operator">=</span>window<span class="token punctuation">.</span>innerWidth<span class="token operator">||</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span><span class="token keyword">var</span> browserHeight<span class="token operator">=</span>window<span class="token punctuation">.</span>innerHeight<span class="token operator">||</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span><span class="token keyword">var</span> scrollX<span class="token operator">=</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft<span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span><span class="token keyword">var</span> scrollY<span class="token operator">=</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">||</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'isRTL'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>offset<span class="token punctuation">.</span>left<span class="token operator">+</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>scrollX<span class="token punctuation">)</span><span class="token operator">></span>browserWidth<span class="token punctuation">)</span>
offset<span class="token punctuation">.</span>left<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>scrollX<span class="token punctuation">)</span><span class="token punctuation">,</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span>scrollX<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>
<span class="token punctuation">(</span>isFixed<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>opera<span class="token operator">?</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
offset<span class="token punctuation">.</span>left<span class="token operator">-=</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span>scrollX<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>offset<span class="token punctuation">.</span>top<span class="token operator">+</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>scrollY<span class="token punctuation">)</span><span class="token operator">></span>browserHeight<span class="token punctuation">)</span>
offset<span class="token punctuation">.</span>top<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>scrollY<span class="token punctuation">)</span><span class="token punctuation">,</span>pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span>scrollY<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_inDialog<span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span>
<span class="token punctuation">(</span>isFixed<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>opera<span class="token operator">?</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
offset<span class="token punctuation">.</span>top<span class="token operator">-=</span><span class="token punctuation">(</span>isFixed<span class="token operator">?</span>scrollY<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> offset<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_findPos</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">while</span><span class="token punctuation">(</span>obj<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>type<span class="token operator">==</span><span class="token string">'hidden'</span><span class="token operator">||</span>obj<span class="token punctuation">.</span>nodeType<span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>obj<span class="token operator">=</span>obj<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> position<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">[</span>position<span class="token punctuation">.</span>left<span class="token punctuation">,</span>position<span class="token punctuation">.</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_hideDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span>duration</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> inst<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>_curInst<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> rangeSelect<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSelect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>rangeSelect<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_selectDate</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_formatDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_datepickerShowing<span class="token punctuation">)</span><span class="token punctuation">{</span>duration<span class="token operator">=</span><span class="token punctuation">(</span>duration<span class="token operator">!=</span><span class="token keyword">null</span><span class="token operator">?</span>duration<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'duration'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> showAnim<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showAnim'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">postProcess</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_tidyDialog</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>duration<span class="token operator">!=</span><span class="token string">''</span><span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>effects<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>effects<span class="token punctuation">[</span>showAnim<span class="token punctuation">]</span><span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span>showAnim<span class="token punctuation">,</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showOptions'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>duration<span class="token punctuation">,</span>postProcess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">[</span><span class="token punctuation">(</span>duration<span class="token operator">==</span><span class="token string">''</span><span class="token operator">?</span><span class="token string">'hide'</span><span class="token operator">:</span><span class="token punctuation">(</span>showAnim<span class="token operator">==</span><span class="token string">'slideDown'</span><span class="token operator">?</span><span class="token string">'slideUp'</span><span class="token operator">:</span><span class="token punctuation">(</span>showAnim<span class="token operator">==</span><span class="token string">'fadeIn'</span><span class="token operator">?</span><span class="token string">'fadeOut'</span><span class="token operator">:</span><span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span>duration<span class="token punctuation">,</span>postProcess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>duration<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_tidyDialog</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> onClose<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'onClose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>onClose<span class="token punctuation">)</span>
<span class="token function">onClose</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">,</span>inst<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_datepickerShowing<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_lastInput<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>prompt<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_inDialog<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogInput<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token string">'-100px'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>blockUI<span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">unblockUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dpDiv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>_inDialog<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>_curInst<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_tidyDialog</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dialogClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token string">'.ui-datepicker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_promptClass<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>dpDiv<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_checkExternalClick</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_curInst<span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> $target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>$target<span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token operator">+</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_mainDivId<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>$target<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>markerClassName<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>$target<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_triggerClass<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_datepickerShowing<span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_inDialog<span class="token operator">&amp;&amp;</span>$<span class="token punctuation">.</span>blockUI<span class="token punctuation">)</span><span class="token punctuation">)</span>
$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_hideDatepicker</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_adjustDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span>offset<span class="token punctuation">,</span>period</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_adjustInstDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>offset<span class="token punctuation">,</span>period<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_gotoToday</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'gotoCurrent'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_notifyChange</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_selectMonthYear</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span>select<span class="token punctuation">,</span>period</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>_selectingMonthYear<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>inst<span class="token punctuation">[</span>period<span class="token operator">==</span><span class="token string">'M'</span><span class="token operator">?</span><span class="token string">'drawMonth'</span><span class="token operator">:</span><span class="token string">'drawYear'</span><span class="token punctuation">]</span><span class="token operator">=</span>select<span class="token punctuation">.</span>options<span class="token punctuation">[</span>select<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_adjustDate</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_notifyChange</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_clickMonthYear</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">&amp;&amp;</span>inst<span class="token punctuation">.</span>_selectingMonthYear<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>_selectingMonthYear<span class="token operator">=</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>_selectingMonthYear<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_changeFirstDay</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span>day</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>firstDay<span class="token operator">=</span>day<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_selectDay</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span>month<span class="token punctuation">,</span>year<span class="token punctuation">,</span>td</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_unselectableClass<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rangeSelect<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSelect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>rangeSelect<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token operator">=</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.ui-datepicker td'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_currentClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_currentClass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span>td<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentMonth<span class="token operator">=</span>month<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentYear<span class="token operator">=</span>year<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>rangeSelect<span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_selectDate</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_formatDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>rangeSelect<span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>rangeStart<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>rangeStart<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>rangeStart<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>inline<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_clearDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'mandatory'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_selectDate</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_selectDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span>dateStr</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> target<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inst<span class="token operator">=</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">PROP_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dateStr<span class="token operator">=</span><span class="token punctuation">(</span>dateStr<span class="token operator">!=</span><span class="token keyword">null</span><span class="token operator">?</span>dateStr<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_formatDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSelect'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>dateStr<span class="token punctuation">)</span>
dateStr<span class="token operator">=</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_formatDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>rangeStart<span class="token punctuation">)</span><span class="token operator">:</span>dateStr<span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSeparator'</span><span class="token punctuation">)</span><span class="token operator">+</span>dateStr<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateAlternate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> onSelect<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'onSelect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>onSelect<span class="token punctuation">)</span>
<span class="token function">onSelect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span>dateStr<span class="token punctuation">,</span>inst<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>inline<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateDatepicker</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_stayOpen<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_hideDatepicker</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'duration'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_lastInput<span class="token operator">=</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token string">'object'</span><span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>_lastInput<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_updateAlternate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> altField<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'altField'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>altField<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> altFormat<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'altFormat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span>dateStr<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">isArray</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">(</span><span class="token operator">!</span>date<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>date<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>altFormat<span class="token punctuation">,</span>date<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSeparator'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>altFormat<span class="token punctuation">,</span>date<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span>date<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>altFormat<span class="token punctuation">,</span>date<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>altField<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">noWeekends</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> day<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">[</span><span class="token punctuation">(</span>day<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>day<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">iso8601Week</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> checkDate<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> firstMon<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> firstDay<span class="token operator">=</span>firstMon<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">7</span><span class="token punctuation">;</span>firstMon<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>firstMon<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">-</span>firstDay<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>firstDay<span class="token operator">&lt;</span><span class="token number">4</span><span class="token operator">&amp;&amp;</span>checkDate<span class="token operator">&lt;</span>firstMon<span class="token punctuation">)</span><span class="token punctuation">{</span>checkDate<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> $<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">iso8601Week</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>checkDate<span class="token operator">></span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>firstDay<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>firstDay<span class="token operator">></span><span class="token number">4</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>firstDay<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>checkDate<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> $<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">iso8601Week</span><span class="token punctuation">(</span>checkDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>checkDate<span class="token operator">-</span>firstMon<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">86400000</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">dateStatus</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">date<span class="token punctuation">,</span>inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> $<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dateStatus'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">,</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">parseDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">format<span class="token punctuation">,</span>value<span class="token punctuation">,</span>settings</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>format<span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">||</span>value<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">throw</span><span class="token string">'Invalid arguments'</span><span class="token punctuation">;</span>value<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value<span class="token operator">==</span><span class="token string">'object'</span><span class="token operator">?</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>value<span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> shortYearCutoff<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>shortYearCutoff<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>shortYearCutoff<span class="token punctuation">;</span><span class="token keyword">var</span> dayNamesShort<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>dayNamesShort<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>dayNamesShort<span class="token punctuation">;</span><span class="token keyword">var</span> dayNames<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>dayNames<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>dayNames<span class="token punctuation">;</span><span class="token keyword">var</span> monthNamesShort<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>monthNamesShort<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>monthNamesShort<span class="token punctuation">;</span><span class="token keyword">var</span> monthNames<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>monthNames<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>monthNames<span class="token punctuation">;</span><span class="token keyword">var</span> year<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> month<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> day<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> literal<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">lookAhead</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> matches<span class="token operator">=</span><span class="token punctuation">(</span>iFormat<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>format<span class="token punctuation">.</span>length<span class="token operator">&amp;&amp;</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">==</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span>
iFormat<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">return</span> matches<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">getNumber</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">lookAhead</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> origSize<span class="token operator">=</span><span class="token punctuation">(</span>match<span class="token operator">==</span><span class="token string">'@'</span><span class="token operator">?</span><span class="token number">14</span><span class="token operator">:</span><span class="token punctuation">(</span>match<span class="token operator">==</span><span class="token string">'y'</span><span class="token operator">?</span><span class="token number">4</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> size<span class="token operator">=</span>origSize<span class="token punctuation">;</span><span class="token keyword">var</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>size<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>iValue<span class="token operator">&lt;</span>value<span class="token punctuation">.</span>length<span class="token operator">&amp;&amp;</span>value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iValue<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token string">'0'</span><span class="token operator">&amp;&amp;</span>value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iValue<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>num<span class="token operator">=</span>num<span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iValue<span class="token operator">++</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>size<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>size<span class="token operator">==</span>origSize<span class="token punctuation">)</span>
<span class="token keyword">throw</span><span class="token string">'Missing number at position '</span><span class="token operator">+</span>iValue<span class="token punctuation">;</span><span class="token keyword">return</span> num<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">getName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span>shortNames<span class="token punctuation">,</span>longNames</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> names<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token operator">?</span>longNames<span class="token operator">:</span>shortNames<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> size<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>names<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
size<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span>names<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">var</span> iInit<span class="token operator">=</span>iValue<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>size<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>iValue<span class="token operator">&lt;</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>name<span class="token operator">+=</span>value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iValue<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>names<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token operator">==</span>names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>size<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">throw</span><span class="token string">'Unknown name at position '</span><span class="token operator">+</span>iInit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">checkLiteral</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iValue<span class="token punctuation">)</span><span class="token operator">!=</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">throw</span><span class="token string">'Unexpected literal at position '</span><span class="token operator">+</span>iValue<span class="token punctuation">;</span>iValue<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> iValue<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> iFormat<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>iFormat<span class="token operator">&lt;</span>format<span class="token punctuation">.</span>length<span class="token punctuation">;</span>iFormat<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>literal<span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">"'"</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
literal<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token function">checkLiteral</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">'d'</span><span class="token operator">:</span>day<span class="token operator">=</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'D'</span><span class="token operator">:</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">,</span>dayNamesShort<span class="token punctuation">,</span>dayNames<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'m'</span><span class="token operator">:</span>month<span class="token operator">=</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'M'</span><span class="token operator">:</span>month<span class="token operator">=</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span>monthNamesShort<span class="token punctuation">,</span>monthNames<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'y'</span><span class="token operator">:</span>year<span class="token operator">=</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'@'</span><span class="token operator">:</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>year<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>month<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>day<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"'"</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">checkLiteral</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
literal<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token function">checkLiteral</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>year<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span>
year<span class="token operator">+=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token operator">+</span>
<span class="token punctuation">(</span>year<span class="token operator">&lt;=</span>shortYearCutoff<span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>year<span class="token operator">||</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">!=</span>month<span class="token operator">||</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>day<span class="token punctuation">)</span>
<span class="token keyword">throw</span><span class="token string">'Invalid date'</span><span class="token punctuation">;</span><span class="token keyword">return</span> date<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token constant">ATOM</span><span class="token operator">:</span><span class="token string">'yy-mm-dd'</span><span class="token punctuation">,</span><span class="token constant">COOKIE</span><span class="token operator">:</span><span class="token string">'D, dd M yy'</span><span class="token punctuation">,</span><span class="token constant">ISO_8601</span><span class="token operator">:</span><span class="token string">'yy-mm-dd'</span><span class="token punctuation">,</span><span class="token constant">RFC_822</span><span class="token operator">:</span><span class="token string">'D, d M y'</span><span class="token punctuation">,</span><span class="token constant">RFC_850</span><span class="token operator">:</span><span class="token string">'DD, dd-M-y'</span><span class="token punctuation">,</span><span class="token constant">RFC_1036</span><span class="token operator">:</span><span class="token string">'D, d M y'</span><span class="token punctuation">,</span><span class="token constant">RFC_1123</span><span class="token operator">:</span><span class="token string">'D, d M yy'</span><span class="token punctuation">,</span><span class="token constant">RFC_2822</span><span class="token operator">:</span><span class="token string">'D, d M yy'</span><span class="token punctuation">,</span><span class="token constant">RSS</span><span class="token operator">:</span><span class="token string">'D, d M y'</span><span class="token punctuation">,</span><span class="token constant">TIMESTAMP</span><span class="token operator">:</span><span class="token string">'@'</span><span class="token punctuation">,</span><span class="token constant">W3C</span><span class="token operator">:</span><span class="token string">'yy-mm-dd'</span><span class="token punctuation">,</span><span class="token function-variable function">formatDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">format<span class="token punctuation">,</span>date<span class="token punctuation">,</span>settings</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>date<span class="token punctuation">)</span>
<span class="token keyword">return</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">var</span> dayNamesShort<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>dayNamesShort<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>dayNamesShort<span class="token punctuation">;</span><span class="token keyword">var</span> dayNames<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>dayNames<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>dayNames<span class="token punctuation">;</span><span class="token keyword">var</span> monthNamesShort<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>monthNamesShort<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>monthNamesShort<span class="token punctuation">;</span><span class="token keyword">var</span> monthNames<span class="token operator">=</span><span class="token punctuation">(</span>settings<span class="token operator">?</span>settings<span class="token punctuation">.</span>monthNames<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">.</span>monthNames<span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">lookAhead</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> matches<span class="token operator">=</span><span class="token punctuation">(</span>iFormat<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>format<span class="token punctuation">.</span>length<span class="token operator">&amp;&amp;</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">==</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span>
iFormat<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">return</span> matches<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">formatNumber</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>value<span class="token operator">&lt;</span><span class="token number">10</span><span class="token operator">?</span><span class="token string">'0'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>value<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">formatName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span>value<span class="token punctuation">,</span>shortNames<span class="token punctuation">,</span>longNames</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token operator">?</span>longNames<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">:</span>shortNames<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> output<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">var</span> literal<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> iFormat<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>iFormat<span class="token operator">&lt;</span>format<span class="token punctuation">.</span>length<span class="token punctuation">;</span>iFormat<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>literal<span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">"'"</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
literal<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">else</span>
output<span class="token operator">+=</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">'d'</span><span class="token operator">:</span>output<span class="token operator">+=</span><span class="token function">formatNumber</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'D'</span><span class="token operator">:</span>output<span class="token operator">+=</span><span class="token function">formatName</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dayNamesShort<span class="token punctuation">,</span>dayNames<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'m'</span><span class="token operator">:</span>output<span class="token operator">+=</span><span class="token function">formatNumber</span><span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'M'</span><span class="token operator">:</span>output<span class="token operator">+=</span><span class="token function">formatName</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>monthNamesShort<span class="token punctuation">,</span>monthNames<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'y'</span><span class="token operator">:</span>output<span class="token operator">+=</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token operator">?</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token operator">&lt;</span><span class="token number">10</span><span class="token operator">?</span><span class="token string">'0'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>date<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'@'</span><span class="token operator">:</span>output<span class="token operator">+=</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"'"</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
output<span class="token operator">+=</span><span class="token string">"'"</span><span class="token punctuation">;</span><span class="token keyword">else</span>
literal<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">default</span><span class="token operator">:</span>output<span class="token operator">+=</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> output<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_possibleChars</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">format</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> chars<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">var</span> literal<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> iFormat<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>iFormat<span class="token operator">&lt;</span>format<span class="token punctuation">.</span>length<span class="token punctuation">;</span>iFormat<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>literal<span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">"'"</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
literal<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">else</span>
chars<span class="token operator">+=</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">'d'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'m'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'y'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'@'</span><span class="token operator">:</span>chars<span class="token operator">+=</span><span class="token string">'0123456789'</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'D'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'M'</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">"'"</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">lookAhead</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
chars<span class="token operator">+=</span><span class="token string">"'"</span><span class="token punctuation">;</span><span class="token keyword">else</span>
literal<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">default</span><span class="token operator">:</span>chars<span class="token operator">+=</span>format<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>iFormat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> chars<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_get</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>name</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> inst<span class="token punctuation">.</span>settings<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">!==</span><span class="token keyword">undefined</span><span class="token operator">?</span>inst<span class="token punctuation">.</span>settings<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>_defaults<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_setDateFromField</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> dateFormat<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dateFormat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dates<span class="token operator">=</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSeparator'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> date<span class="token operator">=</span>defaultDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDefaultDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>dates<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> settings<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>dates<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>date<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parseDate</span><span class="token punctuation">(</span>dateFormat<span class="token punctuation">,</span>dates<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>settings<span class="token punctuation">)</span><span class="token operator">||</span>defaultDate<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">try</span><span class="token punctuation">{</span>date<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parseDate</span><span class="token punctuation">(</span>dateFormat<span class="token punctuation">,</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>settings<span class="token punctuation">)</span><span class="token operator">||</span>defaultDate<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token operator">=</span>defaultDate<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">=</span><span class="token punctuation">(</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>currentMonth<span class="token operator">=</span><span class="token punctuation">(</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>currentYear<span class="token operator">=</span><span class="token punctuation">(</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_adjustInstDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getDefaultDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_determineDate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'defaultDate'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> minDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'min'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> maxDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'max'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token operator">=</span><span class="token punctuation">(</span>minDate<span class="token operator">&amp;&amp;</span>date<span class="token operator">&lt;</span>minDate<span class="token operator">?</span>minDate<span class="token operator">:</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token operator">=</span><span class="token punctuation">(</span>maxDate<span class="token operator">&amp;&amp;</span>date<span class="token operator">></span>maxDate<span class="token operator">?</span>maxDate<span class="token operator">:</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> date<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_determineDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">date<span class="token punctuation">,</span>defaultDate</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> <span class="token function-variable function">offsetNumeric</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">offset</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token punctuation">.</span><span class="token function">setUTCDate</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getUTCDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> date<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">offsetString</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">offset<span class="token punctuation">,</span>getDaysInMonth</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> year<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> month<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> day<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> pattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><span class="token keyword">var</span> matches<span class="token operator">=</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">switch</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span><span class="token string">'d'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'D'</span><span class="token operator">:</span>day<span class="token operator">+=</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'w'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'W'</span><span class="token operator">:</span>day<span class="token operator">+=</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'m'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'M'</span><span class="token operator">:</span>month<span class="token operator">+=</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>day<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>day<span class="token punctuation">,</span><span class="token function">getDaysInMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span><span class="token string">'y'</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">'Y'</span><span class="token operator">:</span>year<span class="token operator">+=</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>day<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>day<span class="token punctuation">,</span><span class="token function">getDaysInMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
matches<span class="token operator">=</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span>date<span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">?</span>defaultDate<span class="token operator">:</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> date<span class="token operator">==</span><span class="token string">'string'</span><span class="token operator">?</span><span class="token function">offsetString</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>_getDaysInMonth<span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> date<span class="token operator">==</span><span class="token string">'number'</span><span class="token operator">?</span><span class="token function">offsetNumeric</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token operator">:</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_setDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>date<span class="token punctuation">,</span>endDate</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> clear<span class="token operator">=</span><span class="token operator">!</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_determineDate</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentMonth<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentYear<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSelect'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>endDate<span class="token punctuation">)</span><span class="token punctuation">{</span>endDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_determineDate</span><span class="token punctuation">(</span>endDate<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>endDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>endDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span>endDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_adjustInstDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>clear<span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_formatDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSelect'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSeparator'</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_formatDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endDay<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endYear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> startDate<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>currentYear<span class="token operator">||</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">&amp;&amp;</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token keyword">null</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'rangeSelect'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">[</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">||</span>startDate<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>endYear<span class="token operator">?</span><span class="token keyword">null</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>endYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span>
<span class="token keyword">return</span> startDate<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_generateDatepicker</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> today<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>today<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>today<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>today<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> showStatus<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showStatus'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> isRTL<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'isRTL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> clear<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'mandatory'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token string">'&lt;div class="ui-datepicker-clear">&lt;a onclick="jQuery.datepicker._clearDate(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\');"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'clearStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'clearText'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/a>&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> controls<span class="token operator">=</span><span class="token string">'&lt;div class="ui-datepicker-control">'</span><span class="token operator">+</span><span class="token punctuation">(</span>isRTL<span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span>clear<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;div class="ui-datepicker-close">&lt;a onclick="jQuery.datepicker._hideDatepicker();"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'closeStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'closeText'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/a>&lt;/div>'</span><span class="token operator">+</span><span class="token punctuation">(</span>isRTL<span class="token operator">?</span>clear<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token keyword">var</span> prompt<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'prompt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> closeAtTop<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'closeAtTop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> hideIfNoPrevNext<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'hideIfNoPrevNext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> navigationAsDateFormat<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'navigationAsDateFormat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> numMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getNumberOfMonths</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> stepMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'stepMonths'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> isMultiMonth<span class="token operator">=</span><span class="token punctuation">(</span>numMonths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span><span class="token operator">||</span>numMonths<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> currentDate<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">?</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> minDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'min'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> maxDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'max'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> drawMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>drawMonth<span class="token punctuation">;</span><span class="token keyword">var</span> drawYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>drawYear<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>maxDate<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> maxDraw<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>maxDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>numMonths<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>maxDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>maxDraw<span class="token operator">=</span><span class="token punctuation">(</span>minDate<span class="token operator">&amp;&amp;</span>maxDraw<span class="token operator">&lt;</span>minDate<span class="token operator">?</span>minDate<span class="token operator">:</span>maxDraw<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">></span>maxDraw<span class="token punctuation">)</span><span class="token punctuation">{</span>drawMonth<span class="token operator">--</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>drawMonth<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>drawMonth<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span>drawYear<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> prevText<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'prevText'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>prevText<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">!</span>navigationAsDateFormat<span class="token operator">?</span>prevText<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>prevText<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token operator">-</span>stepMonths<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> prev<span class="token operator">=</span><span class="token string">'&lt;div class="ui-datepicker-prev">'</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_canAdjustMonth</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'&lt;a onclick="jQuery.datepicker._adjustDate(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\', -'</span><span class="token operator">+</span>stepMonths<span class="token operator">+</span><span class="token string">', \'M\');"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'prevStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>prevText<span class="token operator">+</span><span class="token string">'&lt;/a>'</span><span class="token operator">:</span><span class="token punctuation">(</span>hideIfNoPrevNext<span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token string">'&lt;label>'</span><span class="token operator">+</span>prevText<span class="token operator">+</span><span class="token string">'&lt;/label>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token keyword">var</span> nextText<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'nextText'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>nextText<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">!</span>navigationAsDateFormat<span class="token operator">?</span>nextText<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>nextText<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token operator">+</span>stepMonths<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> next<span class="token operator">=</span><span class="token string">'&lt;div class="ui-datepicker-next">'</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_canAdjustMonth</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'&lt;a onclick="jQuery.datepicker._adjustDate(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\', +'</span><span class="token operator">+</span>stepMonths<span class="token operator">+</span><span class="token string">', \'M\');"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'nextStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>nextText<span class="token operator">+</span><span class="token string">'&lt;/a>'</span><span class="token operator">:</span><span class="token punctuation">(</span>hideIfNoPrevNext<span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token string">'&lt;label>'</span><span class="token operator">+</span>nextText<span class="token operator">+</span><span class="token string">'&lt;/label>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token keyword">var</span> currentText<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'currentText'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>currentText<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">!</span>navigationAsDateFormat<span class="token operator">?</span>currentText<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>currentText<span class="token punctuation">,</span>today<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> html<span class="token operator">=</span><span class="token punctuation">(</span>prompt<span class="token operator">?</span><span class="token string">'&lt;div class="'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_promptClass<span class="token operator">+</span><span class="token string">'">'</span><span class="token operator">+</span>prompt<span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>closeAtTop<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>inline<span class="token operator">?</span>controls<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;div class="ui-datepicker-links">'</span><span class="token operator">+</span><span class="token punctuation">(</span>isRTL<span class="token operator">?</span>next<span class="token operator">:</span>prev<span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_isInRange</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'gotoCurrent'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">?</span>currentDate<span class="token operator">:</span>today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">'&lt;div class="ui-datepicker-current">'</span><span class="token operator">+</span><span class="token string">'&lt;a onclick="jQuery.datepicker._gotoToday(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\');"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'currentStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>
currentText<span class="token operator">+</span><span class="token string">'&lt;/a>&lt;/div>'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>isRTL<span class="token operator">?</span>prev<span class="token operator">:</span>next<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token keyword">var</span> firstDay<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'firstDay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> changeFirstDay<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'changeFirstDay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dayNames<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dayNames'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dayNamesShort<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dayNamesShort'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dayNamesMin<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dayNamesMin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> monthNames<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'monthNames'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> beforeShowDay<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'beforeShowDay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> highlightWeek<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'highlightWeek'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> showOtherMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showOtherMonths'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> showWeeks<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'showWeeks'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> calculateWeek<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'calculateWeek'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>iso8601Week<span class="token punctuation">;</span><span class="token keyword">var</span> status<span class="token operator">=</span><span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dayStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dateStatus<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'statusForDate'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>dateStatus<span class="token punctuation">;</span><span class="token keyword">var</span> endDate<span class="token operator">=</span>inst<span class="token punctuation">.</span>endDay<span class="token operator">?</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>endYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>endDay<span class="token punctuation">)</span><span class="token operator">:</span>currentDate<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> row<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>row<span class="token operator">&lt;</span>numMonths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>row<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>col<span class="token operator">&lt;</span>numMonths<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>col<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> selectedDate<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>selectedDay<span class="token punctuation">)</span><span class="token punctuation">;</span>html<span class="token operator">+=</span><span class="token string">'&lt;div class="ui-datepicker-one-month'</span><span class="token operator">+</span><span class="token punctuation">(</span>col<span class="token operator">==</span><span class="token number">0</span><span class="token operator">?</span><span class="token string">' ui-datepicker-new-row'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'">'</span><span class="token operator">+</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_generateMonthYearHeader</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>drawMonth<span class="token punctuation">,</span>drawYear<span class="token punctuation">,</span>minDate<span class="token punctuation">,</span>maxDate<span class="token punctuation">,</span>selectedDate<span class="token punctuation">,</span>row<span class="token operator">></span><span class="token number">0</span><span class="token operator">||</span>col<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">,</span>showStatus<span class="token punctuation">,</span>monthNames<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;table class="ui-datepicker" cellpadding="0" cellspacing="0">&lt;thead>'</span><span class="token operator">+</span><span class="token string">'&lt;tr class="ui-datepicker-title-row">'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showWeeks<span class="token operator">?</span><span class="token string">'&lt;td>'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'weekHeader'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/td>'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> dow<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>dow<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>dow<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> day<span class="token operator">=</span><span class="token punctuation">(</span>dow<span class="token operator">+</span>firstDay<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token keyword">var</span> dayStatus<span class="token operator">=</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'DD'</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">?</span>status<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">DD</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>dayNames<span class="token punctuation">[</span>day<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span>status<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">D</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>dayNamesShort<span class="token punctuation">[</span>day<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>html<span class="token operator">+=</span><span class="token string">'&lt;td'</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dow<span class="token operator">+</span>firstDay<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token operator">>=</span><span class="token number">5</span><span class="token operator">?</span><span class="token string">' class="ui-datepicker-week-end-cell"'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token operator">!</span>changeFirstDay<span class="token operator">?</span><span class="token string">'&lt;span'</span><span class="token operator">:</span><span class="token string">'&lt;a onclick="jQuery.datepicker._changeFirstDay(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\', '</span><span class="token operator">+</span>day<span class="token operator">+</span><span class="token string">');"'</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>dayStatus<span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' title="'</span><span class="token operator">+</span>dayNames<span class="token punctuation">[</span>day<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'">'</span><span class="token operator">+</span>
dayNamesMin<span class="token punctuation">[</span>day<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>changeFirstDay<span class="token operator">?</span><span class="token string">'&lt;/a>'</span><span class="token operator">:</span><span class="token string">'&lt;/span>'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/td>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token string">'&lt;/tr>&lt;/thead>&lt;tbody>'</span><span class="token punctuation">;</span><span class="token keyword">var</span> daysInMonth<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDaysInMonth</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>drawYear<span class="token operator">==</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">&amp;&amp;</span>drawMonth<span class="token operator">==</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token punctuation">)</span>
inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>selectedDay<span class="token punctuation">,</span>daysInMonth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> leadDays<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFirstDayOfMonth</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">)</span><span class="token operator">-</span>firstDay<span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token keyword">var</span> printDate<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>drawYear<span class="token punctuation">,</span>drawMonth<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span>leadDays<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> numRows<span class="token operator">=</span><span class="token punctuation">(</span>isMultiMonth<span class="token operator">?</span><span class="token number">6</span><span class="token operator">:</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>leadDays<span class="token operator">+</span>daysInMonth<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> dRow<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>dRow<span class="token operator">&lt;</span>numRows<span class="token punctuation">;</span>dRow<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>html<span class="token operator">+=</span><span class="token string">'&lt;tr class="ui-datepicker-days-row">'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showWeeks<span class="token operator">?</span><span class="token string">'&lt;td class="ui-datepicker-week-col">'</span><span class="token operator">+</span><span class="token function">calculateWeek</span><span class="token punctuation">(</span>printDate<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/td>'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> dow<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>dow<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>dow<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> daySettings<span class="token operator">=</span><span class="token punctuation">(</span>beforeShowDay<span class="token operator">?</span><span class="token function">beforeShowDay</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span>printDate<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> otherMonth<span class="token operator">=</span><span class="token punctuation">(</span>printDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>drawMonth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> unselectable<span class="token operator">=</span>otherMonth<span class="token operator">||</span><span class="token operator">!</span>daySettings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token punctuation">(</span>minDate<span class="token operator">&amp;&amp;</span>printDate<span class="token operator">&lt;</span>minDate<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>maxDate<span class="token operator">&amp;&amp;</span>printDate<span class="token operator">></span>maxDate<span class="token punctuation">)</span><span class="token punctuation">;</span>html<span class="token operator">+=</span><span class="token string">'&lt;td class="ui-datepicker-days-cell'</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span>dow<span class="token operator">+</span>firstDay<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token operator">>=</span><span class="token number">5</span><span class="token operator">?</span><span class="token string">' ui-datepicker-week-end-cell'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>otherMonth<span class="token operator">?</span><span class="token string">' ui-datepicker-otherMonth'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>printDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>selectedDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>drawMonth<span class="token operator">==</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">?</span><span class="token string">' ui-datepicker-days-cell-over'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>unselectable<span class="token operator">?</span><span class="token string">' '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_unselectableClass<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>otherMonth<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>showOtherMonths<span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token string">' '</span><span class="token operator">+</span>daySettings<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>
<span class="token punctuation">(</span>printDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span>currentDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>printDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span>endDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">' '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>_currentClass<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>printDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>today<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">' ui-datepicker-today'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>otherMonth<span class="token operator">||</span>showOtherMonths<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>daySettings<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token string">' title="'</span><span class="token operator">+</span>daySettings<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'"'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>unselectable<span class="token operator">?</span><span class="token punctuation">(</span>highlightWeek<span class="token operator">?</span><span class="token string">' onmouseover="jQuery(this).parent().addClass(\'ui-datepicker-week-over\');"'</span><span class="token operator">+</span><span class="token string">' onmouseout="jQuery(this).parent().removeClass(\'ui-datepicker-week-over\');"'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">' onmouseover="jQuery(this).addClass(\'ui-datepicker-days-cell-over\')'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>highlightWeek<span class="token operator">?</span><span class="token string">'.parent().addClass(\'ui-datepicker-week-over\')'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">';'</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token operator">!</span>showStatus<span class="token operator">||</span><span class="token punctuation">(</span>otherMonth<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>showOtherMonths<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token string">'jQuery(\'#ui-datepicker-status-'</span><span class="token operator">+</span>
inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\').html(\''</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">dateStatus</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span>printDate<span class="token punctuation">,</span>inst<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'\');'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'"'</span><span class="token operator">+</span><span class="token string">' onmouseout="jQuery(this).removeClass(\'ui-datepicker-days-cell-over\')'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>highlightWeek<span class="token operator">?</span><span class="token string">'.parent().removeClass(\'ui-datepicker-week-over\')'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">';'</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token operator">!</span>showStatus<span class="token operator">||</span><span class="token punctuation">(</span>otherMonth<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>showOtherMonths<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">''</span><span class="token operator">:</span><span class="token string">'jQuery(\'#ui-datepicker-status-'</span><span class="token operator">+</span>
inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\').html(\'&amp;#xa0;\');'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'" onclick="jQuery.datepicker._selectDay(\'#'</span><span class="token operator">+</span>
inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\','</span><span class="token operator">+</span>drawMonth<span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>drawYear<span class="token operator">+</span><span class="token string">', this);"'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>otherMonth<span class="token operator">?</span><span class="token punctuation">(</span>showOtherMonths<span class="token operator">?</span>printDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span>unselectable<span class="token operator">?</span>printDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">'&lt;a>'</span><span class="token operator">+</span>printDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/a>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/td>'</span><span class="token punctuation">;</span>printDate<span class="token punctuation">.</span><span class="token function">setUTCDate</span><span class="token punctuation">(</span>printDate<span class="token punctuation">.</span><span class="token function">getUTCDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token string">'&lt;/tr>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
drawMonth<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>drawMonth<span class="token operator">></span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">{</span>drawMonth<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>drawYear<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token string">'&lt;/tbody>&lt;/table>&lt;/div>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token string">'&lt;div style="clear: both;">&lt;/div>&lt;div id="ui-datepicker-status-'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'" class="ui-datepicker-status">'</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'initStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span><span class="token operator">!</span>closeAtTop<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>inline<span class="token operator">?</span>controls<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;div style="clear: both;">&lt;/div>'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>msie<span class="token operator">&amp;&amp;</span><span class="token function">parseInt</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>version<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">7</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>inline<span class="token operator">?</span><span class="token string">'&lt;iframe src="javascript:false;" class="ui-datepicker-cover">&lt;/iframe>'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> html<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_generateMonthYearHeader</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>drawMonth<span class="token punctuation">,</span>drawYear<span class="token punctuation">,</span>minDate<span class="token punctuation">,</span>maxDate<span class="token punctuation">,</span>selectedDate<span class="token punctuation">,</span>secondary<span class="token punctuation">,</span>showStatus<span class="token punctuation">,</span>monthNames</span><span class="token punctuation">)</span><span class="token punctuation">{</span>minDate<span class="token operator">=</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">&amp;&amp;</span>minDate<span class="token operator">&amp;&amp;</span>selectedDate<span class="token operator">&lt;</span>minDate<span class="token operator">?</span>selectedDate<span class="token operator">:</span>minDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> html<span class="token operator">=</span><span class="token string">'&lt;div class="ui-datepicker-header">'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>secondary<span class="token operator">||</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'changeMonth'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
html<span class="token operator">+=</span>monthNames<span class="token punctuation">[</span>drawMonth<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">var</span> inMinYear<span class="token operator">=</span><span class="token punctuation">(</span>minDate<span class="token operator">&amp;&amp;</span>minDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>drawYear<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> inMaxYear<span class="token operator">=</span><span class="token punctuation">(</span>maxDate<span class="token operator">&amp;&amp;</span>maxDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>drawYear<span class="token punctuation">)</span><span class="token punctuation">;</span>html<span class="token operator">+=</span><span class="token string">'&lt;select class="ui-datepicker-new-month" '</span><span class="token operator">+</span><span class="token string">'onchange="jQuery.datepicker._selectMonthYear(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\', this, \'M\');" '</span><span class="token operator">+</span><span class="token string">'onclick="jQuery.datepicker._clickMonthYear(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\');"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'monthStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> month<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>month<span class="token operator">&lt;</span><span class="token number">12</span><span class="token punctuation">;</span>month<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>inMinYear<span class="token operator">||</span>month<span class="token operator">>=</span>minDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token operator">!</span>inMaxYear<span class="token operator">||</span>month<span class="token operator">&lt;=</span>maxDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
html<span class="token operator">+=</span><span class="token string">'&lt;option value="'</span><span class="token operator">+</span>month<span class="token operator">+</span><span class="token string">'"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>month<span class="token operator">==</span>drawMonth<span class="token operator">?</span><span class="token string">' selected="selected"'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>monthNames<span class="token punctuation">[</span>month<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'&lt;/option>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token string">'&lt;/select>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>secondary<span class="token operator">||</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'changeYear'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
html<span class="token operator">+=</span>drawYear<span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">var</span> years<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'yearRange'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> year<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">var</span> endYear<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>years<span class="token punctuation">.</span>length<span class="token operator">!=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>year<span class="token operator">=</span>drawYear<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span>endYear<span class="token operator">=</span>drawYear<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>years<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'+'</span><span class="token operator">||</span>years<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>year<span class="token operator">=</span>endYear<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>year<span class="token operator">+=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>years<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>endYear<span class="token operator">+=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>years<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>year<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>years<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>endYear<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>years<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
year<span class="token operator">=</span><span class="token punctuation">(</span>minDate<span class="token operator">?</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>minDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>endYear<span class="token operator">=</span><span class="token punctuation">(</span>maxDate<span class="token operator">?</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>endYear<span class="token punctuation">,</span>maxDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>endYear<span class="token punctuation">)</span><span class="token punctuation">;</span>html<span class="token operator">+=</span><span class="token string">'&lt;select class="ui-datepicker-new-year" '</span><span class="token operator">+</span><span class="token string">'onchange="jQuery.datepicker._selectMonthYear(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\', this, \'Y\');" '</span><span class="token operator">+</span><span class="token string">'onclick="jQuery.datepicker._clickMonthYear(\'#'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\');"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>showStatus<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addStatus</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'yearStatus'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'&amp;#xa0;'</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>year<span class="token operator">&lt;=</span>endYear<span class="token punctuation">;</span>year<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>html<span class="token operator">+=</span><span class="token string">'&lt;option value="'</span><span class="token operator">+</span>year<span class="token operator">+</span><span class="token string">'"'</span><span class="token operator">+</span>
<span class="token punctuation">(</span>year<span class="token operator">==</span>drawYear<span class="token operator">?</span><span class="token string">' selected="selected"'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'>'</span><span class="token operator">+</span>year<span class="token operator">+</span><span class="token string">'&lt;/option>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token string">'&lt;/select>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
html<span class="token operator">+=</span><span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token keyword">return</span> html<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_addStatus</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>text</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token string">' onmouseover="jQuery(\'#ui-datepicker-status-'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\').html(\''</span><span class="token operator">+</span>text<span class="token operator">+</span><span class="token string">'\');" '</span><span class="token operator">+</span><span class="token string">'onmouseout="jQuery(\'#ui-datepicker-status-'</span><span class="token operator">+</span>inst<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">'\').html(\'&amp;#xa0;\');"'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_adjustInstDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>offset<span class="token punctuation">,</span>period</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> year<span class="token operator">=</span>inst<span class="token punctuation">.</span>drawYear<span class="token operator">+</span><span class="token punctuation">(</span>period<span class="token operator">==</span><span class="token string">'Y'</span><span class="token operator">?</span>offset<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> month<span class="token operator">=</span>inst<span class="token punctuation">.</span>drawMonth<span class="token operator">+</span><span class="token punctuation">(</span>period<span class="token operator">==</span><span class="token string">'M'</span><span class="token operator">?</span>offset<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> day<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>selectedDay<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDaysInMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span>
<span class="token punctuation">(</span>period<span class="token operator">==</span><span class="token string">'D'</span><span class="token operator">?</span>offset<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> minDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'min'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> maxDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'max'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token operator">=</span><span class="token punctuation">(</span>minDate<span class="token operator">&amp;&amp;</span>date<span class="token operator">&lt;</span>minDate<span class="token operator">?</span>minDate<span class="token operator">:</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token operator">=</span><span class="token punctuation">(</span>maxDate<span class="token operator">&amp;&amp;</span>date<span class="token operator">></span>maxDate<span class="token operator">?</span>maxDate<span class="token operator">:</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>selectedDay<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inst<span class="token punctuation">.</span>drawYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedYear<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>period<span class="token operator">==</span><span class="token string">'M'</span><span class="token operator">||</span>period<span class="token operator">==</span><span class="token string">'Y'</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_notifyChange</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_notifyChange</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> onChange<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'onChangeMonthYear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>onChange<span class="token punctuation">)</span>
<span class="token function">onChange</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>input<span class="token operator">?</span>inst<span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>selectedYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>inst<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getNumberOfMonths</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> numMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'numberOfMonths'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span>numMonths<span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">?</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> numMonths<span class="token operator">==</span><span class="token string">'number'</span><span class="token operator">?</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span>numMonths<span class="token punctuation">]</span><span class="token operator">:</span>numMonths<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getMinMaxDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>minMax<span class="token punctuation">,</span>checkRange</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_determineDate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>minMax<span class="token operator">+</span><span class="token string">'Date'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">{</span>date<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token punctuation">.</span><span class="token function">setMilliseconds</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">return</span><span class="token punctuation">(</span><span class="token operator">!</span>checkRange<span class="token operator">||</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">?</span>date<span class="token operator">:</span><span class="token punctuation">(</span><span class="token operator">!</span>date<span class="token operator">||</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">></span>date<span class="token operator">?</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">:</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getDaysInMonth</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span>month</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">32</span><span class="token operator">-</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getFirstDayOfMonth</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span>month</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_canAdjustMonth</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>offset<span class="token punctuation">,</span>curYear<span class="token punctuation">,</span>curMonth</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> numMonths<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getNumberOfMonths</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>curYear<span class="token punctuation">,</span>curMonth<span class="token operator">+</span><span class="token punctuation">(</span>offset<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">?</span>offset<span class="token operator">:</span>numMonths<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>offset<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>
date<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getDaysInMonth</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_isInRange</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_isInRange</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>date</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> newMinDate<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">!</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">?</span><span class="token keyword">null</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>selectedYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>selectedDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>newMinDate<span class="token operator">=</span><span class="token punctuation">(</span>newMinDate<span class="token operator">&amp;&amp;</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">&lt;</span>newMinDate<span class="token operator">?</span>inst<span class="token punctuation">.</span>rangeStart<span class="token operator">:</span>newMinDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> minDate<span class="token operator">=</span>newMinDate<span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'min'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> maxDate<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMinMaxDate</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'max'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>minDate<span class="token operator">||</span>date<span class="token operator">>=</span>minDate<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token operator">!</span>maxDate<span class="token operator">||</span>date<span class="token operator">&lt;=</span>maxDate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_getFormatConfig</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> shortYearCutoff<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'shortYearCutoff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>shortYearCutoff<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> shortYearCutoff<span class="token operator">!=</span><span class="token string">'string'</span><span class="token operator">?</span>shortYearCutoff<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token operator">+</span><span class="token function">parseInt</span><span class="token punctuation">(</span>shortYearCutoff<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">{</span><span class="token literal-property property">shortYearCutoff</span><span class="token operator">:</span>shortYearCutoff<span class="token punctuation">,</span><span class="token literal-property property">dayNamesShort</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dayNamesShort'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">dayNames</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dayNames'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">monthNamesShort</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'monthNamesShort'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">monthNames</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'monthNames'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">_formatDate</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inst<span class="token punctuation">,</span>day<span class="token punctuation">,</span>month<span class="token punctuation">,</span>year</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>day<span class="token punctuation">)</span><span class="token punctuation">{</span>inst<span class="token punctuation">.</span>currentDay<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedDay<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>currentMonth<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedMonth<span class="token punctuation">;</span>inst<span class="token punctuation">.</span>currentYear<span class="token operator">=</span>inst<span class="token punctuation">.</span>selectedYear<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> date<span class="token operator">=</span><span class="token punctuation">(</span>day<span class="token operator">?</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> day<span class="token operator">==</span><span class="token string">'object'</span><span class="token operator">?</span>day<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inst<span class="token punctuation">.</span>currentYear<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentMonth<span class="token punctuation">,</span>inst<span class="token punctuation">.</span>currentDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_get</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span><span class="token string">'dateFormat'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getFormatConfig</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">extendRemove</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span>props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> name <span class="token keyword">in</span> props<span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>props<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">||</span>props<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">==</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
target<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span>props<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">return</span> target<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">isArray</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span>a<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>safari<span class="token operator">&amp;&amp;</span><span class="token keyword">typeof</span> a<span class="token operator">==</span><span class="token string">'object'</span><span class="token operator">&amp;&amp;</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>constructor<span class="token operator">&amp;&amp;</span>a<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\Array\(\)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">datepicker</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> otherArgs<span class="token operator">=</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token operator">==</span><span class="token string">'string'</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>options<span class="token operator">==</span><span class="token string">'isDisabled'</span><span class="token operator">||</span>options<span class="token operator">==</span><span class="token string">'getDate'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> $<span class="token punctuation">.</span>datepicker<span class="token punctuation">[</span><span class="token string">'_'</span><span class="token operator">+</span>options<span class="token operator">+</span><span class="token string">'Datepicker'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>otherArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">typeof</span> options<span class="token operator">==</span><span class="token string">'string'</span><span class="token operator">?</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">[</span><span class="token string">'_'</span><span class="token operator">+</span>options<span class="token operator">+</span><span class="token string">'Datepicker'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>otherArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span><span class="token function">_attachDatepicker</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span>datepicker<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Datepicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>dpDiv<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mousedown</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>datepicker<span class="token punctuation">.</span>_checkExternalClick<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </div>
  

  <div class="attachment-download flex-column flex-center">
    <h3>Download in other formats:</h3>
    <a class="attachment-download-link" download="" href="/raw-attachment/ticket/3520/jquery-ui-1.5.2.min.js">Original Format</a>
  </div>
</h1></div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

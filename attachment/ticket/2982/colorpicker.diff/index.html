<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">colorpicker.diff on Ticket #2982 – Attachment – jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/E43-5SJe5X.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          


<div class="flex-column attachment">
  <nav class="content-nav">
    <ul class="flex-row">
      <li>
        <a href="/ticket/2982">Back to Ticket #2982</a>
      </li>
    </ul>
  </nav>

  <h1>
    <a href="/ticket/2982">Ticket #2982</a>: colorpicker.diff
  
  <hr>

  <div class="attachment-info">
    <h6>File colorpicker.diff, 7.7 KB (added by Cloudream, June 09, 2008 06:16PM UTC)</h6>
    
  </div>

  
    <div class="attachment-preview">
      
      <pre class="language-diff" tabindex="0"><code class="language-diff">Index: colorpicker.html
===================================================================
<span class="token coord">--- colorpicker.html	(revision 253)</span>
<span class="token coord">+++ colorpicker.html	(working copy)</span>
<span class="token coord">@@ -1,28 +1,28 @@</span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">﻿&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
</span><span class="token prefix unchanged"> </span><span class="token line">&lt;html>
</span><span class="token prefix unchanged"> </span><span class="token line">	&lt;head>
</span><span class="token prefix unchanged"> </span><span class="token line">		&lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" />
</span><span class="token prefix unchanged"> </span><span class="token line">		&lt;title>Color picker&lt;/title>
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../../jquery/src/core.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../../jquery/src/selector.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../../jquery/src/event.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../../jquery/src/ajax.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../../jquery/src/fx.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../../jquery/src/offset.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">	
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../ui.base.js">&lt;/script>
</span><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" src="../ui.slider.js">&lt;/script>
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">
</span><span class="token prefix inserted">+</span><span class="token line">		&lt;script type="text/javascript" src="../../../trunk/jquery-1.2.6.js">&lt;/script>
</span><span class="token prefix inserted">+</span><span class="token line">		
</span><span class="token prefix inserted">+</span><span class="token line">		&lt;script type="text/javascript" src="../../../trunk/ui/ui.core.js">&lt;/script>
</span><span class="token prefix inserted">+</span><span class="token line">		&lt;script type="text/javascript" src="../../../trunk/ui/ui.slider.js">&lt;/script>
</span><span class="token prefix inserted">+</span><span class="token line">
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">		&lt;script type="text/javascript" src="ui.colorpicker.js">&lt;/script>
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">		&lt;script src="pngFix/jquery.pngFix.js" type="text/javascript" charset="utf-8">&lt;/script>
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">
</span><span class="token prefix inserted">+</span><span class="token line">		&lt;script type="text/javascript" src="pngFix/jquery.pngFix.js">&lt;/script>
</span><span class="token prefix inserted">+</span><span class="token line">
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">		&lt;link type="text/css" rel="stylesheet" href="ui.colorpicker.css">&lt;/link>
</span><span class="token prefix unchanged"> </span><span class="token line">		
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">		&lt;script type="text/javascript" charset="utf-8">
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">		&lt;script type="text/javascript">
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">			$(document).ready(function() {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">				$("&lt;div>").appendTo("body").colorpicker();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">				$("&lt;div/>").appendTo("body").colorpicker();
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">				$(document).pngFix();
</span><span class="token prefix unchanged"> </span><span class="token line">			});
</span><span class="token prefix unchanged"> </span><span class="token line">		&lt;/script>
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">	&lt;/head>
</span><span class="token prefix unchanged"> </span><span class="token line">	&lt;body>
</span><span class="token prefix unchanged"> </span><span class="token line">		&lt;!-- No markup! -->
</span></span>Index: ui.colorpicker.js
===================================================================
<span class="token coord">--- ui.colorpicker.js	(revision 253)</span>
<span class="token coord">+++ ui.colorpicker.js	(working copy)</span>
<span class="token coord">@@ -1,24 +1,27 @@</span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">;(function($) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">﻿;(function($) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">	$.fn.extend({
</span><span class="token prefix deleted">-</span><span class="token line">		colorpicker: function(options) {
</span><span class="token prefix deleted">-</span><span class="token line">			var args = Array.prototype.slice.call(arguments, 1);
</span><span class="token prefix deleted">-</span><span class="token line">			return this.each(function() {
</span><span class="token prefix deleted">-</span><span class="token line">				if (typeof options == "string") {
</span><span class="token prefix deleted">-</span><span class="token line">					var inst = $.data(this, "colorpicker");
</span><span class="token prefix deleted">-</span><span class="token line">					if(inst) inst[options].apply(inst, args);
</span><span class="token prefix deleted">-</span><span class="token line">				} else if(!$.data(this, "colorpicker"))
</span><span class="token prefix deleted">-</span><span class="token line">					new $.ui.colorpicker(this, options);
</span><span class="token prefix deleted">-</span><span class="token line">			});
</span><span class="token prefix deleted">-</span><span class="token line">		}
</span><span class="token prefix deleted">-</span><span class="token line">	});
</span><span class="token prefix deleted">-</span><span class="token line">	
</span><span class="token prefix deleted">-</span><span class="token line">	$.ui.colorpicker = function(element, options) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">$.widget("ui.colorpicker", {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">	plugins: {},
</span><span class="token prefix inserted">+</span><span class="token line">	ui: function(e) {
</span><span class="token prefix inserted">+</span><span class="token line">		return {
</span><span class="token prefix inserted">+</span><span class="token line">			options: this.options,
</span><span class="token prefix inserted">+</span><span class="token line">			element: this.element,
</span><span class="token prefix inserted">+</span><span class="token line">			rgb: this.currentColor,
</span><span class="token prefix inserted">+</span><span class="token line">			hex: (this.toHex(this.currentColor.r) + this.toHex(this.currentColor.g) + this.toHex(this.currentColor.b)).toUpperCase()
</span><span class="token prefix inserted">+</span><span class="token line">		};
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">	propagate: function(n,e) {
</span><span class="token prefix inserted">+</span><span class="token line">		$.ui.plugin.call(this, n, [e, this.ui()]);
</span><span class="token prefix inserted">+</span><span class="token line">		return this.element.triggerHandler(n == "pick" ? n : "pick"+n, [e, this.ui()], this.options[n]);
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">
</span><span class="token prefix inserted">+</span><span class="token line">	init: function() {
</span><span class="token prefix inserted">+</span><span class="token line">
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">		//Initialize needed constants
</span><span class="token prefix unchanged"> </span><span class="token line">		var self = this;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">		this.element = $(element);
</span><span class="token prefix deleted">-</span><span class="token line">		var o = this.options = $.extend({}, options);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">		var element = this.element;
</span><span class="token prefix inserted">+</span><span class="token line">		var o = this.options = $.extend({}, self.options);
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">		
</span><span class="token prefix unchanged"> </span><span class="token line">		$.data(element, "colorpicker", this);
</span><span class="token prefix unchanged"> </span><span class="token line">		this.element.addClass("ui-colorpicker")
</span></span><span class="token coord">@@ -85,63 +88,48 @@</span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">		});		
</span><span class="token prefix unchanged"> </span><span class="token line">		
</span><span class="token prefix unchanged"> </span><span class="token line">		
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">	};
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">
</span><span class="token prefix inserted">+</span><span class="token line">	destroy: function() {
</span><span class="token prefix inserted">+</span><span class="token line">		if(!$.data(this.element[0], 'colorpicker')) return;
</span><span class="token prefix inserted">+</span><span class="token line">		this.element
</span><span class="token prefix inserted">+</span><span class="token line">			.removeClass("ui-colorpicker ui-colorpicker-disabled")
</span><span class="token prefix inserted">+</span><span class="token line">			.removeData("colorpicker")
</span><span class="token prefix inserted">+</span><span class="token line">			.unbind(".colorpicker");
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">	enable: function() {
</span><span class="token prefix inserted">+</span><span class="token line">		this.element.removeClass("ui-colorpicker-disabled");
</span><span class="token prefix inserted">+</span><span class="token line">		this.options.disabled = false;
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">	disable: function() {
</span><span class="token prefix inserted">+</span><span class="token line">		this.element.addClass("ui-colorpicker-disabled");
</span><span class="token prefix inserted">+</span><span class="token line">		this.options.disabled = true;
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">	setVertColor: function(indic){
</span><span class="token prefix inserted">+</span><span class="token line">		var n=256/6, j=256/n, C=indic, c=C%n;
</span><span class="token prefix inserted">+</span><span class="token line">		this.baseColor = {
</span><span class="token prefix inserted">+</span><span class="token line">			r : parseInt(C&lt;n?255:C&lt;n*2?255-c*j:C&lt;n*4?0:C&lt;n*5?c*j:255),
</span><span class="token prefix inserted">+</span><span class="token line">			g : parseInt(C&lt;n*2?0:C&lt;n*3?c*j:C&lt;n*5?255:255-c*j),
</span><span class="token prefix inserted">+</span><span class="token line">			b : parseInt(C&lt;n?c*j:C&lt;n*3?255:C&lt;n*4?255-c*j:0)
</span><span class="token prefix inserted">+</span><span class="token line">		};
</span><span class="token prefix inserted">+</span><span class="token line">		
</span><span class="token prefix inserted">+</span><span class="token line">		$("div.ui-colorpicker-color", this.element).css('backgroundColor', 'rgb(' + this.baseColor.r + ',' + this.baseColor.g + ',' + this.baseColor.b + ')');
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">	setGradientColor: function(){
</span><span class="token prefix inserted">+</span><span class="token line">		var r = Math.round((1-(1-(this.baseColor.r/255))*(this.lastValues[0]/255))*(255-this.lastValues[1]));
</span><span class="token prefix inserted">+</span><span class="token line">		var g = Math.round((1-(1-(this.baseColor.g/255))*(this.lastValues[0]/255))*(255-this.lastValues[1]));
</span><span class="token prefix inserted">+</span><span class="token line">		var b = Math.round((1-(1-(this.baseColor.b/255))*(this.lastValues[0]/255))*(255-this.lastValues[1]));
</span><span class="token prefix inserted">+</span><span class="token line">		this.colorfieldCurrent.css('backgroundColor','rgb(' + r + ',' + g + ',' + b + ')');
</span><span class="token prefix inserted">+</span><span class="token line">		$('input.ui-colorpicker-rgbR', this.element)[0].value = r;
</span><span class="token prefix inserted">+</span><span class="token line">		$('input.ui-colorpicker-rgbG', this.element)[0].value = g;
</span><span class="token prefix inserted">+</span><span class="token line">		$('input.ui-colorpicker-rgbB', this.element)[0].value = b;
</span><span class="token prefix inserted">+</span><span class="token line">		$('input.ui-colorpicker-hex', this.element)[0].value = (this.toHex(r) + this.toHex(g) + this.toHex(b)).toUpperCase();
</span><span class="token prefix inserted">+</span><span class="token line">		this.currentColor = {r:r,g:g,b:b};
</span><span class="token prefix inserted">+</span><span class="token line">	},
</span><span class="token prefix inserted">+</span><span class="token line">	toHex: function(color){
</span><span class="token prefix inserted">+</span><span class="token line">		color=parseInt(color).toString(16);
</span><span class="token prefix inserted">+</span><span class="token line">		return color.length&lt;2?"0"+color:color;
</span><span class="token prefix inserted">+</span><span class="token line">	}
</span><span class="token prefix inserted">+</span><span class="token line">});
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">	
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">	$.extend($.ui.colorpicker.prototype, {
</span><span class="token prefix deleted">-</span><span class="token line">		plugins: {},
</span><span class="token prefix deleted">-</span><span class="token line">		ui: function(e) {
</span><span class="token prefix deleted">-</span><span class="token line">			return {
</span><span class="token prefix deleted">-</span><span class="token line">				instance: this,
</span><span class="token prefix deleted">-</span><span class="token line">				options: this.options,
</span><span class="token prefix deleted">-</span><span class="token line">				element: this.element,
</span><span class="token prefix deleted">-</span><span class="token line">				rgb: this.currentColor,
</span><span class="token prefix deleted">-</span><span class="token line">				hex: (this.toHex(this.currentColor.r) + this.toHex(this.currentColor.g) + this.toHex(this.currentColor.b)).toUpperCase()
</span><span class="token prefix deleted">-</span><span class="token line">			};
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		propagate: function(n,e) {
</span><span class="token prefix deleted">-</span><span class="token line">			$.ui.plugin.call(this, n, [e, this.ui()]);
</span><span class="token prefix deleted">-</span><span class="token line">			return this.element.triggerHandler(n == "pick" ? n : "pick"+n, [e, this.ui()], this.options[n]);
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		destroy: function() {
</span><span class="token prefix deleted">-</span><span class="token line">			if(!$.data(this.element[0], 'colorpicker')) return;
</span><span class="token prefix deleted">-</span><span class="token line">			this.element
</span><span class="token prefix deleted">-</span><span class="token line">				.removeClass("ui-colorpicker ui-colorpicker-disabled")
</span><span class="token prefix deleted">-</span><span class="token line">				.removeData("colorpicker")
</span><span class="token prefix deleted">-</span><span class="token line">				.unbind(".colorpicker");
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		enable: function() {
</span><span class="token prefix deleted">-</span><span class="token line">			this.element.removeClass("ui-colorpicker-disabled");
</span><span class="token prefix deleted">-</span><span class="token line">			this.options.disabled = false;
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		disable: function() {
</span><span class="token prefix deleted">-</span><span class="token line">			this.element.addClass("ui-colorpicker-disabled");
</span><span class="token prefix deleted">-</span><span class="token line">			this.options.disabled = true;
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		setVertColor: function(indic){
</span><span class="token prefix deleted">-</span><span class="token line">			var n=256/6, j=256/n, C=indic, c=C%n;
</span><span class="token prefix deleted">-</span><span class="token line">			this.baseColor = {
</span><span class="token prefix deleted">-</span><span class="token line">				r : parseInt(C&lt;n?255:C&lt;n*2?255-c*j:C&lt;n*4?0:C&lt;n*5?c*j:255),
</span><span class="token prefix deleted">-</span><span class="token line">				g : parseInt(C&lt;n*2?0:C&lt;n*3?c*j:C&lt;n*5?255:255-c*j),
</span><span class="token prefix deleted">-</span><span class="token line">				b : parseInt(C&lt;n?c*j:C&lt;n*3?255:C&lt;n*4?255-c*j:0)
</span><span class="token prefix deleted">-</span><span class="token line">			};
</span><span class="token prefix deleted">-</span><span class="token line">			
</span><span class="token prefix deleted">-</span><span class="token line">			$("div.ui-colorpicker-color", this.element).css('backgroundColor', 'rgb(' + this.baseColor.r + ',' + this.baseColor.g + ',' + this.baseColor.b + ')');
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		setGradientColor: function(){
</span><span class="token prefix deleted">-</span><span class="token line">			var r = Math.round((1-(1-(this.baseColor.r/255))*(this.lastValues[0]/255))*(255-this.lastValues[1]));
</span><span class="token prefix deleted">-</span><span class="token line">			var g = Math.round((1-(1-(this.baseColor.g/255))*(this.lastValues[0]/255))*(255-this.lastValues[1]));
</span><span class="token prefix deleted">-</span><span class="token line">			var b = Math.round((1-(1-(this.baseColor.b/255))*(this.lastValues[0]/255))*(255-this.lastValues[1]));
</span><span class="token prefix deleted">-</span><span class="token line">			this.colorfieldCurrent.css('backgroundColor','rgb(' + r + ',' + g + ',' + b + ')');
</span><span class="token prefix deleted">-</span><span class="token line">			$('input.ui-colorpicker-rgbR', this.element)[0].value = r;
</span><span class="token prefix deleted">-</span><span class="token line">			$('input.ui-colorpicker-rgbG', this.element)[0].value = g;
</span><span class="token prefix deleted">-</span><span class="token line">			$('input.ui-colorpicker-rgbB', this.element)[0].value = b;
</span><span class="token prefix deleted">-</span><span class="token line">			$('input.ui-colorpicker-hex', this.element)[0].value = (this.toHex(r) + this.toHex(g) + this.toHex(b)).toUpperCase();
</span><span class="token prefix deleted">-</span><span class="token line">			this.currentColor = {r:r,g:g,b:b};
</span><span class="token prefix deleted">-</span><span class="token line">		},
</span><span class="token prefix deleted">-</span><span class="token line">		toHex: function(color){
</span><span class="token prefix deleted">-</span><span class="token line">			color=parseInt(color).toString(16);
</span><span class="token prefix deleted">-</span><span class="token line">			return color.length&lt;2?"0"+color:color;
</span><span class="token prefix deleted">-</span><span class="token line">		}
</span><span class="token prefix deleted">-</span><span class="token line">	});
</span><span class="token prefix deleted">-</span><span class="token line">	
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">})(jQuery);
</span></span>\ No newline at end of file</code></pre>
    </div>
  

  <div class="attachment-download flex-column flex-center">
    <h3>Download in other formats:</h3>
    <a class="attachment-download-link" download="" href="/raw-attachment/ticket/2982/colorpicker.diff">Original Format</a>
  </div>
</h1></div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

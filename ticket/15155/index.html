<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#15155 (Checkbox tick colour wrong in many themes) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/15154/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/15156/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#15155</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(duplicate)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened March 22, 2017 06:51PM UTC</p>
      
        <p>Closed April 03, 2017 05:14PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Checkbox tick colour wrong in many themes</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        kb-ptti
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.checkbxoradio</td>
      
        <th>Version:</th>
      
      <td>1.12.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Go to <a href="http://jqueryui.com/themeroller," class="ext-link"><span class="icon"></span>http://jqueryui.com/themeroller,</a> scroll down to the Controlgroup sample and click on the "Insurance" checkbox.  The tick comes and goes in black as you click, which is what you'd expect.  (Though, to be really picky, I'd want to see it turn grey on the button-down event before going blank on button-up, but I digress...)</p><p>Now use the Gallery to try different themes.  In some cases you can't see the tick because its in the same colour as the background.  For example...</p><p>UI lightness: icon background is a dark yellow and the tick cannot be seen</p><p>UI darkness: tick is barely-visible grey on white, and changes to white-on-white on hover.  Turns black on button-down in transition from ticked to unticked.</p><p>Start: barely-visible blue on white, changing to very visible blue on white on hover.</p><p>Le Frog: white-on-white at all times</p><p>Dark Hive: barely-visible grey-on-white, changing to white-on-white on hover.  Strong black on button-down on transition from ticked to unticked.</p><p>At this point I stopped checking!</p><p>Tested on a <a href="/wiki/MacBook">MacBook</a> Pro 2016 running macOS Sierra 10.12.3.</p><p>Google Chrome 56.0.2924.87</p><p>Firefox 51.0.1</p><p>Safari 10.0.3</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (5)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 22, 2017 11:41PM UTC by <span class="author">kb-ptti</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Experimenting with the Themeroller editor:-</p><p>1. The background of the "tick" icon box is set by Clickable: active state &gt; text.</p><p>2. The hover colour for the tick is set by Clickable: hover state &gt; icon.</p><p>3. The tick colour on button-down when transitioning from ticked to unticked is set by "Clickable: active state" icon.</p><p>4. The normal tick colour is set by "Clickable: default state" icon.</p><p>The fundamental flaw is in using the active text colour for the icon box background. This is almost always going to fail in themes where the background colour is darker than the text colour.  If you look at the Button examples for the "UI darkness theme" then you'll see what I mean: the button background is dark (set by Clickable: default state &gt; background) so the text and icon (Clickable: default state &gt; text and &gt; icon respectively, which seems eminently reasonable) is light.  However, Clickable: active state: background is also dark so Clickable: active state: text has to be light, making it the wrong choice for the tick's background.</p><p>I think the background needs to be set from Clickable: active state &gt; border.  This would make it consistent with what you're doing with radio buttons.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2017 01:08AM UTC by <span class="author">rjollos</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">No.  Setting the background colour is the wrong fix.  The tick needs to be in the Clickable: active state colour, not the default state colour.  The HTML for the checkboxradio checkbox item is this.  Note that we have ui-button and ui-state-active in the class list for &lt;label&gt; while ui-icon is in the first enclosed &lt;span&gt;.&#92;
&#92;
&lt;label for=&quot;messages-totems-newsfeed&quot; class=&quot;ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active&quot;&gt;&#92;
&lt;span class=&quot;ui-checkboxradio-icon ui-corner-all ui-icon ui-icon-background ui-icon-check ui-state-checked&quot;&gt;&lt;/span&gt;&#92;
&lt;span class=&quot;ui-checkboxradio-icon-space&quot;&gt; &lt;/span&gt;&#92;
Newsfeed&#92;
&lt;/label&gt;&#92;
&#92;
Now look at the jquery-ui.css file from themeroller.  It contains this:-&#92;
&#92;
.ui-state-active .ui-icon,&#92;
.ui-button:active .ui-icon {&#92;
	background-image: url(&quot;images/ui-icons_222222_256x240.png&quot;);&#92;
}&#92;
...&#92;
.ui-button .ui-icon {&#92;
	background-image: url(&quot;images/ui-icons_cccccc_256x240.png&quot;);&#92;
}&#92;
&#92;
The second of these rules is firing because it matches as closely as &quot;.ui-state-active .ui-icon&quot; but is appears later.  The &quot;.ui-button:active .ui-icon&quot; does not fire because the &quot;:active&quot; pseudo-class isn&#39;t present.  The correct fix is to use:-&#92;
&#92;
.ui-state-active .ui-icon,&#92;
&#39;&#39;&#39;.ui-button.ui-state-active .ui-icon,&#92;
&#39;&#39;&#39;.ui-button:active .ui-icon {&#92;
	background-image: url(&quot;images/ui-icons_222222_256x240.png&quot;);&#92;
}&#92;
&#92;
This will sort out any other non-button elements that use .ui-button styling.</span> → <span class="change-field-new">1490232373667300</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>No.  Setting the background colour is the wrong fix.  The tick needs to be in the Clickable: active state colour, not the default state colour.  The HTML for the checkboxradio checkbox item is this.  Note that we have <code>ui-button</code> and <code>ui-state-active</code> in the class list for <code>&lt;label&gt;</code> while ui-icon is in the first enclosed <code>&lt;span&gt;</code>.</p><pre class="wiki">#!text/html
&lt;label for="messages-totems-newsfeed" class="ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active"&gt;
&lt;span class="ui-checkboxradio-icon ui-corner-all ui-icon ui-icon-background ui-icon-check ui-state-checked"&gt;&lt;/span&gt;
&lt;span class="ui-checkboxradio-icon-space"&gt; &lt;/span&gt;
Newsfeed
&lt;/label&gt;
</pre><p>Now look at the jquery-ui.css file from themeroller.  It contains this:-</p><pre class="wiki">.ui-state-active .ui-icon,
.ui-button:active .ui-icon {
	background-image: url("images/ui-icons_222222_256x240.png");
}
...
.ui-button .ui-icon {
	background-image: url("images/ui-icons_cccccc_256x240.png");
}
</pre><p>The second of these rules is firing because it matches as closely as ".ui-state-active .ui-icon" but is appears later.  The ".ui-button:active .ui-icon" does not fire because the ":active" pseudo-class isn't present.  The correct fix is to use:-</p><pre class="wiki">.ui-state-active .ui-icon,
.ui-button.ui-state-active .ui-icon,
.ui-button:active .ui-icon {
	background-image: url("images/ui-icons_222222_256x240.png");
}
</pre><p>This will sort out any other non-button elements that use <code>.ui-button</code> styling.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2017 01:34AM UTC by <span class="author">kb-ptti</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Demonstration of bug and fix:-</p><p><a href="https://jsfiddle.net/kmbro/yo2991ut/" class="ext-link"><span class="icon"></span>https://jsfiddle.net/kmbro/yo2991ut/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2017 02:05AM UTC by <span class="author">rjollos</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Looking for other uses of .ui-button:active, this looks suspicious:-&#92;
&#92;
.ui-state-active,&#92;
.ui-widget-content .ui-state-active,&#92;
.ui-widget-header .ui-state-active,&#92;
a.ui-button:active,&#92;
.ui-button:active,&#92;
.ui-button.ui-state-active:hover {&#92;
	border: 1px solid #e86838;&#92;
	background: #d85828 url(&quot;images/ui-bg_inset-soft_30_d85828_1x100.png&quot;) 50% 50% repeat-x;&#92;
	font-weight: bold;&#92;
	color: #ffffff;&#92;
}&#92;
&#92;
Do we need &#39;&#39;&#39;.ui-button .ui-state-active&#39;&#39;&#39; in the selector list too?</span> → <span class="change-field-new">1490235166860504</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Looking for other uses of .ui-button:active, this looks suspicious:-&#92;
&#92;
{{{#!css&#92;
.ui-state-active,&#92;
.ui-widget-content .ui-state-active,&#92;
.ui-widget-header .ui-state-active,&#92;
a.ui-button:active,&#92;
.ui-button:active,&#92;
.ui-button.ui-state-active:hover {&#92;
	border: 1px solid #e86838;&#92;
	background: #d85828 url(&quot;images/ui-bg_inset-soft_30_d85828_1x100.png&quot;) 50% 50% repeat-x;&#92;
	font-weight: bold;&#92;
	color: #ffffff;&#92;
}&#92;
}}}&#92;
&#92;
Do we need `.ui-button .ui-state-active` in the selector list too?</span> → <span class="change-field-new">1490235174968004</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Looking for other uses of <code>.ui-button:active</code>, this looks suspicious:-</p><pre class="wiki">.ui-state-active,
.ui-widget-content .ui-state-active,
.ui-widget-header .ui-state-active,
a.ui-button:active,
.ui-button:active,
.ui-button.ui-state-active:hover {
	border: 1px solid #e86838;
	background: #d85828 url("images/ui-bg_inset-soft_30_d85828_1x100.png") 50% 50% repeat-x;
	font-weight: bold;
	color: #ffffff;
}
</pre><p>Do we need <code>.ui-button .ui-state-active</code> in the selector list too?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 03, 2017 05:14PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ duplicate</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Duplicate of <a href="/ticket/15085">#15085</a>.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

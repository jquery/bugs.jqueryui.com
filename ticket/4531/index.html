<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#4531 (e.originalTarget not set for WebKit and Opera on start/stop handlers) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/4530/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/4532/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#4531</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened May 13, 2009 06:22AM UTC</p>
      
        <p>Closed October 29, 2012 05:49AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">e.originalTarget not set for WebKit and Opera on start/stop handlers</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        rstrahl
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/2.0.0">2.0.0</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.sortable</td>
      
        <th>Version:</th>
      
      <td>1.7.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>The start and stop handlers appear to not pass e.originalTarget in <a href="/wiki/WebKit">WebKit</a> and Opera browsers. In the example below IE and <a href="/wiki/FireFox">FireFox</a> correctly see e.originalTarget as the dragged child element:</p><pre class="wiki">
        $("#divBookListWrapper").sortable(
        {
            opacity: 0.7,
            revert: true,
            scroll: true,
            containment: "parent",
            start: function(e) {
                // have to remvoe click handler off item so drop doesn't click
                $(e.originalTarget).unbind("click");
                //$(".bookitem").unbind("click");
        },
            stop: function(e) {
                $(ctl).data("Sort", "1");
                $(ctl).html($(ctl).html().replace("Sort List", "Update Sort"));

                // reattach the item click handler
                $(e.originalTarget).click(itemClickHandler);
                //$(".bookitem").click(itemClickHandler);
            }
        });    

</pre><p>The layout for this setup is a &lt;div id="divListWrapper"&gt; with a set of &lt;div class="bookitem"&gt; children that are draggable.</p><p>In <a href="/wiki/FireFox">FireFox</a>        </p><p>{{{</p><p>$("#divBookListWrapper").sortable(</p><p>        {</p><p>            opacity: 0.7,</p><p>            revert: true,</p><p>            scroll: true,</p><p>            containment: "parent",</p><p>            start: function(e) {</p><p>                <em> have to remvoe click handler off item so drop doesn't click</em></p><p>                $(e.originalTarget).unbind("click");</p><p>                $(".bookitem").unbind("click");</p><p>        },</p><p>            stop: function(e) {</p><p>                $(ctl).data("Sort", "1");</p><p>                $(ctl).html($(ctl).html().replace("Sort List", "Update Sort"));</p><p>                <em> reattach the item click handler</em></p><p>                $(e.originalTarget).click(itemClickHandler);</p><p>                $(".bookitem").click(itemClickHandler);</p><p>            }</p><p>        });    </p><p>}}</p><p>The layout is an outer &lt;div id="divBookListWrapper"&gt; with a set of &lt;div class="bookitem"&gt; children that are sortable.</p><p>It would also be nice if sortable had some optional facility to keep it from passing mouse events to the dragged item. The above code is necessary to prevent the item's click event handler to fire on drop, which is not the expected behavior.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (4)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 13, 2009 08:24AM UTC by <span class="author">jzaefferer</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">1.8</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 11, 2012 02:54PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.9.0</span> → <span class="change-field-new">2.0.0</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 29, 2012 05:28AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">The start and stop handlers appear to not pass e.originalTarget in WebKit and Opera browsers. In the example below IE and FireFox correctly see e.originalTarget as the dragged child element:&#92;
&#92;
{{{&#92;
        $(&quot;#divBookListWrapper&quot;).sortable(&#92;
        {&#92;
            opacity: 0.7,&#92;
            revert: true,&#92;
            scroll: true,&#92;
            containment: &quot;parent&quot;,&#92;
            start: function(e) {&#92;
                // have to remvoe click handler off item so drop doesn&#39;t click&#92;
                $(e.originalTarget).unbind(&quot;click&quot;);&#92;
                //$(&quot;.bookitem&quot;).unbind(&quot;click&quot;);&#92;
        },&#92;
            stop: function(e) {&#92;
                $(ctl).data(&quot;Sort&quot;, &quot;1&quot;);&#92;
                $(ctl).html($(ctl).html().replace(&quot;Sort List&quot;, &quot;Update Sort&quot;));&#92;
&#92;
                // reattach the item click handler&#92;
                $(e.originalTarget).click(itemClickHandler);&#92;
                //$(&quot;.bookitem&quot;).click(itemClickHandler);&#92;
            }&#92;
        });    &#92;
&#92;
}}}&#92;
&#92;
The layout for this setup is a &lt;div id=&quot;divListWrapper&quot;&gt; with a set of &lt;div class=&quot;bookitem&quot;&gt; children that are draggable.&#92;
&#92;
In FireFox        $(&quot;#divBookListWrapper&quot;).sortable(&#92;
        {&#92;
            opacity: 0.7,&#92;
            revert: true,&#92;
            scroll: true,&#92;
            containment: &quot;parent&quot;,&#92;
            start: function(e) {&#92;
                // have to remvoe click handler off item so drop doesn&#39;t click&#92;
                //$(e.originalTarget).unbind(&quot;click&quot;);&#92;
                $(&quot;.bookitem&quot;).unbind(&quot;click&quot;);&#92;
        },&#92;
            stop: function(e) {&#92;
                $(ctl).data(&quot;Sort&quot;, &quot;1&quot;);&#92;
                $(ctl).html($(ctl).html().replace(&quot;Sort List&quot;, &quot;Update Sort&quot;));&#92;
&#92;
                // reattach the item click handler&#92;
                //$(e.originalTarget).click(itemClickHandler);&#92;
                $(&quot;.bookitem&quot;).click(itemClickHandler);&#92;
            }&#92;
        });    &#92;
&#92;
The layout is an outer &lt;div id=&quot;divBookListWrapper&quot;&gt; with a set of &lt;div class=&quot;bookitem&quot;&gt; children that are sortable.&#92;
&#92;
It would also be nice if sortable had some optional facility to keep it from passing mouse events to the dragged item. The above code is necessary to prevent the item&#39;s click event handler to fire on drop, which is not the expected behavior.&#92;
</span> → <span class="change-field-new">The start and stop handlers appear to not pass e.originalTarget in WebKit and Opera browsers. In the example below IE and FireFox correctly see e.originalTarget as the dragged child element:&#92;
&#92;
{{{&#92;
        $(&quot;#divBookListWrapper&quot;).sortable(&#92;
        {&#92;
            opacity: 0.7,&#92;
            revert: true,&#92;
            scroll: true,&#92;
            containment: &quot;parent&quot;,&#92;
            start: function(e) {&#92;
                // have to remvoe click handler off item so drop doesn&#39;t click&#92;
                $(e.originalTarget).unbind(&quot;click&quot;);&#92;
                //$(&quot;.bookitem&quot;).unbind(&quot;click&quot;);&#92;
        },&#92;
            stop: function(e) {&#92;
                $(ctl).data(&quot;Sort&quot;, &quot;1&quot;);&#92;
                $(ctl).html($(ctl).html().replace(&quot;Sort List&quot;, &quot;Update Sort&quot;));&#92;
&#92;
                // reattach the item click handler&#92;
                $(e.originalTarget).click(itemClickHandler);&#92;
                //$(&quot;.bookitem&quot;).click(itemClickHandler);&#92;
            }&#92;
        });    &#92;
&#92;
}}}&#92;
&#92;
The layout for this setup is a &lt;div id=&quot;divListWrapper&quot;&gt; with a set of &lt;div class=&quot;bookitem&quot;&gt; children that are draggable.&#92;
&#92;
In FireFox        &#92;
{{{&#92;
$(&quot;#divBookListWrapper&quot;).sortable(&#92;
        {&#92;
            opacity: 0.7,&#92;
            revert: true,&#92;
            scroll: true,&#92;
            containment: &quot;parent&quot;,&#92;
            start: function(e) {&#92;
                // have to remvoe click handler off item so drop doesn&#39;t click&#92;
                //$(e.originalTarget).unbind(&quot;click&quot;);&#92;
                $(&quot;.bookitem&quot;).unbind(&quot;click&quot;);&#92;
        },&#92;
            stop: function(e) {&#92;
                $(ctl).data(&quot;Sort&quot;, &quot;1&quot;);&#92;
                $(ctl).html($(ctl).html().replace(&quot;Sort List&quot;, &quot;Update Sort&quot;));&#92;
&#92;
                // reattach the item click handler&#92;
                //$(e.originalTarget).click(itemClickHandler);&#92;
                $(&quot;.bookitem&quot;).click(itemClickHandler);&#92;
            }&#92;
        });    &#92;
}}&#92;
The layout is an outer &lt;div id=&quot;divBookListWrapper&quot;&gt; with a set of &lt;div class=&quot;bookitem&quot;&gt; children that are sortable.&#92;
&#92;
It would also be nice if sortable had some optional facility to keep it from passing mouse events to the dragged item. The above code is necessary to prevent the item&#39;s click event handler to fire on drop, which is not the expected behavior.&#92;
</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 29, 2012 05:49AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for contributing! This was deliberately removed in <a href="https://github.com/jquery/jquery/commit/69994211b078b8711220eaef33cc1bd6a63c5772" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/commit/69994211b078b8711220eaef33cc1bd6a63c5772</a> and is a proprietary property that won't be paved over in jQuery. For that reason, I'm marking this as wontfix.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

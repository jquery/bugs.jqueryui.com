<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#4293 (Ctrl + Click on selected list item does not deselect) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/4292/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/4294/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#4293</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened March 07, 2009 03:45AM UTC</p>
      
        <p>Closed May 12, 2010 03:50PM UTC</p>
      
      
        <p>Last modified May 20, 2010 11:14AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Ctrl + Click on selected list item does not deselect</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        managingmeals
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.8.2">1.8.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.selectable</td>
      
        <th>Version:</th>
      
      <td>1.7</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>You can use ctrl and a mouse click to select items that are non-</p><p>adjacent. However if you try to click a selected item while holding</p><p>control it does not deselect it. This is how one would expect it to function as this is how windows explorer (and i think its the same on mac).</p><p>A sample is windows explorer. Make your selection either with ctrl to</p><p>select individual items or a lasso for multiple items, or a</p><p>combination of both. After you do that you can deselect whatever you</p><p>want and keep the rest selected by holding ctrl and and click a</p><p>selected item.</p><p>Maybe this is already possible and im not seeing it or its a bug? I don't see any documentation of it, or a sample of it. </p><p>Please add this feature, if its not already added.</p><p>Thanks</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (9)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 09, 2009 08:02AM UTC by <span class="author">rdworth</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">1.8</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 19, 2009 09:31PM UTC by <span class="author">Cloudream</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.8</span> → <span class="change-field-new">TBD</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>fixed in new selectable</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2010 02:07PM UTC by <span class="author">jjones</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm using the latest version of jQuery along with the most recent version of the UI, and I'm not seeing an resolution to this issue.</p><p>I've tried it myself to no avail, and it also doesn't even work on your own demo page found here: <a href="http://jqueryui.com/demos/selectable/" class="ext-link"><span class="icon"></span>http://jqueryui.com/demos/selectable/</a></p><p>This is a frustrating issue when you have a large list of items that users are selecting from, as if they happen to select one they didn't mean to, they'll have to start all over from the beginning to deselect the undesired item.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 01, 2010 10:38AM UTC by <span class="author">rdworth</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I don't know why this issue was closed as the new selectable refactor is still in development. See <a href="http://wiki.jqueryui.com/Selectable" class="ext-link"><span class="icon"></span>http://wiki.jqueryui.com/Selectable</a></p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 12, 2010 03:00PM UTC by <span class="author">jaysoo</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I made a small change to _mouseStart function to get this to work as described using the metaKey (Ctrl/Cmd).</p><p>My fork: <a href="http://github.com/jaysoo/jquery-ui/blob/df06075a331e47ac85f63c3f47a15d5df5f399bf/ui/jquery.ui.selectable.js" class="ext-link"><span class="icon"></span>http://github.com/jaysoo/jquery-ui/blob/df06075a331e47ac85f63c3f47a15d5df5f399bf/ui/jquery.ui.selectable.js</a></p><pre class="wiki">
this.selectees.filter('.ui-selected').each(function() {
	var selectee = $.data(this, "selectable-item");
	selectee.startselected = true;
	if (!event.metaKey) {
		selectee.$element.removeClass('ui-selected');
		selectee.selected = false;
		selectee.$element.addClass('ui-unselecting');
		selectee.unselecting = true;
		// selectable UNSELECTING callback
		self._trigger("unselecting", event, {
			unselecting: selectee.element
		});
	}
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 12, 2010 03:11PM UTC by <span class="author">rdworth</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:5 jaysoo]:</p><blockquote> I made a small change to _mouseStart function to get this to work as described using the metaKey (Ctrl/Cmd).  My fork: <a href="http://github.com/jaysoo/jquery-ui/blob/df06075a331e47ac85f63c3f47a15d5df5f399bf/ui/jquery.ui.selectable.js" class="ext-link"><span class="icon"></span>http://github.com/jaysoo/jquery-ui/blob/df06075a331e47ac85f63c3f47a15d5df5f399bf/ui/jquery.ui.selectable.js</a>  <pre class="wiki">
&gt; this.selectees.filter('.ui-selected').each(function() {
&gt; 	var selectee = $.data(this, "selectable-item");
&gt; 	selectee.startselected = true;
&gt; 	if (!event.metaKey) {
&gt; 		selectee.$element.removeClass('ui-selected');
&gt; 		selectee.selected = false;
&gt; 		selectee.$element.addClass('ui-unselecting');
&gt; 		selectee.unselecting = true;
&gt; 		// selectable UNSELECTING callback
&gt; 		self._trigger("unselecting", event, {
&gt; 			unselecting: selectee.element
&gt; 		});
&gt; 	}
&gt; });
&gt; </pre> </blockquote><p>Commented on <a href="http://github.com/jaysoo/jquery-ui/commit/df06075a331e47ac85f63c3f47a15d5df5f399bf#inline-comments" class="ext-link"><span class="icon"></span>GitHub</a> "When unselecting is triggered, the property key needs to be 'unselecting' not 'selecting'. Compare lines 116, 202, 215."</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 12, 2010 03:35PM UTC by <span class="author">jaysoo</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:6 rdworth]:</p><blockquote> Commented on <a href="http://github.com/jaysoo/jquery-ui/commit/df06075a331e47ac85f63c3f47a15d5df5f399bf#inline-comments" class="ext-link"><span class="icon"></span>GitHub</a> "When unselecting is triggered, the property key needs to be 'unselecting' not 'selecting'. Compare lines 116, 202, 215."</blockquote><p>My bad, here's the new commit: <a href="http://github.com/jaysoo/jquery-ui/blob/13238fa835084e88aa10a7442db9f9214a67c86b/ui/jquery.ui.selectable.js" class="ext-link"><span class="icon"></span>http://github.com/jaysoo/jquery-ui/blob/13238fa835084e88aa10a7442db9f9214a67c86b/ui/jquery.ui.selectable.js</a></p><pre class="wiki">
$(event.target).parents().andSelf().each(function() {
	var selectee = $.data(this, "selectable-item");
	if (selectee) {
		var doSelect = !event.metaKey || !selectee.$element.hasClass('ui-selected');
		selectee.$element
			.removeClass(doSelect ? "ui-unselecting" : "ui-selected")
			.addClass(doSelect ? "ui-selecting" : "ui-unselecting");
		selectee.unselecting = !doSelect;
		selectee.selecting = doSelect;
		selectee.selected = doSelect;
		// selectable (UN)SELECTING callback
		if (doSelect) {
			self._trigger("selecting", event, {
				selecting: selectee.element
			});
		} else {
			self._trigger("unselecting", event, {
				unselecting: selectee.element
			});
		}
		return false;
	}
});

</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 12, 2010 03:50PM UTC by <span class="author">rdworth</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Fixed in <a href="http://github.com/jquery/jquery-ui/commit/5b4c04acb5cff032afae437c343239ee9bf4e04f" class="ext-link"><span class="icon"></span>5b4c04a</a> and <a href="http://github.com/jquery/jquery-ui/commit/e780583694f69513e4f3759e8b198c18313b8f0c" class="ext-link"><span class="icon"></span>e780583</a></p><p>Thanks jaysoo!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 20, 2010 11:14AM UTC by <span class="author">rdworth</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">1.8.2</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

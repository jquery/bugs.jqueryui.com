<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#6229 (jQuery 1.4.2-1.4.3, UI 1.8.5, ajax tabs selector and selected option broke) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/6228/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/6230/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#6229</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(notabug)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened October 26, 2010 01:22PM UTC</p>
      
        <p>Closed October 26, 2010 06:46PM UTC</p>
      
      
        <p>Last modified October 11, 2012 09:15PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">jQuery 1.4.2-1.4.3, UI 1.8.5, ajax tabs selector and selected option broke</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        zerointeger
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/"></a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.tabs</td>
      
        <th>Version:</th>
      
      <td>1.8.5</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>tabs, ajax, selected element</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I have been scouring around looking for more information, as well as attempting to debug some of the methods and objects internal to both libraries but am not having any luck.</p><p>Here is a description of the problem I am experiencing since upgrading.</p><p>Output from the firebug plugin shows GET requests take place but the content is always referring to the last tab element in the UL list and does not load into the ui.panel or ui.tab page element(s).</p><p>Here is an example:</p><p>&lt;script src="libs/js/jquery-1.4.3.min.js"&gt;&lt;/script&gt;</p><p>&lt;script src="libs/js/jquery-ui-1.8.5.custom.min.js"&gt;&lt;/script&gt;</p><p>&lt;script src="libs/js/jquery.cookie.js"&gt;&lt;/script&gt;</p><p>&lt;script type="text/javascript"&gt;</p><p> var $j = jQuery.noConflict();</p><p> $j(document).ready(function() {</p><p>  var tabID = $j.cookie('tabID')||0;</p><p>  $j('#tabs').tabs({</p><p>   ajaxOptions: {</p><p>    async: true,</p><p>    cache: true,</p><p>   },</p><p>   selected: tabID,</p><p>   show: function(junk, ui) {</p><p>    $j.cookie('tabID', ui.index, {expires:3600});</p><p>   },</p><p>  });</p><p> });</p><p>&lt;/script&gt;</p><p>&lt;div id="tabs" class="tabs"&gt;</p><p> &lt;ul id="tabID"&gt;</p><p>  &lt;li&gt;&lt;a href="content.php?do=0x00a0" /&gt;One&lt;/a&gt;&lt;/li&gt;</p><p>  &lt;li&gt;&lt;a href="content.php?do=0x00b0" /&gt;Two&lt;/a&gt;&lt;/li&gt;</p><p>  &lt;li&gt;&lt;a href="content.php?do=0x00c0" /&gt;Three&lt;/a&gt;&lt;/li&gt;</p><p> &lt;/ul&gt;</p><p>&lt;/div&gt;</p><p>Output from firebug shows that upon initial page load the 'selected' option (which should load the last tab element integer stored in the cookie), is sending a GET request for the last element in the UL list. In this case do=0x00c0. On top of that the response from the ajax GET request does not load in the ui.panel or ui.tab element(s).</p><p>I am using Linux (Kubuntu), Firefox 3.6.10 canonical - 1.0 if that makes a difference.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (1)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/6229/test.php/index.html">test.php</a> (1.9 KB) - added by zerointeger
        <strong>October 26, 2010 06:31PM UTC</strong>.<br>
        <p>Test case demonstrating broken cookie, ajax initial page load</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (8)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 01:44PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This works fine for me (didn't use the cookie plugin). Please use the <a href="http://forum.jquery.com" class="ext-link"><span class="icon"></span>forums</a> for help.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 05:35PM UTC by <span class="author">zerointeger</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Then why would the contents of:</p><pre class="wiki">
load:function(a){a=this._getIndex(a);
</pre><p>Result in a -1?</p><p>I am assuming this value should be the value of the cookie or the first tab element within the element being used?</p><p>And why would the contents of:</p><pre class="wiki">
h=d.data(c,"load.tabs");
</pre><p>Always result in the last tab's href value?</p><p>Shouldn't that be the href value of currently loaded tab?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 05:46PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>As far as I can tell, the problem is in your code, not the plugin. As previously stated, please use the forums, or provide a full test page that shows the problem using just the tabs plugin.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 06:28PM UTC by <span class="author">zerointeger</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here is a very simple test case to illustrate the problem.</p><p>Upon first page load the page request is defaulting to the last list element href value (?do=0x00f0) when it should be loading the last tab id href value.</p><p>Once the page loads for the first time you can load the content for each tab normally but it is the initial loading that causes problems.</p><p>&lt;?php</p><p>switch($_GET['do']) {</p><p> case '0x00a0':</p><p>  echo 'test-a.html';</p><p> case '0x00b0':</p><p>  echo 'test-b.html';</p><p> case '0x00c0':</p><p>  echo 'test-c.html';</p><p> case '0x00d0':</p><p>  echo 'test-d.html';</p><p> case '0x00e0':</p><p>  echo 'test-e.html';</p><p> case '0x00f0':</p><p>  echo 'test-f.html';</p><p> default:</p><p>  echo 'test-a.html';</p><p>}</p><p>?&gt;</p><p>&lt;!DOCTYPE html PUBLIC "-<em>W3C</em>DTD XHTML 1.0 Transitional<em>EN" "http:</em>www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</p><p>&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;</p><p> &lt;head&gt;</p><p>  &lt;link rel="stylesheet" type="text/css" href="templates/default/css/overcast/jquery-ui-1.8.5.custom.css" /&gt;</p><p>  &lt;link rel="stylesheet" type="text/css" href="templates/default/css/default.css" /&gt;</p><p>  &lt;script type="text/javascript" src="libs/js/jquery-1.4.3.min.js"&gt;&lt;/script&gt;</p><p>  &lt;script type="text/javascript" src="libs/js/jquery-ui-1.8.5.custom.min.js"&gt;&lt;/script&gt;</p><p>  &lt;script type="text/javascript" src="libs/js/jquery.cookie.js"&gt;&lt;/script&gt;</p><p>  &lt;script type="text/javascript"&gt;</p><p>   var $j = jQuery.noConflict();</p><p>   $j(document).ready(function() {</p><p>    var loading = '&lt;img src="templates/default/images/loading.gif" width="20" height="20" alt="Loading content..." title="Loading content..." /&gt;';</p><p>    var tabID = $j.cookie('tabID')||0;</p><p>    $j('#tabs').tabs({</p><p>     rotate: 0,</p><p>     ajaxOptions: [{async:true,cache:true}],</p><p>     fx: [{opacity:'toggle',height: 'toggle',duration:'normal'}],</p><p>     selected: tabID,</p><p>     show: function(junk, ui) {</p><p>      $j.cookie('tabID', ui.index, {expires:3600});</p><p>     },</p><p>     spinner: loading</p><p>    });</p><p>   });</p><p>  &lt;/script&gt;</p><p> &lt;/head&gt;</p><p> &lt;body&gt;</p><p>  &lt;div id="tabs" class="tabs"&gt;</p><p>   &lt;ul id="tabID"&gt;</p><p>    &lt;li&gt;&lt;a href="content.php?do=0x00a0"&gt;Main&lt;/a&gt;&lt;/li&gt;</p><p>    &lt;li&gt;&lt;a href="content.php?do=0x00b0"&gt;Purchasing&lt;/a&gt;&lt;/li&gt;</p><p>    &lt;li&gt;&lt;a href="content.php?do=0x00c0"&gt;Inventory&lt;/a&gt;&lt;/li&gt;</p><p>    &lt;li&gt;&lt;a href="content.php?do=0x00d0"&gt;Reports&lt;/a&gt;&lt;/li&gt;</p><p>    &lt;li&gt;&lt;a href="content.php?do=0x00e0"&gt;Options&lt;/a&gt;&lt;/li&gt;</p><p>    &lt;li&gt;&lt;a href="content.php?do=0x00f0"&gt;Exit&lt;/a&gt;&lt;/li&gt;</p><p>   &lt;/ul&gt;</p><p>  &lt;/div&gt;</p><p> &lt;/body&gt;</p><p>&lt;/html&gt;</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 06:46PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>You're passing a string (the result of the cookie) instead a number. If you use parseInt() on the result of $.cookie(), it will work.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 06:48PM UTC by <span class="author">zerointeger</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Can the documentation regarding this be updated?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2010 06:57PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The documentation said that the selected option accepts a Number. I'm not sure what else you'd want.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 11, 2012 09:15PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">TBD</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Milestone TBD deleted</p>
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

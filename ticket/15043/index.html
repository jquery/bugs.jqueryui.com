<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#15043 (Widget: Internal list of elements with classes can&amp;#39;t be cleaned up) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/15042/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/15044/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#15043</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened September 08, 2016 12:39PM UTC</p>
      
        <p>Closed September 13, 2016 07:16PM UTC</p>
      
      
        <p>Last modified September 13, 2016 07:46PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Widget: Internal list of elements with classes can&#39;t be cleaned up</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        WickedDevils
      </td>
      <th>Owned by:</th>
      <td>arschmitz</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.12.1">1.12.1</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.widget</td>
      
        <th>Version:</th>
      
      <td>1.12.0</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I used the code from site <a href="http://jqueryui.com/autocomplete/#combobox" class="ext-link"><span class="icon"></span>http://jqueryui.com/autocomplete/#combobox</a> and noticed a significant performance issue on my page.  My list has ~3000 options in the combobox.  I noticed that most of the time it was stuck in the in the jquery js file within this set of code:</p><pre class="wiki">	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i &lt; len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},`
</pre><p>Even though my list object was only expected to be ~3000 rows, it was actually significantly higher.  Here is my stacktrace:</p><pre class="wiki">
indexOf (jquery-1.12.4.js:644)
hasDuplicate (jquery-1.12.4.js:1375)
Sizzle.uniqueSort (jquery-1.12.4.js:1518)
processClassString (jquery-ui.js:510)
_classes (jquery-ui.js:523)
_toggleClass (jquery-ui.js:549)
_addClass (jquery-ui.js:537)
refresh (jquery-ui.js:5249)
(anonymous function) (jquery-ui.js:144)
_suggest (jquery-ui.js:6100)
(anonymous function) (jquery-ui.js:144)
__response (jquery-ui.js:6043)
(anonymous function) (jquery-ui.js:144)
_superApply (jquery-ui.js:133)
__response (jquery-ui.js:6229)
(anonymous function) (jquery-ui.js:144)
(anonymous function) (jquery-ui.js:6027)
proxy (jquery-1.12.4.js:529)
_source (combobox.html:108)
(anonymous function) (jquery-ui.js:144)
proxy (jquery-1.12.4.js:529)
_search (jquery-ui.js:6019)
(anonymous function) (jquery-ui.js:144)
search (jquery-ui.js:6011)
(anonymous function) (jquery-ui.js:144)
(anonymous function) (jquery-ui.js:5992)
handlerProxy (jquery-ui.js:621)
</pre><p>In processClassString it does line:</p><p><code>current = $( $.unique( current.get().concat( options.element.get() ) ) );</code></p><p>The current list is my 3000 or so rows initially, and then it adds the elements back into that list making it roughly 6000 rows.  Depending on how the user is interacting with the page (clicking the dropdown icon multiple times, typing into the textbox for the filter and then deleting the text, etc), it will keep adding to itself.  At one point I had almost 200,000 rows in my 'list' variable.</p><p>I was able to reproduce this by stepping through the code using Chrome developer tools on <a href="http://jqueryui.com/autocomplete/#combobox" class="ext-link"><span class="icon"></span>http://jqueryui.com/autocomplete/#combobox</a> .  </p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 12:45PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ patcheswelcome</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>From the demo page: "This is not a supported or even complete widget."</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 01:32PM UTC by <span class="author">WickedDevils</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It's not the widget that is the problem.  It is the code behind it that duplicates the data.  Did you read what I said at all?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 02:32PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Yes, I read what you wrote. I don't see how the code could get up to 200,000 elements from 3,000. It does one concatenation, and then removes the duplicates, so the max count should never be more than 6,000. But even that number should never be reached. Because you've said that there are many interactions involved, and each interaction is actually its own completely separate operation with a new list each time, I don't see the correlation. Your stack trace shows <code>processClassString()</code> being called once and that doesn't provide any information about the number of elements.</p><p>Unless you can provide a concrete way for us to see that there is a problem, there's not much we can do.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 04:17PM UTC by <span class="author">WickedDevils</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I created a video on how to reproduce the issue with the jquery autocomplete example.  I have significantly more import options than what the example has.</p><p><a href="https://www.youtube.com/watch?v=9zNP5DsyKqA" class="ext-link"><span class="icon"></span>https://www.youtube.com/watch?v=9zNP5DsyKqA</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 04:29PM UTC by <span class="author">WickedDevils</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is the chunk of code I have found so far where the ui-menu-items are added</p><pre class="wiki">

		// Don't refresh list items that are already adapted
		newItems = items.not( ".ui-menu-item, .ui-menu-divider" );
		newWrappers = newItems.children()
			.not( ".ui-menu" )
				.uniqueId()
				.attr( {
					tabIndex: -1,
					role: this._itemRole()
				} );
		this._addClass( newItems, "ui-menu-item" )
			._addClass( newWrappers, "ui-menu-item-wrapper" );
</pre><p>I can see them adding to the list in newItems</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 04:32PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">ui.autocomplete</span> → <span class="change-field-new">ui.widget</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">patcheswelcome</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">JQuery autocomplete performance issue</span> → <span class="change-field-new">Widget: Internal list of elements with classes can&#39;t be cleaned up</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>version:</th>
                  <td>
                    
                      <span class="change-field-old">1.11.3</span> → <span class="change-field-new">1.12.0</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ok, now I see what's happening. The widget keeps track of the element that have classes applied, but in the case of autocomplete, the menu is constantly rebuilt, so the list grows with every render. Widgets need a way to signify that elements have been removed and should be taken out of the list.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 08:24PM UTC by <span class="author">WickedDevils</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I reverted jquery UI JS to 1.9 and this problem does not exist.  Somewhere between 1.9 and 1.12 it is not working correctly.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 08, 2016 08:29PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>That somewhere is 1.12.0, which is why I corrected the version field.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 13, 2016 07:16PM UTC by <span class="author">rjollos</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Fixed in [https://github.com/jquery/jquery-ui/commit/89af4c292eaa5fc1c83437ca71085264dcbef34a 89af4c292eaa5fc1c83437ca71085264dcbef34a]</span> → <span class="change-field-new">1473795928474446</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">none</span> → <span class="change-field-new">1.12.1</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 13, 2016 07:45PM UTC by <span class="author">arschmitz</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ arschmitz</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>In [changeset:"89af4c292eaa5fc1c83437ca71085264dcbef34a" 89af4c2]:</p><pre class="wiki">
#!CommitTicketReference repository="" revision="89af4c292eaa5fc1c83437ca71085264dcbef34a"
Widget: Untrack classes elements when they are removed from the DOM

Fixes #15043
Closes gh-1744
</pre>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 13, 2016 07:46PM UTC by <span class="author">rjollos</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">I used the code from site http://jqueryui.com/autocomplete/#combobox and noticed a significant performance issue on my page.  My list has ~3000 options in the combobox.  I noticed that most of the time it was stuck in the in the jquery js file within this set of code:&#92;
&#92;
`	indexOf = function( list, elem ) {&#92;
		var i = 0,&#92;
			len = list.length;&#92;
		for ( ; i &lt; len; i++ ) {&#92;
			if ( list[i] === elem ) {&#92;
				return i;&#92;
			}&#92;
		}&#92;
		return -1;&#92;
	},`&#92;
&#92;
Even though my list object was only expected to be ~3000 rows, it was actually significantly higher.  Here is my stacktrace:&#92;
&#92;
`indexOf (jquery-1.12.4.js:644)&#92;
hasDuplicate (jquery-1.12.4.js:1375)&#92;
Sizzle.uniqueSort (jquery-1.12.4.js:1518)&#92;
processClassString (jquery-ui.js:510)&#92;
_classes (jquery-ui.js:523)&#92;
_toggleClass (jquery-ui.js:549)&#92;
_addClass (jquery-ui.js:537)&#92;
refresh (jquery-ui.js:5249)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
_suggest (jquery-ui.js:6100)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
__response (jquery-ui.js:6043)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
_superApply (jquery-ui.js:133)&#92;
__response (jquery-ui.js:6229)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
(anonymous function) (jquery-ui.js:6027)&#92;
proxy (jquery-1.12.4.js:529)&#92;
_source (combobox.html:108)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
proxy (jquery-1.12.4.js:529)&#92;
_search (jquery-ui.js:6019)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
search (jquery-ui.js:6011)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
(anonymous function) (jquery-ui.js:5992)&#92;
handlerProxy (jquery-ui.js:621)&#92;
`&#92;
&#92;
In processClassString it does line:&#92;
&#92;
`current = $( $.unique( current.get().concat( options.element.get() ) ) );`&#92;
&#92;
The current list is my 3000 or so rows initially, and then it adds the elements back into that list making it roughly 6000 rows.  Depending on how the user is interacting with the page (clicking the dropdown icon multiple times, typing into the textbox for the filter and then deleting the text, etc), it will keep adding to itself.  At one point I had almost 200,000 rows in my &#39;list&#39; variable.&#92;
&#92;
I was able to reproduce this by stepping through the code using Chrome developer tools on http://jqueryui.com/autocomplete/#combobox .  </span> → <span class="change-field-new">I used the code from site http://jqueryui.com/autocomplete/#combobox and noticed a significant performance issue on my page.  My list has ~3000 options in the combobox.  I noticed that most of the time it was stuck in the in the jquery js file within this set of code:&#92;
{{{#!js&#92;
	indexOf = function( list, elem ) {&#92;
		var i = 0,&#92;
			len = list.length;&#92;
		for ( ; i &lt; len; i++ ) {&#92;
			if ( list[i] === elem ) {&#92;
				return i;&#92;
			}&#92;
		}&#92;
		return -1;&#92;
	},`&#92;
}}}&#92;
Even though my list object was only expected to be ~3000 rows, it was actually significantly higher.  Here is my stacktrace:&#92;
&#92;
{{{&#92;
indexOf (jquery-1.12.4.js:644)&#92;
hasDuplicate (jquery-1.12.4.js:1375)&#92;
Sizzle.uniqueSort (jquery-1.12.4.js:1518)&#92;
processClassString (jquery-ui.js:510)&#92;
_classes (jquery-ui.js:523)&#92;
_toggleClass (jquery-ui.js:549)&#92;
_addClass (jquery-ui.js:537)&#92;
refresh (jquery-ui.js:5249)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
_suggest (jquery-ui.js:6100)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
__response (jquery-ui.js:6043)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
_superApply (jquery-ui.js:133)&#92;
__response (jquery-ui.js:6229)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
(anonymous function) (jquery-ui.js:6027)&#92;
proxy (jquery-1.12.4.js:529)&#92;
_source (combobox.html:108)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
proxy (jquery-1.12.4.js:529)&#92;
_search (jquery-ui.js:6019)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
search (jquery-ui.js:6011)&#92;
(anonymous function) (jquery-ui.js:144)&#92;
(anonymous function) (jquery-ui.js:5992)&#92;
handlerProxy (jquery-ui.js:621)&#92;
}}}&#92;
&#92;
In processClassString it does line:&#92;
&#92;
`current = $( $.unique( current.get().concat( options.element.get() ) ) );`&#92;
&#92;
The current list is my 3000 or so rows initially, and then it adds the elements back into that list making it roughly 6000 rows.  Depending on how the user is interacting with the page (clicking the dropdown icon multiple times, typing into the textbox for the filter and then deleting the text, etc), it will keep adding to itself.  At one point I had almost 200,000 rows in my &#39;list&#39; variable.&#92;
&#92;
I was able to reproduce this by stepping through the code using Chrome developer tools on http://jqueryui.com/autocomplete/#combobox .  </span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2026
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

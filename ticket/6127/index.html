<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#6127 (Datepicker: When using yearRange cannot initially use previous or next arrows) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/6126/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/6128/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#6127</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(duplicate)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened September 30, 2010 11:09AM UTC</p>
      
        <p>Closed October 23, 2016 12:02PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Datepicker: When using yearRange cannot initially use previous or next arrows</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        diackne@gmail.com
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.datepicker</td>
      
        <th>Version:</th>
      
      <td>1.8.5</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>dropdown-month-year with yearRange  go to out of year range</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>dropdown-month-year with yearRange </p><pre class="wiki">
&lt;script&gt;
	$(function() {
		$( "#datepicker" ).datepicker({
			changeMonth: true,
			changeYear: true,
                        yearRange: '1900:2010'

		});
	});
	&lt;/script&gt;
</pre><p>when select last year 1900 and last month jan, the button preview becomes active, if press in button prev, the year in selectbox is max of range 1900 and month changes,  but when you select one day, the year is out of range.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (9)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 11, 2012 09:04PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">1.11.0</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2012 05:37PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Confirmed: <a href="http://jsfiddle.net/FWWZ7/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FWWZ7/</a></p><p>Steps to reproduce:</p><p>1. Click the previous month arrow button until Jan 1900 is displayed.</p><p>2. Hit previous month arrow button</p><p>expected: rolls over to Dec. 2010</p><p>actual: rolls over to December 1900</p><p>If you then choose any month using the month select dropdown, the behavior above produces the expected result.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 12, 2013 07:09PM UTC by <span class="author">patrickkostjens</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Replying to [comment:2 mikesherov]:&#92;
&gt; Confirmed: http://jsfiddle.net/FWWZ7/&#92;
&gt; &#92;
&gt; Steps to reproduce:&#92;
&gt; 1. Click the previous month arrow button until Jan 1900 is displayed.&#92;
&gt; 2. Hit previous month arrow button&#92;
&gt; &#92;
&gt; expected: rolls over to Dec. 2010&#92;
&gt; &#92;
&gt; actual: rolls over to December 1900&#92;
&gt; &#92;
&gt; If you then choose any month using the month select dropdown, the behavior above produces the expected result.&#92;
In the jsfiddle (with jQuery UI 1.8.18), it seems to roll over to December 1900 indeed (it is what the dropdowns display). When you get the datepicker&#39;s data however, the selectedYear property is 1899, not 1900. </span> → <span class="change-field-new">1384285125401302</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:2 mikesherov]:</p><blockquote> Confirmed: <a href="http://jsfiddle.net/FWWZ7/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FWWZ7/</a>  Steps to reproduce: 1. Click the previous month arrow button until Jan 1900 is displayed. 2. Hit previous month arrow button  expected: rolls over to Dec. 2010  actual: rolls over to December 1900  If you then choose any month using the month select dropdown, the behavior above produces the expected result.</blockquote><p>In the jsfiddle (with jQuery UI 1.8.18), it seems to roll over to December 1900 indeed (it is what the dropdowns display). When you get the datepicker's data however, the selectedYear property is 1899, not 1900. </p><p>Edit: In the master checkout, the button is disabled. Should this issue be considered resolved?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 13, 2013 02:40AM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.11.0</span> → <span class="change-field-new">none</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">dropdown-month-year with yearRange  go to out of year range</span> → <span class="change-field-new">Datepicker: When using yearRange cannot initially use previous or next arrows</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Well <a href="https://github.com/jquery/jquery-ui/commit/eca5abd873675f5cc7b96641c723b7e35a4260bc" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/commit/eca5abd873675f5cc7b96641c723b7e35a4260bc</a> (which landed in 1.10.0) does seem to have mostly resolved this. However there still is a small problem - now when the calendar is initially loaded the previous and next arrows are disabled when they shouldn't be. See <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a></p><p>I'll update this ticket to be more specific to that issue.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2014 07:54AM UTC by <span class="author">robotdan</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The <a href="http://api.jqueryui.com/datepicker/#option-yearRange" class="ext-link"><span class="icon"></span>API documentation</a> indicates the <code>yearRange</code> should not restrict which dates may be selected.</p><pre class="wiki">
yearRange

Note that this option only affects what appears in the drop-down, to restrict which dates may be
    selected use the minDate and/or maxDate options.
</pre><p>Currently <code>_isInRange</code> is using the year range to restrict selection it seems.  </p><p>I have some proposed changes to fix the issue demonstrated here <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a>  But I wonder if the logic being used in <code>_isInRange</code> should be re-evaluated first? </p><p>The API seems to indicate that <code>yearRange</code> should really be used  along with <code>minDate</code> and <code>maxDate</code> if the widget is to enforce the Year range displayed in selector.  Or maybe I'm not understanding something correctly.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 10, 2014 01:54PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:5 robotdan]:</p><blockquote> The <a href="http://api.jqueryui.com/datepicker/#option-yearRange" class="ext-link"><span class="icon"></span>API documentation</a> indicates the <code>yearRange</code> should not restrict which dates may be selected. <pre class="wiki">
&gt; yearRange
&gt; 
&gt; Note that this option only affects what appears in the drop-down, to restrict which dates may be
&gt;     selected use the minDate and/or maxDate options.
&gt; </pre>  Currently <code>_isInRange</code> is using the year range to restrict selection it seems.    I have some proposed changes to fix the issue demonstrated here <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a>  But I wonder if the logic being used in <code>_isInRange</code> should be re-evaluated first?   The API seems to indicate that <code>yearRange</code> should really be used  along with <code>minDate</code> and <code>maxDate</code> if the widget is to enforce the Year range displayed in selector.  Or maybe I'm not understanding something correctly.</blockquote><p>That jsFiddle URL is the same one from my earlier comment. I'm guessing you meant to give a different one.</p><p>In general, we're not making any changes to datepicker's API as a rewrite is in progress: <a href="http://wiki.jqueryui.com/w/page/12137778/Datepicker." class="ext-link"><span class="icon"></span>http://wiki.jqueryui.com/w/page/12137778/Datepicker.</a> If we can fix this bug then that's fine, but the APIs need to remain as-is.</p><p>Also we'd love to have some help with the rewrite :)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 12, 2014 06:34AM UTC by <span class="author">robotdan</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <blockquote> I have some proposed changes to fix the issue demonstrated here  <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a> But I wonder if the logic being used in _isInRange should be re-evaluated first?</blockquote><p>&gt;&gt; That jsFiddle URL is the same one from my earlier comment. I'm guessing you meant to give a different one.</p><p>Oh, sorry, my wording wasn't very clear. I only meant, I had some local changes that I have not yet submitted a pull request for that fix the issue you demonstrated in this jsFiddle <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a>  </p><p>Maybe I'll just submit a pull request when I get a moment, and see where it goes from there.</p><p>I would be interested in helping with some of the rewrite.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 12, 2014 01:07PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:7 robotdan]:</p><blockquote> &gt; I have some proposed changes to fix the issue demonstrated here  <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a> But I wonder if the logic being used in _isInRange should be re-evaluated first? &gt;&gt; That jsFiddle URL is the same one from my earlier comment. I'm guessing you meant to give a different one.  Oh, sorry, my wording wasn't very clear. I only meant, I had some local changes that I have not yet submitted a pull request for that fix the issue you demonstrated in this jsFiddle <a href="http://jsfiddle.net/tj_vantoll/n24ws/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/n24ws/.</a>    Maybe I'll just submit a pull request when I get a moment, and see where it goes from there.  I would be interested in helping with some of the rewrite.</blockquote><p>Sounds good. If you're interesting in helping out with the rewrite checkout the wiki page (<a href="http://wiki.jqueryui.com/w/page/12137778/Datepicker)" class="ext-link"><span class="icon"></span>http://wiki.jqueryui.com/w/page/12137778/Datepicker)</a> and the branch (<a href="https://github.com/jquery/jquery-ui/tree/datepicker)." class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/tree/datepicker).</a> At the moment I'm specifically looking for help implementing a </p><pre class="wiki">min</pre> and <pre class="wiki">max</pre> option.<p></p><p>Ping us on IRC (<a href="http://irc.jquery.org/)" class="ext-link"><span class="icon"></span>http://irc.jquery.org/)</a> and we can help you get started - although we're all in San Diego at a team meeting right now so we might not be able to get back with you until next week.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 23, 2016 12:02PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ duplicate</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Duplicate of <a href="/ticket/8873">#8873</a>.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

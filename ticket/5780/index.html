<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5780 (Negative values for slider) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5779/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5781/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#5780</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened June 29, 2010 10:59AM UTC</p>
      
        <p>Closed October 27, 2010 08:36PM UTC</p>
      
      
        <p>Last modified October 11, 2012 09:15PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Negative values for slider</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        Thangalin
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/"></a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.slider</td>
      
        <th>Version:</th>
      
      <td>1.8.1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>negative min values</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>The code below dynamically resets the options for two select elements. The select elements allow <a href="/wiki/JavaScript">JavaScript</a> to fail gracefully. The code:</p><p>(1) creates a new list of &lt;options&gt;;</p><p>(2) removes the current &lt;options&gt; from the &lt;select&gt; list;</p><p>(3) appends the new list of &lt;options&gt; to the &lt;select&gt; list;</p><p>(4) updates the slider with the new min, max, steps, and default values.</p><p>The problem is the line "//if( value &gt; 0 ) {".</p><p>When the slider is initialised, it is given -65 as the min value and 50 as the max value. Everything works fine.</p><p>However, changing the slider min/max values dynamically (shown in the code below) to 0 and 500 and then back to -65 and 50, results in an "m is undefined" error.</p><p>When the problem line is commented out (i.e., when only positive values are appended to the list), the slider works as expected. It is only when the slider is reassigned a negative min value that the error appears. Positive values (0 and up) work fine.</p><p>        var options = [];</p><p>        $.each( data, function( index, value ) {</p><p>          //if( value &gt; 0 ) {</p><p>            options.push(</p><p>              '&lt;option value="' + value + '"&gt;' + value + '&lt;/option&gt;' );</p><p>          <em>}</em></p><p>        });</p><p>         If the category is "temperature" (degrees C), increment by 1.</p><p>        var steps = (units == 'c' ? 1 : 10);</p><p>        var min = category.amount_min;</p><p>        var max = category.amount_max;</p><p>        var j = options.join( '' );</p><p>        if( min &lt; 0 ) { min = 0; }</p><p>        $('#report_int_Amount1')</p><p>          .find('option').remove().end().append( j ).val( min );</p><p>        $('#report_int_Amount2')</p><p>          .find('option').remove().end().append( j ).val( max );</p><p>        $("#slider-amounts").slider( "option", "min", min );</p><p>        $("#slider-amounts").slider( "option", "max", max );</p><p>        $("#slider-amounts").slider( "option", "step", steps );</p><p>        $("#slider-amounts").slider( "option", "values", [min, max] );</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 29, 2010 11:01AM UTC by <span class="author">Thangalin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The slider is created as follows:</p><p>  $("#slider-amounts").slider({</p><p>    range: true,</p><p>    min: -65,</p><p>    max: 50,</p><p>    step: 1,</p><p>    values: [-65, 50],</p><p>    slide: function(e, ui){ </p><p>      if( ui.values[1] - ui.values[0] &gt;= 1 ) {</p><p>        $('#amount1-show').html( ui.values[0] );</p><p>        $('#amount2-show').html( ui.values[1] );</p><p>        if( category.units_abbr != undefined ) {</p><p>          $('#amount-unit1').html( category.units_abbr );</p><p>          $('#amount-unit2').html( category.units_abbr );</p><p>        }</p><p>        $('select#report_int_Amount1').val( ui.values[0] );</p><p>        $('select#report_int_Amount2').val( ui.values[1] );</p><p>        return true;</p><p>      }</p><p>      else {</p><p>        return false;</p><p>      }</p><p>    }</p><p>  });</p><p>The &lt;select&gt; option is created as follows (before it gets changed dynamically):</p><p>&lt;select name='report_int_Amount1' id='report_int_Amount1'&gt;</p><p>&lt;option value='-65' selected='selected'&gt;-65&lt;/option&gt;&lt;option value='-64'&gt;-64&lt;/option&gt;&lt;option value='-63'&gt;-63&lt;/option&gt;&lt;option value='-62'&gt;-62&lt;/option&gt;&lt;option value='-61'&gt;-61&lt;/option&gt;&lt;option value='-60'&gt;-60&lt;/option&gt;&lt;option value='-59'&gt;-59&lt;/option&gt;&lt;option value='-58'&gt;-58&lt;/option&gt;&lt;option value='-57'&gt;-57&lt;/option&gt;&lt;option value='-56'&gt;-56&lt;/option&gt;&lt;option value='-55'&gt;-55&lt;/option&gt;&lt;option value='-54'&gt;-54&lt;/option&gt;&lt;option value='-53'&gt;-53&lt;/option&gt;&lt;option value='-52'&gt;-52&lt;/option&gt;&lt;option value='-51'&gt;-51&lt;/option&gt;&lt;option value='-50'&gt;-50&lt;/option&gt;&lt;option value='-49'&gt;-49&lt;/option&gt;&lt;option value='-48'&gt;-48&lt;/option&gt;&lt;option value='-47'&gt;-47&lt;/option&gt;&lt;option value='-46'&gt;-46&lt;/option&gt;&lt;option value='-45'&gt;-45&lt;/option&gt;&lt;option value='-44'&gt;-44&lt;/option&gt;&lt;option value='-43'&gt;-43&lt;/option&gt;&lt;option value='-42'&gt;-42&lt;/option&gt;&lt;option value='-41'&gt;-41&lt;/option&gt;&lt;option value='-40'&gt;-40&lt;/option&gt;&lt;option value='-39'&gt;-39&lt;/option&gt;&lt;option value='-38'&gt;-38&lt;/option&gt;&lt;option value='-37'&gt;-37&lt;/option&gt;&lt;option value='-36'&gt;-36&lt;/option&gt;&lt;option value='-35'&gt;-35&lt;/option&gt;&lt;option value='-34'&gt;-34&lt;/option&gt;&lt;option value='-33'&gt;-33&lt;/option&gt;&lt;option value='-32'&gt;-32&lt;/option&gt;&lt;option value='-31'&gt;-31&lt;/option&gt;&lt;option value='-30'&gt;-30&lt;/option&gt;&lt;option value='-29'&gt;-29&lt;/option&gt;&lt;option value='-28'&gt;-28&lt;/option&gt;&lt;option value='-27'&gt;-27&lt;/option&gt;&lt;option value='-26'&gt;-26&lt;/option&gt;&lt;option value='-25'&gt;-25&lt;/option&gt;&lt;option value='-24'&gt;-24&lt;/option&gt;&lt;option value='-23'&gt;-23&lt;/option&gt;&lt;option value='-22'&gt;-22&lt;/option&gt;&lt;option value='-21'&gt;-21&lt;/option&gt;&lt;option value='-20'&gt;-20&lt;/option&gt;&lt;option value='-19'&gt;-19&lt;/option&gt;&lt;option value='-18'&gt;-18&lt;/option&gt;&lt;option value='-17'&gt;-17&lt;/option&gt;&lt;option value='-16'&gt;-16&lt;/option&gt;&lt;option value='-15'&gt;-15&lt;/option&gt;&lt;option value='-14'&gt;-14&lt;/option&gt;&lt;option value='-13'&gt;-13&lt;/option&gt;&lt;option value='-12'&gt;-12&lt;/option&gt;&lt;option value='-11'&gt;-11&lt;/option&gt;&lt;option value='-10'&gt;-10&lt;/option&gt;&lt;option value='-9'&gt;-9&lt;/option&gt;&lt;option value='-8'&gt;-8&lt;/option&gt;&lt;option value='-7'&gt;-7&lt;/option&gt;&lt;option value='-6'&gt;-6&lt;/option&gt;&lt;option value='-5'&gt;-5&lt;/option&gt;&lt;option value='-4'&gt;-4&lt;/option&gt;&lt;option value='-3'&gt;-3&lt;/option&gt;&lt;option value='-2'&gt;-2&lt;/option&gt;&lt;option value='-1'&gt;-1&lt;/option&gt;&lt;option value='0'&gt;0&lt;/option&gt;&lt;option value='1'&gt;1&lt;/option&gt;&lt;option value='2'&gt;2&lt;/option&gt;&lt;option value='3'&gt;3&lt;/option&gt;&lt;option value='4'&gt;4&lt;/option&gt;&lt;option value='5'&gt;5&lt;/option&gt;&lt;option value='6'&gt;6&lt;/option&gt;&lt;option value='7'&gt;7&lt;/option&gt;&lt;option value='8'&gt;8&lt;/option&gt;&lt;option value='9'&gt;9&lt;/option&gt;&lt;option value='10'&gt;10&lt;/option&gt;&lt;option value='11'&gt;11&lt;/option&gt;&lt;option value='12'&gt;12&lt;/option&gt;&lt;option value='13'&gt;13&lt;/option&gt;&lt;option value='14'&gt;14&lt;/option&gt;&lt;option value='15'&gt;15&lt;/option&gt;&lt;option value='16'&gt;16&lt;/option&gt;&lt;option value='17'&gt;17&lt;/option&gt;&lt;option value='18'&gt;18&lt;/option&gt;&lt;option value='19'&gt;19&lt;/option&gt;&lt;option value='20'&gt;20&lt;/option&gt;&lt;option value='21'&gt;21&lt;/option&gt;&lt;option value='22'&gt;22&lt;/option&gt;&lt;option value='23'&gt;23&lt;/option&gt;&lt;option value='24'&gt;24&lt;/option&gt;&lt;option value='25'&gt;25&lt;/option&gt;&lt;option value='26'&gt;26&lt;/option&gt;&lt;option value='27'&gt;27&lt;/option&gt;&lt;option value='28'&gt;28&lt;/option&gt;&lt;option value='29'&gt;29&lt;/option&gt;&lt;option value='30'&gt;30&lt;/option&gt;&lt;option value='31'&gt;31&lt;/option&gt;&lt;option value='32'&gt;32&lt;/option&gt;&lt;option value='33'&gt;33&lt;/option&gt;&lt;option value='34'&gt;34&lt;/option&gt;&lt;option value='35'&gt;35&lt;/option&gt;&lt;option value='36'&gt;36&lt;/option&gt;&lt;option value='37'&gt;37&lt;/option&gt;&lt;option value='38'&gt;38&lt;/option&gt;&lt;option value='39'&gt;39&lt;/option&gt;&lt;option value='40'&gt;40&lt;/option&gt;&lt;option value='41'&gt;41&lt;/option&gt;&lt;option value='42'&gt;42&lt;/option&gt;&lt;option value='43'&gt;43&lt;/option&gt;&lt;option value='44'&gt;44&lt;/option&gt;&lt;option value='45'&gt;45&lt;/option&gt;&lt;option value='46'&gt;46&lt;/option&gt;&lt;option value='47'&gt;47&lt;/option&gt;&lt;option value='48'&gt;48&lt;/option&gt;&lt;option value='49'&gt;49&lt;/option&gt;&lt;option value='50'&gt;50&lt;/option&gt;</p><p>&lt;/select&gt;</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 27, 2010 08:36PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Works for me: <a href="http://jsbin.com/eyopo4/edit" class="ext-link"><span class="icon"></span>http://jsbin.com/eyopo4/edit</a></p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 11, 2012 09:15PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">TBD</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Milestone TBD deleted</p>
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

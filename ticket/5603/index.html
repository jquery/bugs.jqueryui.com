<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5603 (Button with icon not displayed correctly in Firefox when button has css height.) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5602/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5604/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#5603</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened May 11, 2010 10:09AM UTC</p>
      
        <p>Closed November 14, 2012 03:02AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Button with icon not displayed correctly in Firefox when button has css height.</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        probablymike
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.11.0">1.11.0</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.button</td>
      
        <th>Version:</th>
      
      <td>1.8.1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>button height icon firefox css</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Got a couple of html buttons that I'm applying the jQuery UI button widget to, with icons on the buttons.</p><p>These buttons have a css style to set the width & height.</p><p>In IE the icons are fine, to the left of the button in the middle aligned with the text.</p><p>However, in Firefox 3.6 the icon is at the bottom left corner of the button.</p><p>If I take the height style off the button then the icon is aligned correctly.</p><p>Very simple example:</p><pre class="wiki">
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;

&lt;head&gt;
  &lt;title&gt;&lt;/title&gt;
    &lt;link rel="stylesheet" href="jquery-ui-1.8.1.custom.css" type="text/css" /&gt;
    &lt;script type="text/javascript" src="query-1.4.2.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="jquery-ui-1.8.1.custom.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body style="font-family:Arial; font-size:small;"&gt;
    &lt;button id="ButtonPlanningHistory" type="button" style="height:70px;width:170px;" onclick="top.location='search.aspx';"&gt;Planning History&lt;/button&gt;
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;button id="ButtonMainRegister" type="button" style="height:70px;width:170px;" onclick="top.location='register.aspx';"&gt;Main Register&lt;/button&gt;
       
    &lt;script type="text/javascript"&gt;
        $("button").button({icons:{primary:'ui-icon-arrowthick-1-e'}});
    &lt;/script&gt;           
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (9)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 20, 2010 12:26PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">1.9</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">minor</span> → <span class="change-field-new">major</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 28, 2011 08:04PM UTC by <span class="author">fofanafi</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Verified: Icon appears inline on IE, Chrome and Opera, but not in Firefox using jQuery UI 1.8.11</p><p>Test case:</p><p><a href="http://jsbin.com/ehubo/22" class="ext-link"><span class="icon"></span>http://jsbin.com/ehubo/22</a></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 14, 2011 02:42PM UTC by <span class="author">k_borchers</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I am not sure there is a good solution to this issue as it is being caused by Firefox not following the standard box model when displaying buttons. If a height is set, Firefox converts that to a combination of a smaller height and top/bottom padding that total that set height. I am attempting to find a way to changes this during creation of the button but I&#39;m not sure if Firefox will allow the change.</span> → <span class="change-field-new">1305384159389433</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I am not sure there is a good solution to this issue as it is being caused by Firefox not following the standard box model when displaying buttons. If a height is set, Firefox converts that to a combination of a smaller height and top/bottom padding that total that set height. I am attempting to find a way to change this during creation of the button but I'm not sure if Firefox will allow the change.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 18, 2011 09:58PM UTC by <span class="author">cmhdave</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:3 k_borchers]:</p><blockquote> I am not sure there is a good solution to this issue as it is being caused by Firefox not following the standard box model when displaying buttons. If a height is set, Firefox converts that to a combination of a smaller height and top/bottom padding that total that set height. I am attempting to find a way to change this during creation of the button but I'm not sure if Firefox will allow the change.</blockquote><p>I have a fix for this but it's not a *good* fix as it relies on browser sniffing to render the button differently in Firefox than it renders in other browsers.  I've confirmed it works as expected in Firefox, IE and Chrome but again, it's not a very good fix.  I'm investigating a way to handle this better without the need for browser sniffing.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 09, 2011 07:31PM UTC by <span class="author">gnarf</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old">button height icon firefox</span> → <span class="change-field-new">button height icon firefox css</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Playing around on <a href="http://jsbin.com/ehubo/22" class="ext-link"><span class="icon"></span>http://jsbin.com/ehubo/22</a> I came up with this CSS change:</p><p>On line 140 (currently) of jquery-ui.css -- Removed the "top: 50%" and added margin-top: 8px instead of -8px:</p><pre class="wiki">
.ui-button-icon-only .ui-icon, .ui-button-text-icon-primary .ui-icon, .ui-button-text-icon-secondary .ui-icon, .ui-button-text-icons .ui-icon, .ui-button-icons-only .ui-icon { position: absolute;  margin-top: 8px; }
</pre><p>Seems right in FF / Chrome...</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 06, 2011 10:26PM UTC by <span class="author">elerch</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I successfully worked around this problem in one case by changing my &quot;height&quot; style to &quot;min-height&quot;.  This will render the same in IE 8/9, FF 4/5, and Chrome (v13 tested).  Changing the inline styles on [http://jsbin.com/ehubo/22] also yielded the expected results.  &#92;
&#92;
I also achieved the proper effect in my own application by specifying line-height, although I can&#39;t seem to replicate that, and I don&#39;t think I&#39;d recommend it anyway.</span> → <span class="change-field-new">1309991582147800</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I successfully worked around this problem in one case by changing my "height" style to "min-height".  This will render the same in IE 8/9 (in standards mode), FF 4/5, and Chrome (v13 tested).  Changing the inline styles on <a href="http://jsbin.com/ehubo/22" class="ext-link"><span class="icon"></span>http://jsbin.com/ehubo/22</a> also yielded the expected results.  </p><p>I also achieved the proper effect in my own application by specifying line-height, although I can't seem to replicate that, and I don't think I'd recommend it anyway.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 12, 2012 11:21PM UTC by <span class="author">eh</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I&#39;ve had what seems to be the exact same problem. My &lt;button&gt; in an explicitly sized &lt;div&gt;, each 20px square. The button widget is icon-only. The icon is 10px square, and these CSS rules for the icon &lt;span&gt; work just fine for Chrome and IE:&#92;
{&#92;
	width: 10px;&#92;
	height: 10px;&#92;
	margin-top: -5px;&#92;
	margin-left: -5px;&#92;
}&#92;
This is an exact analogy with what&#39;s already in the jQuery UI CSS source.&#92;
&#92;
In Firefox, though, the icon is positioned 6px too low. Weirdly, explicitly deleting the second &lt;span&gt; (which probably shouldn&#39;t be there at all, IMO) moves the icon down even farther. &#92;
&#92;
Looking at the layout boxes in Firebug, though, reveals the Firefox defect. The horizontal positions, margins, padding, and width add up correctly to the width of the containing element. In the vertical, though, they add up consistently to 9 instead of 20. I haven&#39;t dug into this enough to know why. Regardless of how Firefox rendering works out in the end, it&#39;s pretty clear it&#39;s going to take some browser-specific code, which is what I&#39;m doing to work around it.</span> → <span class="change-field-new">1326410532731044</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">I&#39;ve had what seems to be the exact same problem. My &lt;button&gt; is in an explicitly sized &lt;div&gt;, each 20px square. The button widget is icon-only. The icon is 10px square, and these CSS rules for the icon &lt;span&gt; work just fine for Chrome and IE:&#92;
{&#92;
	width: 10px;&#92;
	height: 10px;&#92;
	margin-top: -5px;&#92;
	margin-left: -5px;&#92;
}&#92;
This is an exact analogy with what&#39;s already in the jQuery UI CSS source for the smaller size.&#92;
&#92;
In Firefox, though, the icon is positioned 6px too low. Weirdly, explicitly deleting the second &lt;span&gt; (which probably shouldn&#39;t be there at all, IMO) moves the icon down even farther. &#92;
&#92;
Looking at the layout boxes in Firebug, though, reveals the Firefox defect. The horizontal positions, margins, padding, and width add up correctly to the width of the containing element. In the vertical, though, they add up consistently to 9 instead of 20. I haven&#39;t dug into this enough to know why. Regardless of how Firefox rendering works out in the end, it&#39;s pretty clear it&#39;s going to take some browser-specific code, which is what I&#39;m doing to work around it.</span> → <span class="change-field-new">1326465308951380</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment2:</th>
                  <td>
                    
                      <span class="change-field-old">I&#39;ve had what seems to be the exact same problem. My &lt;button&gt; is in an explicitly sized &lt;div&gt;, each 20px square. The button widget is icon-only. The icon is 10px square, and these CSS rules for the icon &lt;span&gt; work just fine for Chrome and IE:&#92;
{&#92;
	width: 10px;&#92;
	height: 10px;&#92;
	margin-top: -5px;&#92;
	margin-left: -5px;&#92;
}&#92;
This is an exact analogy with what&#39;s already in the jQuery UI CSS source for the smaller size. They fail, however, in Firefox 9.0.1, and the icon is positioned 6px too low. Weirdly, explicitly deleting the second &lt;span&gt; (the one for label text, and which shouldn&#39;t be there at all, IMO) moves the icon down even farther. &#92;
&#92;
Looking at the layout boxes with Firebug, though, reveals the Firefox defect. The horizontal positions, margins, padding, and width add up correctly to the width of the containing element. In the vertical, though, they add up consistently to 9 instead of 20, and that&#39;s with a variety of style instructions. I haven&#39;t dug into this enough to know why. Regardless of how Firefox rendering works out in the end, it&#39;s pretty clear it&#39;s going to take some browser-specific code, which is what I&#39;m doing to work around it.</span> → <span class="change-field-new">1326804061516569</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>I've had what seems to be the exact same problem. My &lt;button&gt; is in an explicitly sized &lt;div&gt;, each 20px square. The button widget is icon-only. The icon is 10px square, and these CSS rules for the icon &lt;span&gt; work just fine for Chrome and IE:</p><p>{</p><p>	width: 10px;</p><p>	height: 10px;</p><p>	margin-top: -5px;</p><p>	margin-left: -5px;</p><p>}</p><p>This is an exact analogy with what's already in the jQuery UI CSS source for the smaller size. They fail, however, in Firefox 9.0.1, and the icon is positioned 6px too low. Weirdly, explicitly deleting the second &lt;span&gt; (the one for label text, and which shouldn't be there at all, IMO) moves the icon down even farther. </p><p>Looking at the layout boxes with Firebug, though, reveals the Firefox defect. The horizontal positions, margins, padding, and width add up correctly to the width of the containing element. In the vertical, though, they add up consistently to 9 instead of 20, and that's with a variety of style instructions. I haven't dug into this enough to know why. Regardless of how Firefox rendering works out in the end, it's pretty clear it's going to take some browser-specific code, which is what I'm doing to work around it.</p><p>Update: The button widget was declared with { text: false }, but no 'label' property. Adding label text removes the need for Firefox-specific code. Adding label text that was empty or just a single space did not.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 11, 2012 02:43PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.9.0</span> → <span class="change-field-new">1.11.0</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 14, 2012 03:02AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Looks like this was fixed way back in Firefox 10: <a href="http://jsbin.com/ehubo/22" class="ext-link"><span class="icon"></span>http://jsbin.com/ehubo/22</a> I confirmed this on browserstack. Seeing as we don't support anything other than the latest 2 firefox's, this is now a wontfix. If anyone else has evidence this bug still exists, please feel free to file a new report. </p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#6694 (datepicker does not fire change event in IE8) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/6693/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/6695/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#6694</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened November 24, 2010 11:43PM UTC</p>
      
        <p>Closed February 03, 2011 01:53PM UTC</p>
      
      
        <p>Last modified February 03, 2011 01:54PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">datepicker does not fire change event in IE8</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        cmcnulty
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.8.10">1.8.10</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.datepicker</td>
      
        <th>Version:</th>
      
      <td>1.8.6</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>When using IE8 and entering a date using the keyboard the change event isn't raised when the input loses focus if the datepicker was visible whilst entering the date.</p><p>Steps to reproduce:</p><p>   1. Use IE 8</p><p>   2. Focus the input field (datepicker should show).</p><p>   3. Enter the date "10/10/2010" in to the first input field (do not close the datepicker).</p><p>   4. Tab to the next input field. </p><p>Result: The page still shows "Date: none"</p><p>Expected Result: The page should show "Date: 10/10/2010"</p><p> <a href="http://www.jsfiddle.net/gUc5c/8/" class="ext-link"><span class="icon"></span>http://www.jsfiddle.net/gUc5c/8/</a></p><p>Notes: The field we are interested in is "Date:", "Other:" is just for verification that change and tabbing is working correctly.</p><p>The error seems to be coming from the focus changing during typing in the date box whilst the picker is visible. This happens when the user starts entering the year part of the date.</p><p>Stack trace when "_change_data" is changed due to focus event.</p><pre class="wiki">
   1. jQuery.js:1174 (data == '10/10/2')
   2. jQuery.js:2636 (beforeactivate)
   3. jQuery.js:2260 (event.type == 'focus')
   4. ...
   5. jQuery-ui.js:7768 (_updateDatepicker, inst.input.focus())
   6. jQuery-ui.js:7651 (_doKeyUp)
</pre><p>Html:</p><pre class="wiki">
   1. &lt;div&gt;
   2.     &lt;input id="a1" type="text"&gt;
   3.     Date: &lt;span id="a2"&gt;none&lt;/span&gt;
   4. &lt;/div&gt;
   5.

   6. &lt;div&gt;
   7.     &lt;input id="b1" type="text"&gt;
   8.      Other: &lt;span id="b2"&gt;none&lt;/span&gt;
   9. &lt;/div&gt;
</pre><p>Javascript:</p><pre class="wiki">
   1. $(function () {  
   2.     $('#a1').datepicker ({
   3.         showOn: 'focus',
   4.         buttonText: 'clickme'
   5.     }).change (function () {
   6.         $('#a2').text ($(this).val ());
   7.     })
   8.     
   9.     $('#b1').change (function () {
  10.         $('#b2').text ($(this).val ());
  11.     })
  12. });
</pre><p>The problem also appears in 1.4.3 with jQuery UI 1.8.5:  <a href="http://www.jsfiddle.net/gUc5c/13/" class="ext-link"><span class="icon"></span>http://www.jsfiddle.net/gUc5c/13/</a> Problem does not occur in 1.4.2 with jUI 1.8.4  <a href="http://www.jsfiddle.net/gUc5c/14/" class="ext-link"><span class="icon"></span>http://www.jsfiddle.net/gUc5c/14/</a></p><p>text of bug report copied from:</p><p> <a href="http://forum.jquery.com/topic/change-event-not-raised-when-using-datepicker-in-ie8" class="ext-link"><span class="icon"></span>http://forum.jquery.com/topic/change-event-not-raised-when-using-datepicker-in-ie8</a></p><p>My sincere apologies for the copy/paste. I couldn't have written the bug report better.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (5)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 31, 2010 04:42PM UTC by <span class="author">tobias.brunner</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I commited a fix for this to <a href="/wiki/GitHub">GitHub</a>:</p><p><a href="https://github.com/tobiasbrunner/jquery-ui/commit/736224f6f861d8dbd5cedbb3675ce0e108635bbd" class="ext-link"><span class="icon"></span>https://github.com/tobiasbrunner/jquery-ui/commit/736224f6f861d8dbd5cedbb3675ce0e108635bbd</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2011 01:40PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Filed a bug with jQuery core: <a href="http://bugs.jquery.com/ticket/8157" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/8157</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2011 01:53PM UTC by <span class="author">Tobias Brunner</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Datepicker: only set the focus explicitly if it is not already on the target field. Fixed <a href="/ticket/6694">#6694</a> – datepicker does not fire change event in IE8</p><p>jQuery stores the current content of a field whenever it gets the focus. Since the fixed function is also called for <a href="/wiki/KeyUp">KeyUp</a> events the change event is not triggered anymore when the input looses focus.</p><p>(cherry picked from commit 39cf7d5bb4f9dfe1ada5dc2499f5c91e536ec96b) </p><p> Changeset: d14366abcea59b4fb6d0fb1ce48a6ad196ddff3a</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2011 01:53PM UTC by <span class="author">Tobias Brunner</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Datepicker: only set the focus explicitly if it is not already on the target field. Fixed <a href="/ticket/6694">#6694</a> – datepicker does not fire change event in IE8</p><p>jQuery stores the current content of a field whenever it gets the focus. Since the fixed function is also called for <a href="/wiki/KeyUp">KeyUp</a> events the change event is not triggered anymore when the input looses focus. </p><p> Changeset: 39cf7d5bb4f9dfe1ada5dc2499f5c91e536ec96b</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2011 01:54PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.9</span> → <span class="change-field-new">1.8.10</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

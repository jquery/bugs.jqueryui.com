<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#4333 (Nested draggables problem in IE) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body>
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/4332/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/4334/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#4333</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened March 13, 2009 11:55AM UTC</p>
      
        <p>Closed August 02, 2011 11:24PM UTC</p>
      
      
        <p>Last modified January 17, 2014 05:43AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Nested draggables problem in IE</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        mitjakuscer
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.8.16">1.8.16</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.draggable</td>
      
        <th>Version:</th>
      
      <td>1.7</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>ie</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>There's a problem with nested draggables in 1.7 (and also all 1.6RCs) in IE.</p><p>The bug was not present in 1.5.3</p><p>I have provided a full demo:</p><p><a href="http://www.1ka.si/admin/survey/draggable_1.5.3.php" class="ext-link"><span class="icon"></span>http://www.1ka.si/admin/survey/draggable_1.5.3.php</a> (works everywhere)</p><p><a href="http://www.1ka.si/admin/survey/draggable_1.7.php" class="ext-link"><span class="icon"></span>http://www.1ka.si/admin/survey/draggable_1.7.php</a> (doesn't work in IE)</p><p>If you drag Container 1.1 or 1.2, IE will also drag Container 1</p><p></p><hr><p></p><p>Related tickets:</p><p><a href="/ticket/3962">#3962</a></p><p><a href="/ticket/4358">#4358</a></p><p><a href="/ticket/4756">#4756</a></p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (1)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/4333/nested.draggables.html/index.html">nested.draggables.html</a> (1.0 KB) - added by bartaz
        <strong>March 27, 2009 08:14AM UTC</strong>.<br>
        
      </li>
    
  </ul>
</details>

<details open>
  <summary class="ticket-details-summary">Change History (58)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 14, 2009 09:26AM UTC by <span class="author">Grismar</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I think I saw this problem being spotted in an earlier bug reported on the last RC for 1.6, but I'm unable to find this (older) ticket now.</p><p>It also affects controls like slider on draggables, so it seems that there is no typical workaround either.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 16, 2009 11:02PM UTC by <span class="author">rdworth</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.7.1</span> → <span class="change-field-new">1.8</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 27, 2009 08:15AM UTC by <span class="author">bartaz</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Attached a simple test case with nested draggable list items.</p><p>This seems to be duplicated by <a href="/ticket/4358">#4358</a> (same problem with nested sortables).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 27, 2009 10:51PM UTC by <span class="author">cdeszaq</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This seems to be similar to <a href="/ticket/3962">#3962</a>, which is marked as fixed. If that is the cause, then it should be reopened.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2009 08:49AM UTC by <span class="author">damion</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>For the record, I have also run into exactly this same problem with jquery-ui-1.7.1.custom and my IE 7.0.5730.  Similar code works fine in Firefox.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 07, 2009 07:23PM UTC by <span class="author">aembler</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is the case in Internet Explorer 8, as well.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 29, 2009 09:31PM UTC by <span class="author">eric_b</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Well, i needed this to work for a project i was dealing with, so I took a look at the ui.core (v1.7.1).  Quick kludge fixed the errant behavior in my case, but I won't guarantee that it won't have side-effects.</p><p>Added:</p><pre class="wiki">
if( $.browser.msie) window.event.cancelBubble=true;
</pre><p>before line 378 where the mousedown event is bound.  For better or worse, IE no longer propagates the event.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 06, 2009 08:45PM UTC by <span class="author">damion</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:7 eric_b]:</p><p>Thanks so much for diving in to find a possible solution since it is important for a project I have too.  What I could use now is a jQuery developer judgement about whether this solution sounds like it would work in general and would therefore be the direction that jQuery 1.8 would go in?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 27, 2009 04:21PM UTC by <span class="author">superboer12</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I also ran into this problem. Unfortunately the solution of eric_b has some side effects.</p><p>Whenever the outher div is draggable but the inner div is not, the event will not be bubbled to the outer div and thus can't be dragged.</p><p>I solved my problem (not generic, but maybe usefull for others) by cancelling the bubbling on specific the inner div itself.</p><pre class="wiki">
$(innerDiv).mousedown(function(e) {
    if($.browser.msie) {
         e.stopPropagation();
    }
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 22, 2009 05:30AM UTC by <span class="author">TitAn</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm solved this problem by changing _mouseCapture function in draggable widget:</p><pre class="wiki">
	_mouseCapture: function(event) {

		var o = this.options;

		if (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))
			return false;

		//Quit if we're not on a valid handle
		this.handle = this._getHandle(event);
		if (!this.handle)
			return false;

		/*change by Titkov Anton : bug #4333 (http://dev.jqueryui.com/ticket/4333)*/
		if ($.browser.msie) event.stopPropagation();
		/*change by Titkov Anton*/
		
		return true;

	},
 
</pre><p>I think, bug fix must be in ui.draggable (not in ui.core as </p><pre class="wiki">if( $.browser.msie) window.event.cancelBubble=true;</pre>) because it situation concerns only draggable objects. In other cases mousedown event must propagation on each of subscribed for this event objects.<p></p><p>sorry for my bad english:)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 25, 2009 03:48PM UTC by <span class="author">pwoldberg</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I had a problem with nested sortables, seems to be the same problem as the nested draggables. So I think the bug must be fixed in the ui.core, since it is not specific for the draggable.</p><p>added to the _mouseDown function in ui.code:</p><pre class="wiki">
if ($.browser.msie) event.stopPropagation();
</pre><p>that fixed my sortables.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 25, 2009 07:01PM UTC by <span class="author">lindner@visionet.de</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks <a href="/wiki/TitAn">TitAn</a>! Your hack solves the problem for my application.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 21, 2009 12:22AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/4358">#4358</a> was closed as a duplicate (for sortable).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 21, 2009 12:23AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">major</span> → <span class="change-field-new">critical</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 06, 2009 02:34AM UTC by <span class="author">mryall</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If you want to apply Titan's patch to work around this issue, but don't want to modify jQuery UI directly, you can add the following to your own script before calling $.draggable():</p><pre class="wiki">
$.extend($.ui.draggable.prototype, (function (orig) {
  return {
    _mouseCapture: function (event) {
      var result = orig.call(this, event);
      if (result && $.browser.msie) event.stopPropagation();
      return result;
    }
  };
})($.ui.draggable.prototype["_mouseCapture"]));
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 20, 2009 06:01AM UTC by <span class="author">oribani</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Dunno what sunrise1 is talking about -- I still have this issue with 1.7.2 in IE 8 at least (works flawlessly in FF).  I am using nested sortables and the changes suggested above don't fix the problem for me one bit.  Any further tips or suggestions would be highly appreciated.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 30, 2009 09:47AM UTC by <span class="author">TitAn</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Fix for that bug</p><p><a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 30, 2009 06:32PM UTC by <span class="author">andri</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:19 <a href="/wiki/TitAn">TitAn</a>]:</p><blockquote> Fix for that bug <a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html</a></blockquote><p>This demo does not work on Firefox 3.5.3 at all.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 01, 2009 06:57AM UTC by <span class="author">TitAn</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:20 andri]:</p><blockquote> Replying to [comment:19 <a href="/wiki/TitAn">TitAn</a>]: &gt; Fix for that bug &gt; <a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html</a>  This demo does not work on Firefox 3.5.3 at all.</blockquote><p>In a Firefox 3.5.3 it's works perfectly on my computer. How this demo works for you?</p><p>demo from ticket header with fix:</p><p><a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE1.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE1.html</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 01, 2009 09:35AM UTC by <span class="author">andri</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:21 <a href="/wiki/TitAn">TitAn</a>]:</p><blockquote> Replying to [comment:20 andri]: &gt; Replying to [comment:19 <a href="/wiki/TitAn">TitAn</a>]: &gt; &gt; Fix for that bug &gt; &gt; <a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html</a> &gt;  &gt; This demo does not work on Firefox 3.5.3 at all. In a Firefox 3.5.3 it's works perfectly on my computer. How this demo works for you? demo from ticket header with fix: <a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE1.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE1.html</a></blockquote><p>Forgive me.  I assumed we were dealing with a sortable, but I see this bug is only about dragging, which both the demos you made seem to do correct.  The only difference I can see is that one resets and the other not.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 06, 2009 01:24AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">There&#39;s a problem with nested draggables in 1.7 (and also all 1.6RCs) in IE.&#92;
&#92;
The bug was not present in 1.5.3&#92;
&#92;
I have provided a full demo:&#92;
&#92;
http://www.1ka.si/admin/survey/draggable_1.5.3.php (works everywhere)&#92;
&#92;
http://www.1ka.si/admin/survey/draggable_1.7.php (doesn&#39;t work in IE)&#92;
&#92;
If you drag Container 1.1 or 1.2, IE will also drag Container 1</span> → <span class="change-field-new">There&#39;s a problem with nested draggables in 1.7 (and also all 1.6RCs) in IE.&#92;
&#92;
The bug was not present in 1.5.3&#92;
&#92;
I have provided a full demo:&#92;
&#92;
http://www.1ka.si/admin/survey/draggable_1.5.3.php (works everywhere)&#92;
&#92;
http://www.1ka.si/admin/survey/draggable_1.7.php (doesn&#39;t work in IE)&#92;
&#92;
If you drag Container 1.1 or 1.2, IE will also drag Container 1&#92;
&#92;
&#92;
----&#92;
&#92;
Related tickets:[[BR]]&#92;
#3962[[BR]]&#92;
#4358[[BR]]&#92;
#4756[[BR]]</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2010 02:58PM UTC by <span class="author">m4olivei</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi,</p><p>I am having this same issue in my application, with a slight twist.  I also have nested draggables that were both dragging when you drag the child.  Applying <a href="/wiki/TitAn">TitAn</a>'s fix fixed the draggable issue, however my draggables are accepted by droppables and when you drop them, there is an error in IE on line 587 of ui.draggable.js:</p><p>Microsoft JScript runtime error: 'data(...).options' is null or not an object</p><p>Anyone have an idea what could cause this?</p><p>Thanks,</p><p>~Matt</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2010 03:09PM UTC by <span class="author">m4olivei</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:24 m4olivei]:</p><blockquote> Hi,  I am having this same issue in my application, with a slight twist.  I also have nested draggables that were both dragging when you drag the child.  Applying <a href="/wiki/TitAn">TitAn</a>'s fix fixed the draggable issue, however my draggables are accepted by droppables and when you drop them, there is an error in IE on line 587 of ui.draggable.js:  Microsoft JScript runtime error: 'data(...).options' is null or not an object  Anyone have an idea what could cause this?  Thanks, ~Matt</blockquote><p>Forgot to mention, I am using jQuery UI 1.7 (tried upgrading to 1.7.2 and it didn't help, so just went back to 1.7).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 03, 2010 03:50PM UTC by <span class="author">m4olivei</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:25 m4olivei]:</p><blockquote> Replying to [comment:24 m4olivei]: &gt; Hi, &gt;  &gt; I am having this same issue in my application, with a slight twist.  I also have nested draggables that were both dragging when you drag the child.  Applying <a href="/wiki/TitAn">TitAn</a>'s fix fixed the draggable issue, however my draggables are accepted by droppables and when you drop them, there is an error in IE on line 587 of ui.draggable.js: &gt;  &gt; Microsoft JScript runtime error: 'data(...).options' is null or not an object &gt;  &gt; Anyone have an idea what could cause this? &gt;  &gt; Thanks, &gt; ~Matt  Forgot to mention, I am using jQuery UI 1.7 (tried upgrading to 1.7.2 and it didn't help, so just went back to 1.7).</blockquote><p>As it turns out the second issue that cropped up for me was reported in ticket <a href="/ticket/4550">#4550</a> and a fix suggested in one of the comments worked for me.  So for now I'm good!</p><p>Hopefully this will be resolved in the next version.</p><p>Thanks,</p><p>~Matt</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 09, 2010 09:51AM UTC by <span class="author">TitAn</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I wish to remind that such decision wrong.</p><pre class="wiki">
if ($.browser.msie) event.stopPropagation();
</pre><p>It can provoke other errors.</p><p>It is necessary to use this decision of a problem:</p><pre class="wiki">
$.ui.mouse = {
...
	_mouseDown: function(event) {
		// don't let more than one widget handle mouseStart
		if ($(event).data("mouseHandled")) return;
...
		$(event).data("mouseHandled", true);

		return true;
	},

	_mouseUp: function(event) {
...
		$(event).data("mouseHandled", false);

		return false;
	},
...
}

</pre><p>Demo:</p><p><a href="http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html" class="ext-link"><span class="icon"></span>http://elsoft.tomsk.ru/jQuery/ui/Nested_draggables_problem_in_IE.html</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:26">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2010 02:37PM UTC by <span class="author">Lockhead</span></span>
        <a class="ticket-change-link" href="#comment:26">comment:26</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>this bug is still present in 1.8rc3 and JQuery 1.4.2</p><p>I tried to solve it with the "fix" provided by <a href="/wiki/TitAn">TitAn</a> but couldn't get it to work...</p><p>Any ideas?</p><p>Shouldn't it be marked as blocker for 1.8?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:27">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2010 02:54PM UTC by <span class="author">Lockhead</span></span>
        <a class="ticket-change-link" href="#comment:27">comment:27</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:28 Lockhead]:</p><blockquote> this bug is still present in 1.8rc3 and JQuery 1.4.2  I tried to solve it with the "fix" provided by <a href="/wiki/TitAn">TitAn</a> but couldn't get it to work...  Any ideas?  Shouldn't it be marked as blocker for 1.8?</blockquote><p>Sorry, I should have seen that it is already marked as blocker :(</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:28">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2010 03:10PM UTC by <span class="author">Lockhead</span></span>
        <a class="ticket-change-link" href="#comment:28">comment:28</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Oh. That was easy. After looking at the 1.5.3 code the fix was easy to find...</p><p>in jquery.ui.mouse.js change the following:</p><p>for the _mouseDown event, the last "return" should be a 'return false' instead of 'return true' (line 95)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:29">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2010 03:19PM UTC by <span class="author">Lockhead</span></span>
        <a class="ticket-change-link" href="#comment:29">comment:29</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>now I have the problem, that the inner draggable is not visible after dragging it out of the outer draggable, but it can be dropped.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:30">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2010 03:55PM UTC by <span class="author">Lockhead</span></span>
        <a class="ticket-change-link" href="#comment:30">comment:30</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:31 Lockhead]:</p><blockquote> now I have the problem, that the inner draggable is not visible after dragging it out of the outer draggable, but it can be dropped.</blockquote><p>you need to drag the outer draggable for this problem to appear</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:31">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 13, 2010 04:39PM UTC by <span class="author">cstdenis</span></span>
        <a class="ticket-change-link" href="#comment:31">comment:31</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This also affects a resizable in a draggable in IE8.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:32">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 22, 2010 08:17PM UTC by <span class="author">mike3050</span></span>
        <a class="ticket-change-link" href="#comment:32">comment:32</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:10 <a href="/wiki/TitAn">TitAn</a>]:</p><blockquote> I'm solved this problem by changing _mouseCapture function in draggable widget:   <pre class="wiki">
&gt; 	_mouseCapture: function(event) {
&gt; 
&gt; 		var o = this.options;
&gt; 
&gt; 		if (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))
&gt; 			return false;
&gt; 
&gt; 		//Quit if we're not on a valid handle
&gt; 		this.handle = this._getHandle(event);
&gt; 		if (!this.handle)
&gt; 			return false;
&gt; 
&gt; 		/*change by Titkov Anton : bug #4333 (http://dev.jqueryui.com/ticket/4333)*/
&gt; 		if ($.browser.msie) event.stopPropagation();
&gt; 		/*change by Titkov Anton*/
&gt; 		
&gt; 		return true;
&gt; 
&gt; 	},
&gt;  
&gt; </pre>  I think, bug fix must be in ui.draggable (not in ui.core as <pre class="wiki">if( $.browser.msie) window.event.cancelBubble=true;</pre>) because it situation concerns only <a href="http://zolpo.com/auto-insurance/" class="ext-link"><span class="icon"></span>auto insurance quotes</a> draggable objects. In other cases mousedown event must propagation on each of subscribed for this event objects. sorry for my bad english:)</blockquote><p>You English are ok.</p><p>Thanks for the help.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:33">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 19, 2010 05:09PM UTC by <span class="author">hammond13</span></span>
        <a class="ticket-change-link" href="#comment:33">comment:33</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I thought I'd offer up a workaround that worked for me.  I'm using nested lists with sortable.  The top level list has the groups class, and the nested lists have the people class.  I just added this:</p><pre class="wiki">
$(".people li").hover(function(){
	$(".groups").sortable("option", "disabled", true);
},function(){
	$(".groups").sortable("option", "disabled", false);
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:34">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 07, 2010 03:02PM UTC by <span class="author">freerange</span></span>
        <a class="ticket-change-link" href="#comment:34">comment:34</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've got 2 levels of sub list and was pulling my hair out. I tried using the mousedown event to dynamically initialize the sortable on the current ul. Just add $(this).sortable('destroy') to the update option and it seems to work:</p><pre class="wiki">
	$("#list-1").mousedown(function(event){
		$(this).sortable({
			update : function () {
				$(this).sortable('destroy');
			}
	    });
		
		


	});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:35">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 30, 2010 10:37AM UTC by <span class="author">dallaway</span></span>
        <a class="ticket-change-link" href="#comment:35">comment:35</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>hi, does anyone know if this will be fixed in a jquery release anytime soon? Thanks</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:36">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 22, 2010 06:14PM UTC by <span class="author">adamlogic</span></span>
        <a class="ticket-change-link" href="#comment:36">comment:36</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here is yet another potential solution.  It's working for us, but I also haven't tried the other solutions proposed in this thread.  </p><p><a href="http://github.com/adamlogic/jquery-ui/commit/ec7968b8ca1040e27f4479c03d7582c651f012e7" class="ext-link"><span class="icon"></span>http://github.com/adamlogic/jquery-ui/commit/ec7968b8ca1040e27f4479c03d7582c651f012e7</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:37">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 27, 2010 04:21PM UTC by <span class="author">dalelarsen</span></span>
        <a class="ticket-change-link" href="#comment:37">comment:37</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I am also getting an issue similar to these but none of the above solutions fix it. I have put together a very simple simulation. I just have a sortable block where its items are resizable. In IE when you resize the sortables, it drags them to sort as it resizes them.</p><pre class="wiki">
&lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.2/jquery-ui.min.js" type="text/javascript"&gt;&lt;/script&gt; 
&lt;link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.2/themes/base/jquery-ui.css" type="text/css" media="all" /&gt;
&lt;script type="text/javascript"&gt;
$(function(){
   $('div.sorterClass').resizable();
   $('#willSort').sortable({
      axis: 'y',
      items: '.sorter'
   }).disableSelection();
});
&lt;/script&gt;
&lt;style type="text/css"&gt;
.sorterClass {width: 600px; height: 60px; position: relative; background-color: #999; margin: 10px; padding: 10px 0px; color: #fff; font-family: Arial; font-weight: bold; font-size: 23px;}
&lt;/style&gt;
&lt;div id="willSort"&gt;
&lt;div class="sorterClass sorter"&gt;1&lt;/div&gt;
&lt;div class="sorterClass sorter"&gt;2&lt;/div&gt;
&lt;div class="sorterClass sorter"&gt;3&lt;/div&gt;
&lt;div class="sorterClass sorter"&gt;4&lt;/div&gt;
&lt;div class="sorterClass sorter"&gt;5&lt;/div&gt;
&lt;/div&gt;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:38">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 04, 2010 12:39PM UTC by <span class="author">rb-cohen</span></span>
        <a class="ticket-change-link" href="#comment:38">comment:38</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Got the same problem, couldn't find another way to subscribe to changes other than to add my 2 cents?!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:39">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 10, 2010 01:05PM UTC by <span class="author">EricKerby</span></span>
        <a class="ticket-change-link" href="#comment:39">comment:39</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I also have this problem...and I can confirm that the stopPropagation fix works for me (testing with IE 8 and jQuery UI 1.8.4). I was using the minified version of jQuery UI, so I added the IE stopPropagation  call to the beginning of the the _mouseDown function in the jQuery UI Mouse section to make it look like:</p><pre class="wiki">
_mouseDown:function(a){if ($.browser.msie) a.stopPropagation();a.originalEvent=a.originalEvent||{};if(!a.origi...[clipped]
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:40">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 29, 2010 08:02PM UTC by <span class="author">mike3050</span></span>
        <a class="ticket-change-link" href="#comment:40">comment:40</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:37 mikeqw]:</p><blockquote> Replying to [comment:34 mike3050]: &gt; Replying to [comment:10 <a href="/wiki/TitAn">TitAn</a>]: &gt; &gt; I'm solved this problem by changing _mouseCapture function in draggable widget: &gt; &gt;  &gt; &gt;  &gt; &gt; <pre class="wiki">
&gt; &gt; &gt; 	_mouseCapture: function(event) {
&gt; &gt; &gt; 
&gt; &gt; &gt; 		var o = this.options;
&gt; &gt; &gt; 
&gt; &gt; &gt; 		if (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))
&gt; &gt; &gt; 			return false;
&gt; &gt; &gt; 
&gt; &gt; &gt; 		//Quit if we're not on a valid handle
&gt; &gt; &gt; 		this.handle = this._getHandle(event);
&gt; &gt; &gt; 		if (!this.handle)
&gt; &gt; &gt; 			return false;
&gt; &gt; &gt; 
&gt; &gt; &gt; 		/*change by Titkov Anton : bug #4333 (http://dev.jqueryui.com/ticket/4333)*/
&gt; &gt; &gt; 		if ($.browser.msie) event.stopPropagation();
&gt; &gt; &gt; 		/*change by Titkov Anton*/
&gt; &gt; &gt; 		
&gt; &gt; &gt; 		return true;
&gt; &gt; &gt; 
&gt; &gt; &gt; 	},
&gt; &gt; &gt;  
&gt; &gt; &gt; </pre> &gt; &gt;  &gt; &gt; I think, bug fix must be in ui.draggable (not in ui.core as <pre class="wiki">if( $.browser.msie) window.event.cancelBubble=true;</pre>) because it situation concerns only  draggable objects. In other <a href="http://hfiainsurance.com/" class="ext-link"><span class="icon"></span>auto insurance quotes</a> cases mousedown event must propagation on each of subscribed for this event objects. &gt; &gt; sorry for my bad english:) &gt; You English are ok. Thanks for the help.</blockquote><p>How did i helped you?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:41">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 19, 2010 03:53PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:41">comment:41</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">critical</span> → <span class="change-field-new">major</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:42">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 20, 2010 01:56PM UTC by <span class="author">vitch</span></span>
        <a class="ticket-change-link" href="#comment:42">comment:42</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've just run into this bug and I'm amazed to see it still in existence, 20 months after it was reported. It seems to me to be a fairly fundamental flaw. With the current state of draggables, it is impossible to use it to create a re-arrangable tree with nested items which works in IE!</p><p>In the hope of speeding up a solution (or verifying that one of the solutions given above works reliably) I cloned the UI repository and tried to write a unit test for this but I ran into two problems:</p> <ul><li>The testsuite for draggables is stale (see the failing tests and the comment in the sourcecode "<em> disable this stale testsuite for testswarm only"). So even if I write a test for this I don't have a passing test suite to compare against to guarantee that nothing else has been broken.</em></li> <li>I'm not sure if $.simulate behaves identically to the mouse in this situation (especially with regards to bubbling). I wrote a test that appears to pass in IE but I can easily verify that the behaviour is incorrect in IE.</li></ul><p>For a very simple visual demonstration of the problem occurring with latest jQuery and jQuery UI see this very simple example: </p><p>http:www.kelvinluck.com/assets/jquery/bugs/issue_4333.html</p><p>In IE if you drag "Item 1.1" then "Item 1" also moves. In other browsers the behaviour is correct...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:43">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 29, 2010 03:36PM UTC by <span class="author">geoffp</span></span>
        <a class="ticket-change-link" href="#comment:43">comment:43</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/wiki/TitAN">TitAN</a>'s patch to jQuery UI works perfectly for me.  I have not exhaustively tested for side effects, but there don't appear to be any in my use case.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:44">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 09, 2011 10:56AM UTC by <span class="author">markchagers</span></span>
        <a class="ticket-change-link" href="#comment:44">comment:44</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I&#39;m running into this very issue with 1.8.9 and it&#39;s a MAJOR showstopper. &#92;
&#92;
I have a list of items that can be up to 3 levels deep. The user can drag items around to reorder them.&#92;
&#92;
Works fine in FireFox, Chrome, Safari and IE 9 beta.&#92;
&#92;
In IE8 when dragging a nested list item, the parent item(s) is (are) dragged simultaniously, causing the nested item to be moved twice or three times the dragging distance (depending on nesting depth of the dragged item).</span> → <span class="change-field-new">1297256111809544</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">I&#39;m running into this very issue with 1.8.9 and it&#39;s a MAJOR showstopper. &#92;
&#92;
I have a list of items that can be up to 3 levels deep. The user can drag items around to reorder them. [[BR]]&#92;
Works fine in FireFox, Chrome, Safari and IE 9 beta.&#92;
&#92;
In IE8 when dragging a nested list item, the parent item(s) is (are) dragged simultaniously, causing the nested item to be moved twice or three times the dragging distance (depending on nesting depth of the dragged item).&#92;
&#92;
Update: Fortunately the fix by TitAn works for me too. Makes me wonder why this hasn&#39;t been incorporated in the release yet.[[BR]]&#92;
I apply it using the patch mechanism suggested by oribami, but I moved the browser check to surround the patch itself: That way the patch is only applied when necessary, and it saves a check on every mouseCapture event. like this:&#92;
&#92;
$(document).ready(function () {&#92;
&#92;
    if ($.browser.msie &amp;&amp; $.browser.version &lt; 9) {&#92;
        // patch draggable to fix the problem in IE 8 and below&#92;
        /*change by Titkov Anton : bug #4333 (http://dev.jqueryui.com/ticket/4333)*/&#92;
        // MHagers, added version check as IE 9 doesn&#39;t display this issue&#92;
        $.extend($.ui.draggable.prototype, (function (orig) {&#92;
            return {&#92;
                _mouseCapture: function (event) {&#92;
                    var result = orig.call(this, event);&#92;
                    if (result) event.stopPropagation();&#92;
                    return result;&#92;
                }&#92;
            };&#92;
        })($.ui.draggable.prototype[&quot;_mouseCapture&quot;]));&#92;
    }&#92;
});&#92;
</span> → <span class="change-field-new">1297257022620705</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>I'm running into this very issue with 1.8.9 and it's a MAJOR showstopper. </p><p>I have a list of items that can be up to 3 levels deep. The user can drag items around to reorder them. </p><p>Works fine in <a href="/wiki/FireFox">FireFox</a>, Chrome, Safari and IE 9 beta.</p><p>In IE8 when dragging a nested list item, the parent item(s) is (are) dragged simultaniously, causing the nested item to be moved twice or three times the dragging distance (depending on nesting depth of the dragged item).</p><p>Update: Fortunately the fix by <a href="/wiki/TitAn">TitAn</a> works for me too. Makes me wonder why this hasn't been incorporated in the release yet.</p><p>I apply it using the patch mechanism suggested by oribami, but I moved the browser check to surround the patch itself: That way the patch is only applied when necessary, and it saves a check on every mouseCapture event. like so: <a href="http://pastie.org/1544721" class="ext-link"><span class="icon"></span>http://pastie.org/1544721</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:45">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2011 01:23AM UTC by <span class="author">pospi</span></span>
        <a class="ticket-change-link" href="#comment:45">comment:45</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>A realiable workaround for now seems to be achievable with the following:</p><ul><li>Stop the mousedown event handler on the elements you are using as draggables. This will prevent the dragStart event from being called repetitively. The browser check is still necessary as this behaviour seems to affect Webkit quite severely if enabled.</li><li>If combining draggables with droppables, ensure your draggables and droppables are active on different DOM elements. You might think this defeats the entire purpose, but it actually seems to work quite well with markup similar to the following:</li></ul><pre class="wiki">
&lt;ul id="container"&gt;
	&lt;li&gt;				&lt;-- draggable
		&lt;div&gt;Item 1&lt;/div&gt;	&lt;-- droppable
		&lt;ul&gt;
			&lt;li&gt;...&lt;/li&gt;
			&lt;li&gt;...&lt;/li&gt;
			...
		&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
</pre><pre class="wiki">
var nodes = $('#container').find('li');
nodes.draggable({
	/* your options */
}).mousedown(function(e) {
	if ($.browser.msie) {
		return false;
	}
}).find('&gt;div').droppable({
	greedy: true,
	/* other options */
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:46">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 22, 2011 10:40AM UTC by <span class="author">larsomat</span></span>
        <a class="ticket-change-link" href="#comment:46">comment:46</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Replying to [comment:39 adamlogic]:&#92;
&gt; Here is yet another potential solution.  It&#39;s working for us, but I also haven&#39;t tried the other solutions proposed in this thread.  &#92;
&gt; &#92;
&gt; http://github.com/adamlogic/jquery-ui/commit/ec7968b8ca1040e27f4479c03d7582c651f012e7&#92;
&#92;
Thanks this is the solution that worked for me.</span> → <span class="change-field-new">1298371218597439</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:39 adamlogic]:</p><blockquote> Here is yet another potential solution.  It's working for us, but I also haven't tried the other solutions proposed in this thread.    <a href="http://github.com/adamlogic/jquery-ui/commit/ec7968b8ca1040e27f4479c03d7582c651f012e7" class="ext-link"><span class="icon"></span>http://github.com/adamlogic/jquery-ui/commit/ec7968b8ca1040e27f4479c03d7582c651f012e7</a></blockquote><p>Thanks, this is the solution that worked for me.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:47">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 04, 2011 05:44PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:47">comment:47</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/7066">#7066</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:48">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 07, 2011 04:43AM UTC by <span class="author">k_borchers</span></span>
        <a class="ticket-change-link" href="#comment:48">comment:48</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have sent a pull request at  <a href="https://github.com/jquery/jquery-ui/pull/227" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/pull/227</a> which implements <a href="/wiki/TitAn">TitAn</a>'s solution.</p><p>Thanks</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:49">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 09, 2011 05:10PM UTC by <span class="author">Scott González</span></span>
        <a class="ticket-change-link" href="#comment:49">comment:49</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Merge pull request <a href="/ticket/235">#235</a> from kborchers/bug_4333_2</p><p>Mouse: Changed mouseHandled check to a local var rather than using originalEvent. Fixed <a href="/ticket/4333">#4333</a> - Nested draggables problem in IE </p><p> Changeset: f1180e5341aac31349877de3207fb7da558985fa</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:50">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 09, 2011 05:12PM UTC by <span class="author">kborchers</span></span>
        <a class="ticket-change-link" href="#comment:50">comment:50</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Mouse: Changed mouseHandled check to a local var rather than using originalEvent. Fixed <a href="/ticket/4333">#4333</a> - Nested draggables problem in IE</p><p>(cherry picked from commit 9c50bdfde0260fc8412eec1c5020ed6b61558ebd) </p><p> Changeset: 7eda94a8c916760de4093df85f58cc694838b52b</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:51">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 09, 2011 05:12PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:51">comment:51</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.9</span> → <span class="change-field-new">1.8.13</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:52">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 01, 2011 06:16PM UTC by <span class="author">Scott González</span></span>
        <a class="ticket-change-link" href="#comment:52">comment:52</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Revert "Mouse: Changed mouseHandled check to a local var rather than using originalEvent. Fixed <a href="/ticket/4333">#4333</a> - Nested draggables problem in IE"</p><p>This reverts commit 9c50bdfde0260fc8412eec1c5020ed6b61558ebd. </p><p> Changeset: 350e4ab5b854d2f6aca22d5202c03dcbf59ff4aa</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:53">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 01, 2011 06:18PM UTC by <span class="author">Scott González</span></span>
        <a class="ticket-change-link" href="#comment:53">comment:53</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Revert "Mouse: Changed mouseHandled check to a local var rather than using originalEvent. Fixed <a href="/ticket/4333">#4333</a> - Nested draggables problem in IE"</p><p>This reverts commit 7eda94a8c916760de4093df85f58cc694838b52b. </p><p> Changeset: bd48ddfa94ff673cc5dfef749fe0565f1bc02d0f</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:54">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 01, 2011 06:19PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:54">comment:54</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.8.13</span> → <span class="change-field-new">1.9</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:55">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 02, 2011 11:24PM UTC by <span class="author">Scott González</span></span>
        <a class="ticket-change-link" href="#comment:55">comment:55</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Merge pull request <a href="/ticket/413">#413</a> from kborchers/bug_4333_3</p><p>Mouse: Changed mouseHandled check to a local var rather than using originalEvent. Fixed <a href="/ticket/4333">#4333</a> - Nested draggables problem in IE </p><p> Changeset: e15c32d06763afd2376c61642397e7fc98338958</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:56">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 02, 2011 11:26PM UTC by <span class="author">kborchers</span></span>
        <a class="ticket-change-link" href="#comment:56">comment:56</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Mouse: Changed mouseHandled check to a local var rather than using originalEvent. Fixed <a href="/ticket/4333">#4333</a> - Nested draggables problem in IE</p><p>(cherry picked from commit dafc941b3632bb79823a72c36bfae7f1f985ca25) </p><p> Changeset: 14ab4f4f374ddda1eaa552072e6e3a86a91db4bd</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:57">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 02, 2011 11:27PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:57">comment:57</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.9</span> → <span class="change-field-new">1.8.16</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:58">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 17, 2014 05:43AM UTC by <span class="author">nealshan</span></span>
        <a class="ticket-change-link" href="#comment:58">comment:58</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I found this code in Jquery-UI 1.8.6</p><p>I add this "&& !(document.documentMode &gt;= 9)" to my 1.8.2</p><p>it works perfect, the sortable function</p><p>// IE mouseup check - mouseup happened when mouse was out of window</p><p>		if ($.browser.msie && !(document.documentMode &gt;= 9) && !event.button) {</p><p>			return this._mouseUp(event);</p><p>		}</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2026
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

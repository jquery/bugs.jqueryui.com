<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#8750 (Spinner misses click events in IE8) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/8749/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/8751/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#8750</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(notabug)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened October 30, 2012 08:14PM UTC</p>
      
        <p>Closed October 31, 2012 12:49AM UTC</p>
      
      
        <p>Last modified December 12, 2012 11:55AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Spinner misses click events in IE8</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        dsargent@gmail.com
      </td>
      <th>Owned by:</th>
      <td>dsargent@gmail.com</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.10.0">1.10.0</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.spinner</td>
      
        <th>Version:</th>
      
      <td>1.9.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>In IE8 (or IE9 in IE8 mode) the spinner widget does not capture all of the click events on the up and down arrows unless the user clicks them VERY slowly.  On average it misses every one other an "normal" speed.</p><p><a href="http://jsfiddle.net/bxrgK/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/bxrgK/</a></p><p>Much to my dismay and full half of our users are still using IE8 &lt;/sad&gt;</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (8)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 30, 2012 08:30PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ dsargent@gmail.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm not seeing this. What do you mean by "clicks them VERY slowly" Do you mean a long delay between down and up or long delays between clicks?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 30, 2012 11:46PM UTC by <span class="author">dsargent@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'd say about 300ms or so.  If you click the up arrow fast than that IE8 will skip about half the clicks on average.  So if I click the up arrow 20 times the number would end up 10, not 20.  In IE9, Firefox or Chrome it all tracks one to one.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 31, 2012 12:07AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If you create a button that logs out clicks and you click that fast are you seeing the same behavior or are you getting all 20 clicks logged?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 31, 2012 12:17AM UTC by <span class="author">dsargent@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ohh, great call, didn't think of trying that.</p><p>Same results with a simple click event on a button (using jQuery). That is so strange.</p><p><a href="http://jsfiddle.net/BadSA/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/BadSA/</a></p><p>I'm at home now (I was at work before), so am on a different computer with the same results.  In this case it's Windows 8, IE10 in IE 8 mode (F12, Browser Mode IE8, Document Mode IE8 Standards).</p><p>I had a coworker test the first jsFiddle in IE8 proper with the same results.  Is this an IE8 issue then, or maybe a jQuery issue?  I haven't tried doing it in plain vanilla <a href="/wiki/JavaScript">JavaScript</a>.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 31, 2012 12:49AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ notabug</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Probably IE8, but it certainly doesn't seem like anything we should try to work around in UI. It doesn't even really sound like a bug on spinner.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 31, 2012 10:27PM UTC by <span class="author">dsargent@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I agree.  I did a "bare metal" test</p><p><a href="http://jsfiddle.net/VZrQe/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/VZrQe/</a></p><p>and found it does it with plain javascript and no libraries loaded.  </p><p>Kind of mind blowing how slow IE's JS engine is.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 11, 2012 03:06PM UTC by <span class="author">fedot</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This problem has nothing to do with the "slowliness of IE's JS engine".</p><p>The issue is in how (badly) IE handles <strong>the double-click event</strong>.</p><p>If you click the same spinner button more than once within a few hundred milliseconds, IE (and any other browser) starts treating this situation as a double-click event. This is not a problem in itself since all ''normal'' browsers fire their events correctly. This is what ''normal'' browsers fire during a 2-click sequence that is treated as a double click event:</p><pre class="wiki">
mousedown, mouseup, click, mousedown, mouseup, click, dblclick
</pre><p>However, IE 7/8 (probably others too) fire the following events instead:</p><pre class="wiki">
mousedown, mouseup, click, mouseup, dblclick
</pre><p>Here is a jQuery code to prove the above: </p><pre class="wiki">
$(function(){
  $('body').on('click mousedown mouseup dblclick', function(e){$(this).append(e.type+'&lt;br /&gt;')});
});
</pre><p>You can clearly see that a spinner widget will have problem there.</p><p>Spinning is bound to a mousedown event and the 2nd mousedown is 'swallowed' by IE (together with a 2nd 'click' event). 2nd mousedown just never fires in IE7/8 during double-click events sequence. This is why you get only half of your spin events (as described above in the original bug report).</p><p>One possible workaround could be to bind mouseup event instead of mousedown. However, I am not 100% sure if this will play nicely with pressing and holding the up/down buttons (when you want the spinner to spin for a while). Perhaps pressing/holding and simply clicking can be "separated" into mousedown / mouseup events.</p><p>However, I believe the problem is more generic here. I think IE7/8 behaviour (did not test other versions) is broken and should really be normalised in jQuery event/core. If jQuery core did fire those missing events for the affected IE versions no workarounds or fixes for this issue would be needed in jQuery UI (or any other application relying on jQuery).</p><p>Perhaps somebody from jQuery UI team has ability to bring this to jQuery event/core developers' attention.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 12, 2012 11:55AM UTC by <span class="author">fedot</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>In addition to the previous message, I have managed to fix IE's "spinner double-click behaviour" with the following piece of code:</p><pre class="wiki">
if ($.browser.msie){
  var ieVer = parseInt($.browser.version, 10);
  if (ieVer == 7 || ieVer == 8) {
    $(document).on('dblclick', '.ui-spinner a', function(e){
      $(e.target).trigger('mousedown').trigger('mouseup');
    });
  }
}
</pre><p>Disclaimer/Rant/IMHO:</p><p>Yes, I know the usual "''I should not be using jQuery.browser as it has been deprecated, will be moved to a plugin, etc.''", however, this is exactly where the 'feature detection' (which is suggested instead) is not going to help.</p><p>Incidentally, the comments on the jQuery's $.browser and $.support documentation pages are full of similar "rants". When dealing with well known browser bugs there is no other way but to know which browser and which version of a browser your code is running in. And yes, I am also aware that the UA string can be easily spoofed but it is still better than nothing (and those who spoof UA strings should be ready to face the consequences anyway).</p><p>IMHO, it is rather short-sighted to remove $.browser from the jQuery core while IE7/8 are still alive and kicking. There are valid use cases for both $.browser and $.support and one does not truly replace the other (and that is true both ways). Instead of removing $.browser, developers should be better educated when they should be using $.browser and when they should not.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

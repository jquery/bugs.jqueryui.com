<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9087 (Dialog: Allow registering elements outside a dialog for use when a modal dialog is open) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9086/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9088/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#9087</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">feature</span>
      <span class="ticket-resolution">(fixed)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened February 15, 2013 12:54PM UTC</p>
      
        <p>Closed February 20, 2013 10:36PM UTC</p>
      
      
        <p>Last modified June 05, 2015 11:20PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Dialog: Allow registering elements outside a dialog for use when a modal dialog is open</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        psyafter
      </td>
      <th>Owned by:</th>
      <td>psyafter</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.10.2">1.10.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.dialog</td>
      
        <th>Version:</th>
      
      <td>1.10.0</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>When using CKEditor in UI Dialog there is a problem with editor popups.</p><p>jsfiddle: <a href="http://jsfiddle.net/psyafter/dUThT/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/psyafter/dUThT/</a></p><p>1) click on button</p><p>2) in ckeditor double click on text "click me"</p><p>3) in editor dialog there is a problem edit textboxes</p><p></p><hr><p></p><h2>Solution</h2><p>See <a href="http://bugs.jqueryui.com/ticket/9087#comment:30" class="ext-link"><span class="icon"></span>comment <a href="/ticket/30">#30</a></a> for an extension that can be loaded after jQuery UI to register CKEditor elements as valid targets.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (39)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 12:55PM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>past bugs reports that now any solution not work:</p><p><a href="http://forum.jquery.com/topic/can-t-edit-fields-of-ckeditor-in-jquery-ui-modal-dialog" class="ext-link"><span class="icon"></span>http://forum.jquery.com/topic/can-t-edit-fields-of-ckeditor-in-jquery-ui-modal-dialog</a></p><p><a href="http://bugs.jqueryui.com/ticket/4727" class="ext-link"><span class="icon"></span>http://bugs.jqueryui.com/ticket/4727</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 01:03PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ psyafter</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>To be honest, this seems like a strange behavior to implement. Why are you putting a full editor inside a modal dialog? Do you have suggestions for how to sanely handle this?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 01:11PM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:2 scott.gonzalez]:</p><blockquote> To be honest, this seems like a strange behavior to implement. Why are you putting a full editor inside a modal dialog? Do you have suggestions for how to sanely handle this?</blockquote><p>CKEditor in ui dialog is because of requirements.</p><p>In past versions of jquery-ui there was patch that worked about 2 years.</p><p>link to patch: <a href="http://forum.jquery.com/topic/can-t-edit-fields-of-ckeditor-in-jquery-ui-modal-dialog#14737000001648387" class="ext-link"><span class="icon"></span>http://forum.jquery.com/topic/can-t-edit-fields-of-ckeditor-in-jquery-ui-modal-dialog#14737000001648387</a></p><p>But today, after jquery-ui-dialog (and overlay) has been redesigned - patch not work because of missing $.ui.dialog.overlay.</p><p>I believe jquery-ui team can rewrite a patch (with existing ui core conventions)</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 01:24PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <blockquote> I believe jquery-ui team can rewrite a patch (with existing ui core conventions)</blockquote><p>If I knew a solution, I wouldn't be asking you for one. We also wouldn't still be fighting z-index and stacking issues after several years. We have what we believe to be the best solution we've come up with so far, which is to append popups to the element they're coming from. Popping up any dialog from a modal dialog is bad UX, but anticipating the various ways that this is done from all other JS libraries isn't possible.</p><p>What if we allowed you to register a selector that would define elements which should override the modal behavior? Then you could manually register <code>".cke_dialog"</code>. It's hacky and I don't like it, but I think it would work. What do you think?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 01:44PM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 scott.gonzalez]:</p><blockquote> What if we allowed you to register a selector that would define elements which should override the modal behavior? Then you could manually register <code>".cke_dialog"</code>. It's hacky and I don't like it, but I think it would work. What do you think?</blockquote><p>1) for a start - which lib is responsiblee for preventing editing? jquery-ui or ckeditor?</p><p>2) your solution is something like "white list" where each registered element will not be parsed by jquery-ui-dialog functionality? (it will be nice solution)</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 02:05PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <blockquote> which lib is responsiblee for preventing editing?</blockquote><p>Clearly jQuery UI. You've asked a jQuery UI dialog to prevent editing of everything that is not inside the dialog. It's doing what you've asked.</p><blockquote> your solution is something like "white list" where each registered element will not be parsed by jquery-ui-dialog functionality?</blockquote><p>Correct.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 15, 2013 02:10PM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:6 scott.gonzalez]:</p><p>fine, thanks for responses.</p><p>solution that you propose will be really useful.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 16, 2013 08:48AM UTC by <span class="author">djQuery</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">In Google Chrome Version 24.0.1312.70  I was unable to reproduce your issue. I was able to edit the inputs in the link properties pop up just fine. &#92;
&#92;
We you experiencing this issue in a particular browser? &#92;
&#92;
&#92;
Ok just tried it in Firefox v 18.0.2 and I am able to reproduce the issue.</span> → <span class="change-field-new">1361004579045849</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>In Google Chrome Version 24.0.1312.70  I was unable to reproduce your issue. I was able to edit the inputs in the link properties pop up just fine. </p><p>Were you experiencing this issue in a particular browser? </p><p>Ok just tried it in Firefox v 18.0.2 and I am able to reproduce the issue.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 16, 2013 08:51AM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:8 djQuery]:</p><blockquote> In Google Chrome Version 24.0.1312.70  I was unable to reproduce your issue. I was able to edit the inputs in the link properties pop up just fine. </blockquote><p>In Google Chrome 24.0.1312.57m is reproduced too</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 16, 2013 09:00AM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>test case updated to last jquery-ui-1.10.1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 16, 2013 10:21PM UTC by <span class="author">Oskar</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have the same bug. In which version will it be fixed?</p><p>Updated to jquery ui 1.10.1, but the bug is still there.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 20, 2013 10:35PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">none</span> → <span class="change-field-new">1.10.2</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">ui dialog prevent editing inputs in CKEditor popups</span> → <span class="change-field-new">Dialog: Allow registering elements outside a dialog for use when a modal dialog is open</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>type:</th>
                  <td>
                    
                      <span class="change-field-old">bug</span> → <span class="change-field-new">feature</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm marking as valid, but we're not going to fix this directly in jQuery UI because we feel that this is bad UX. What we're willing to do is expose a method that can be overridden to allow an API like the one I suggested.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 20, 2013 10:36PM UTC by <span class="author">Scott González</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Dialog: Extract check for which elements can gain focus into its own method for overriding. Fixes <a href="/ticket/9087">#9087</a> - Dialog: Allow registering elements outside a dialog for use when a modal dialog is open. </p><p> Changeset: 51eb28e76e372fe0af12724edff0b5780b5e5ed0</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 20, 2013 10:37PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">This change allows you to write an extension like so:&#92;
&#92;
```&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
	_allowInteraction: function( event ) {&#92;
		return !!$( event.target ).closest( &quot;.other-popups&quot; ).length || this._super( event );&#92;
	}&#92;
});&#92;
```</span> → <span class="change-field-new">1361399866704663</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>This change allows you to write an extension like so:</p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
	_allowInteraction: function( event ) {
		return !!$( event.target ).closest( ".other-popups" ).length || this._super( event );
	}
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 22, 2013 12:16PM UTC by <span class="author">psyafter</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:14 scott.gonzalez]:</p><blockquote> This change allows you to write an extension like so: </blockquote><p>very nice!</p><p>when 1.10.2 will be released? </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 22, 2013 01:18PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We don't set specific dates for releases, but we generally release about once per month.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2013 05:17PM UTC by <span class="author">pmckensey</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I am still seeing the same bug with CKEditor and jqueryui version 1.10.2</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 18, 2013 05:24PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@pmckensey The "bug" will continue to exist for all versions, unless you explicitly write an exception as mentioned above. See <a href="http://bugs.jqueryui.com/ticket/9087#comment:14" class="ext-link"><span class="icon"></span>http://bugs.jqueryui.com/ticket/9087#comment:14</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2013 08:45PM UTC by <span class="author">altieres</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@scott.gonzalez, I haven't understood the 14th comment, need I do something? or the ckeditor team need to implement that inside ckeditor? please explain yourself a little more...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2013 09:03PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@altieres It's up to the CKEditor team whether they add code for this. The bottom line is that if you want to have something that isn't part of the DOM inside the dialog, you'll need to overwrite <code>_allowInteraction()</code> to support whatever other elements you want. Take a look at the current implementation which hacks in support for datepicker to get an idea of how this works.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 15, 2013 06:08PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/9378">#9378</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 30, 2013 12:30PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/9173">#9173</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 24, 2013 05:15PM UTC by <span class="author">faren451</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Whew! Took me forever to find that my problem could be fixed--thanks for posting this fix (in comment #14). But could someone please clarify how to use this with CKEditor or point to an example page? I am using CKEditor 4.2.1, and I have included a new js file after including jquery UI:&#92;
&#92;
{{{&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
	_allowInteraction: function( event ) {&#92;
		return !!$( event.target ).closest( &quot;.cke_dialog&quot; ).length || this._super( event );&#92;
	}&#92;
});&#92;
}}}&#92;
&#92;
This does not fix the issue for me, though. Even before adding this patch / fix, I could edit all non-text / non-textarea elements in my plugin dialog...&#92;
&#92;
With this fix, I have also tried &quot;.cke_dialog&quot; and &quot;.cke_dialog_ui_input_text&quot;, but neither works. The text is still non-editable, non-highlightable. Maybe I don&#39;t understand how this fix is supposed to work, so any clarification is appreciated. Thanks!</span> → <span class="change-field-new">1382635000138039</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Whew! Took me forever to find that my problem could be fixed--thanks for posting this fix (in comment #14). But could someone please clarify how to use this with CKEditor or point to an example page? I am using CKEditor 4.2.1 and jQuery 1.10.3, and I have included a new js file after including jquery UI:&#92;
&#92;
{{{&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
	_allowInteraction: function( event ) {&#92;
		return !!$( event.target ).closest( &quot;.cke_dialog&quot; ).length || this._super( event );&#92;
	}&#92;
});&#92;
}}}&#92;
&#92;
This does not fix the issue for me, though. Even before adding this patch / fix, I could edit all non-text / non-textarea elements in my plugin dialog...&#92;
&#92;
With this fix, I have also tried &quot;.cke_dialog&quot; and &quot;.cke_dialog_ui_input_text&quot;, but neither works. The text is still non-editable, non-highlightable. Maybe I don&#39;t understand how this fix is supposed to work, so any clarification is appreciated. Thanks!</span> → <span class="change-field-new">1382635018381661</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Whew! Took me forever to find that my problem could be fixed--thanks for posting this fix (in comment <a href="/ticket/14">#14</a>). But could someone please clarify how to use this with CKEditor or point to an example page? I am using CKEditor 4.2.1 and jQuery UI 1.10.3, and I have included a new js file after including jquery UI:</p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
	_allowInteraction: function( event ) {
		return !!$( event.target ).closest( ".cke_dialog" ).length || this._super( event );
	}
});
</pre><p>This does not fix the issue for me, though. Even before adding this patch / fix, I could edit all non-text / non-textarea elements in my plugin dialog...</p><p>With this fix, I have also tried ".cke_dialog" and ".cke_dialog_ui_input_text", but neither works. The text is still non-editable, non-highlightable. Maybe I don't understand how this fix is supposed to work, so any clarification is appreciated. Thanks!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 24, 2013 05:34PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@faren451: You'll need to post on the forums or Stack Overflow for help with your specific case.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2013 03:34AM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>As an FYI this ticket is being referenced as the solution for everyone using CKEditor 4.x nested within a jQuery-UI modal. I literally have read through 50+ posts online that copy/pasted the result above and cite it as the solution to their problems.</p><p>Do not even bother copying and pasting the snippet above and expecting this to solve your problems - I tried - it doesn't and can't work. I investigated why, and I don't believe that the poster ever expected it to be cited as the solution to our problem, rather he likely expected the CKEditor people to provide some type of proper solution for the observed problem, which they have failed to provide as of today.</p><p>The hook above does provide hope, but it falls short of being a proper solution for a number of reasons:</p><ul><li>The base method likely provided functionality that you want</li><li>The author of the proposed solution above is likely not familiar with CKEditor, and did not account for the nested iframe that CKEditor uses.</li><li>Due to the implementation of CKEditor, clicks on the nested iframe in CKEditor will generate an event.target as a "document", instead of generating an event.target as an "element". A document is not an element, so the .closest() call will return zero elements. This means that all interaction with CKEditor will be explicitly blocked from that point on.</li></ul><p>My solution is attached below, but I'm sure there is something wrong with it. If anyone has better ideas I'd love to hear them - I want to preserve as much of the native functionality as possible while allowing the nested CKEditor to work until I change over to the newly supported IPE functionality:</p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
  _allowInteraction: function( event ) {
    if ( $( event.target ).closest(".ui-dialog").length ) {
      return true;
    }

    if (!(event.target instanceof HTMLElement)) {
      return true;
    }

    if ( $( event.target ).closest(".cke_dialog").length ) {
      return true;
    }

    // TODO: Remove hack when datepicker implements
    // the .ui-front logic (#8989)
    return !!$( event.target ).closest(".ui-datepicker").length;
  },
  _moveToTop: function (event, silent) {
    if (!event || !this.options.modal) {
      this._super(event, silent);
    }
  }
});
</pre><p>I realize this probably is not the best place for such a dialog, but the problem is being discussed on many different forums and there is no single place to note that the provided solution will not work out of the box for most implementations.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:26">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2013 01:52PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:26">comment:26</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@kamelkev I think it's fine to have this conversation here. I'm even willing to update the body of the ticket to clearly show the best solution, once the community has agreed on a working solution.</p><p>A few suggestions:</p><p>Do not manually re-implement the built-in logic; you're killing the upgrade path if you do. Use <code>this._super( event )</code> to determine if the built-in logic allows interaction. This would result in something like:</p><pre class="wiki">
_allowInteraction: function( event ) {
    if ( this._super( event ) ) {
        return true;
    }

    // custom logic goes here
}
</pre><p>Don't use <code>instanceof</code>. While the reasons for avoiding <code>instanceof</code> are generally tied to supporting cross-window usage, and you're explicitly trying to check for that case, it's not actually checking what you want to check. You could instead just check if <code>event.target.ownerDocument</code> matches <code>this.document[ 0 ]</code> to determine if the event originated in the same document.</p><p>Can you explain why you needed to proxy <code>_moveToTop()</code>?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:27">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2013 03:28PM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:27">comment:27</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi Scott, thanks for commenting. I was afraid people had completely lost interest in this. Definitely looking for the "right" way to do it.</p><p>It was an accident to paste moveToTop here, but it is relevant to the conversation. Basically the moveToTop adjustment handles a previous issue the CKEditor/jQueryUI community had whereby some iframe populated drop downs would lose their contents the second time they were clicked. There are a bunch of solutions out there for handling the problem, I found this one to be the simplest. I have tested it on a bunch of browsers, but I do not have it in production yet. </p><p>Great suggestions, I reimplemented and started our team testing it on all common browsers. So far the following appears to meet all requirements:</p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
 /*! jQuery UI - v1.10.2 - 2013-12-12
  *  http://bugs.jqueryui.com/ticket/9087#comment:27 - bugfix
  *  allowInteraction fix to accommodate windowed editors
  */
  _allowInteraction: function( event ) {
    if ( this._super( event ) ) {
      return true;
    }

    if ( event.target.ownerDocument != this.document[ 0 ] ) {
      return true;
    }

    if ( $( event.target ).closest( ".cke_dialog" ).length ) {
      return true;
    }
  },

 /*! jQuery UI - v1.10.2 - 2013-10-28
  *  http://dev.ckeditor.com/ticket/10269 - bugfix
  *  moveToTop fix to accommodate windowed editors
  */
  _moveToTop: function ( event, silent ) {
    if ( !event || !this.options.modal ) {
      this._super( event, silent );
    }
  }
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:28">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2013 03:56PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:28">comment:28</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Great. Can you report back once you've had this in production for a while, or done rigorous in-house testing? Once you've confirmed this, I'll update the ticket description.  Hopefully other users will test out your fix as well so they can report success/failure in their apps.</p><p>If you want to put together a reduced test case showing the iframe issue using just jQuery UI, we can get that portion of the fix into dialog as well. I just want to keep anything CKEditor-specific out of jQuery UI.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:29">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 14, 2013 12:03AM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:29">comment:29</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>QA came back and found a problem with the functionality of CKEditor under IE8/9/10/11. Basically there are some drop downs within the primary toolbar that are misbehaving. Under Firefox the drop downs (which produce an iframe displaying the drop down content) were not displaying the second time, which is why I was applying the _moveToTop fix above, however there is apparently a similar problem under IE where the drop downs display properly, but immediately disappear after displaying.</p><p>I rolled back to 1.9.x and sure enough the problem doesn't exist there - so it's likely related to the same issues that were affecting other parts of the tool.</p><p>The good news is that this appears to be the last issue that needs resolution for me to attempt a production release. The bad news is that I have literally no idea how this display/hide event is occurring.</p><p>I'm a little surprised to be hearing about this now, as I can find no-one else complaining about this specific problem. Maybe nobody else got this far with getting CKEditor 4.x running within a 1.10.x jQuery UI modal, but I find that a little hard to believe.</p><p>From what I can tell the following series of events occurs:</p><p>1. Click link activating the jQueryUI dialog</p><p>2. Click link for drop down within jQueryUI dialog</p><p>3. Upon clicking observe that the drop down did not appear, however appears the textarea is now selected</p><p>4. Click link for drop down within jQueryUI dialog</p><p>5. Upon clicking observe that the drop down now has appeared, however almost immediately it will disappear.</p><p>You can see from the above sequence that no event actually occurs which would cause a change in focus. It seems the drop down is disappearing after a timer goes off or something. I have no such timers in my code.</p><p>From here my next plan is to write up an isolated test on jsfiddle to attempt to get help finding a solution.</p><p>If anyone has ideas on what is causing this, would love to hear them. We are pretty close at having something viable.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:30">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 16, 2013 09:00PM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:30">comment:30</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Found a final workaround for the aforementioned issue. Anyone interested may visit the following fiddle with working CKEditor 4.3.1 within a jQueryUI 1.10.2 dialog. I had problems with the page scrolling all the way to the top with jQuery 1.10.3, issues that I do not plan to dig into right now.</p><p>Fiddle: <a href="http://jsfiddle.net/kamelkev/HU8Qt/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/kamelkev/HU8Qt/3/</a></p><p>Code that we have tested in IE 8/9/10, and latest versions of autoupdated browsers (Firefox,Chrome,Safari):</p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
 /*! jQuery UI - v1.10.2 - 2013-12-12
  *  http://bugs.jqueryui.com/ticket/9087#comment:27 - bugfix
  *  http://bugs.jqueryui.com/ticket/4727#comment:23 - bugfix
  *  allowInteraction fix to accommodate windowed editors
  */
  _allowInteraction: function( event ) {
    if ( this._super( event ) ) {
      return true;
    }

    // address interaction issues with general iframes with the dialog
    if ( event.target.ownerDocument != this.document[ 0 ] ) {
      return true;
    }

    // address interaction issues with dialog window
    if ( $( event.target ).closest( ".cke_dialog" ).length ) {
      return true;
    }

    // address interaction issues with iframe based drop downs in IE
    if ( $( event.target ).closest( ".cke" ).length ) {
      return true;
    }
  },
 /*! jQuery UI - v1.10.2 - 2013-10-28
  *  http://dev.ckeditor.com/ticket/10269 - bugfix
  *  moveToTop fix to accommodate windowed editors
  */
  _moveToTop: function ( event, silent ) {
    if ( !event || !this.options.modal ) {
      this._super( event, silent );
    }
  }
});
</pre><p>I am deploying this during the first week of January at which point I will report back again.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:31">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 20, 2014 09:53PM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:31">comment:31</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ok I have had this in production for a few weeks now. We have fairly high volume where the above fix is deployed - everything seems working as expected.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:32">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 20, 2014 10:36PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:32">comment:32</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">when using CKEditor in UI Dialog there is a problem with editors popups.&#92;
&#92;
jsfiddle: http://jsfiddle.net/psyafter/dUThT/&#92;
&#92;
1) click on button&#92;
2) in ckeditor double click on text &quot;click me&quot;&#92;
3) in editor dialog there is a problem edit textboxes&#92;
&#92;
past bugs reports that now any solution not work</span> → <span class="change-field-new">When using CKEditor in UI Dialog there is a problem with editor popups.&#92;
&#92;
jsfiddle: http://jsfiddle.net/psyafter/dUThT/&#92;
&#92;
1) click on button&#92;
2) in ckeditor double click on text &quot;click me&quot;&#92;
3) in editor dialog there is a problem edit textboxes&#92;
&#92;
----&#92;
&#92;
== Solution ==&#92;
&#92;
See [http://bugs.jqueryui.com/ticket/9087#comment:30 comment #30] for an extension that can be loaded after jQuery UI to register CKEditor elements as valid targets.</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:33">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 20, 2014 10:37PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:33">comment:33</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks, I've updated the ticket body to guide any users who find this ticket directly to your patch.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:34">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 23, 2014 01:19PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:34">comment:34</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/9767">#9767</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:35">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 12, 2014 01:57PM UTC by <span class="author">ThiefMaster</span></span>
        <a class="ticket-change-link" href="#comment:35">comment:35</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It would be nice to have this fix in 1.11!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:36">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 11, 2014 05:43PM UTC by <span class="author">marineam</span></span>
        <a class="ticket-change-link" href="#comment:36">comment:36</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks a lot kamelkev for your input, this code snippet works like a charm. Hope this issue will get fixed in next jQueryUI release.</p><p>Do you have any idea on how to fix the page scrolling issue? When I open the editor in a dialog, it scrolls all the way up to the top of the page (jQuery 1.11.0, jQueryUI 1.10.4 and CKEditor 4.4.0).</p><p>(sorry to post here, couldn't find any open ticket related to this).</p><p>Thanks,</p><p>M</p><p>Replying to [comment:30 kamelkev]:</p><blockquote> Found a final workaround for the aforementioned issue. Anyone interested may visit the following fiddle with working CKEditor 4.3.1 within a jQueryUI 1.10.2 dialog. I had problems with the page scrolling all the way to the top with jQuery 1.10.3, issues that I do not plan to dig into right now.  Fiddle: <a href="http://jsfiddle.net/kamelkev/HU8Qt/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/kamelkev/HU8Qt/3/</a>  Code that we have tested in IE 8/9/10, and latest versions of autoupdated browsers (Firefox,Chrome,Safari):   <pre class="wiki">
&gt; $.widget( "ui.dialog", $.ui.dialog, {
&gt;  /*! jQuery UI - v1.10.2 - 2013-12-12
&gt;   *  http://bugs.jqueryui.com/ticket/9087#comment:27 - bugfix
&gt;   *  http://bugs.jqueryui.com/ticket/4727#comment:23 - bugfix
&gt;   *  allowInteraction fix to accommodate windowed editors
&gt;   */
&gt;   _allowInteraction: function( event ) {
&gt;     if ( this._super( event ) ) {
&gt;       return true;
&gt;     }
&gt; 
&gt;     // address interaction issues with general iframes with the dialog
&gt;     if ( event.target.ownerDocument != this.document[ 0 ] ) {
&gt;       return true;
&gt;     }
&gt; 
&gt;     // address interaction issues with dialog window
&gt;     if ( $( event.target ).closest( ".cke_dialog" ).length ) {
&gt;       return true;
&gt;     }
&gt; 
&gt;     // address interaction issues with iframe based drop downs in IE
&gt;     if ( $( event.target ).closest( ".cke" ).length ) {
&gt;       return true;
&gt;     }
&gt;   },
&gt;  /*! jQuery UI - v1.10.2 - 2013-10-28
&gt;   *  http://dev.ckeditor.com/ticket/10269 - bugfix
&gt;   *  moveToTop fix to accommodate windowed editors
&gt;   */
&gt;   _moveToTop: function ( event, silent ) {
&gt;     if ( !event || !this.options.modal ) {
&gt;       this._super( event, silent );
&gt;     }
&gt;   }
&gt; });
&gt; </pre>  I am deploying this during the first week of January at which point I will report back again.</blockquote>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:37">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 14, 2015 02:47PM UTC by <span class="author">usmonster</span></span>
        <a class="ticket-change-link" href="#comment:37">comment:37</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">It seems that, since jQuery UI 1.11, the _moveToTop override is no longer necessary (see #9166). Can anyone else confirm? If this is true, then the CKEditor workaround could be reduced to something like this:&#92;
&#92;
{{{#!js&#92;
&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
 /**&#92;
  * jQuery UI v1.11+ fix to accommodate iframed content (e.g. CKEditor) inside a dialog&#92;
  * @see http://bugs.jqueryui.com/ticket/9087&#92;
  * @see http://dev.ckeditor.com/ticket/10269&#92;
  */&#92;
  _allowInteraction: function( event ) {&#92;
    return this._super( event ) ||&#92;
&#92;
      // addresses general interaction issues with iframes inside a dialog&#92;
      event.target.ownerDocument !== this.document[ 0 ] ||&#92;
&#92;
      // addresses interaction issues with iframe-based dropdowns in IE and dialog windows&#92;
      !!$( event.target ).closest( &quot;.cke, .cke_dialog&quot; ).length;&#92;
  }&#92;
});&#92;
&#92;
}}}&#92;
&#92;
...I also wonder if the `event.target.ownerDocument` check is necessary or redundant. Thoughts?&#92;
&#92;
Tested with CKEditor 4.4.6 / jQuery UI 1.11.2.</span> → <span class="change-field-new">1421247602837899</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">It seems that, since jQuery UI 1.11, the _moveToTop override is no longer necessary (see #9166). Can anyone else confirm? If this is true, then the CKEditor workaround could be reduced to something like this:&#92;
&#92;
{{{#!js&#92;
&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
 /**&#92;
  * jQuery UI v1.11+ fix to accommodate iframed content (e.g. CKEditor) inside a dialog&#92;
  * @see http://bugs.jqueryui.com/ticket/9087&#92;
  * @see http://dev.ckeditor.com/ticket/10269&#92;
  */&#92;
  _allowInteraction: function( event ) {&#92;
    return this._super( event ) ||&#92;
&#92;
      // addresses general interaction issues with iframes inside a dialog&#92;
      event.target.ownerDocument !== this.document[ 0 ] ||&#92;
&#92;
      // addresses interaction issues with iframe-based dropdowns in IE and dialog windows&#92;
      !!$( event.target ).closest( &quot;.cke, .cke_dialog&quot; ).length;&#92;
  }&#92;
});&#92;
&#92;
}}}&#92;
&#92;
...I also wonder if the `event.target.ownerDocument` check is necessary or redundant. Thoughts?&#92;
&#92;
Tested with CKEditor 4.4.6 / jQuery UI 1.11.2 on IE9, Firefox 35, Chrome 40.</span> → <span class="change-field-new">1421251137991408</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment2:</th>
                  <td>
                    
                      <span class="change-field-old">It seems that, since jQuery UI 1.11, the `_moveToTop` override is no longer necessary (see #9166). Can anyone else confirm? If this is true, then the CKEditor workaround could be reduced to something like this:&#92;
&#92;
{{{#!js&#92;
&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
 /**&#92;
  * jQuery UI v1.11+ fix to accommodate iframed content (e.g. CKEditor) inside a dialog&#92;
  * @see http://bugs.jqueryui.com/ticket/9087&#92;
  * @see http://dev.ckeditor.com/ticket/10269&#92;
  */&#92;
  _allowInteraction: function( event ) {&#92;
    return this._super( event ) ||&#92;
&#92;
      // addresses general interaction issues with iframes inside a dialog&#92;
      event.target.ownerDocument !== this.document[ 0 ] ||&#92;
&#92;
      // addresses interaction issues with iframe-based dropdowns in IE and dialog windows&#92;
      !!$( event.target ).closest( &quot;.cke, .cke_dialog&quot; ).length;&#92;
  }&#92;
});&#92;
&#92;
}}}&#92;
&#92;
...I also wonder if the `event.target.ownerDocument` check is necessary or redundant. Thoughts?&#92;
&#92;
Tested with CKEditor 4.4.6 / jQuery UI 1.11.2 on IE9, Firefox 35, Chrome 40.</span> → <span class="change-field-new">1421252726523784</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment3:</th>
                  <td>
                    
                      <span class="change-field-old">It seems that, since jQuery UI 1.11, the `_moveToTop` override is no longer necessary (see #9166). Can anyone else confirm? If this is true, then the CKEditor workaround could be reduced to something like this:&#92;
&#92;
{{{#!js&#92;
&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
 /**&#92;
  * jQuery UI v1.11+ fix to accommodate CKEditor (and other iframed content) inside a dialog&#92;
  * @see http://bugs.jqueryui.com/ticket/9087&#92;
  * @see http://dev.ckeditor.com/ticket/10269&#92;
  */&#92;
  _allowInteraction: function( event ) {&#92;
    return this._super( event ) ||&#92;
&#92;
      // addresses general interaction issues with iframes inside a dialog&#92;
      event.target.ownerDocument !== this.document[ 0 ] ||&#92;
&#92;
      // addresses interaction issues with CKEditor&#39;s dialog windows and iframe-based dropdowns in IE&#92;
      !!$( event.target ).closest( &quot;.cke_dialog, .cke&quot; ).length;&#92;
  }&#92;
});&#92;
&#92;
}}}&#92;
&#92;
...I also wonder if the `event.target.ownerDocument` check is necessary or redundant. Thoughts?&#92;
&#92;
Tested with CKEditor 4.4.6 / jQuery UI 1.11.2 on IE9, Firefox 35, Chrome 40.</span> → <span class="change-field-new">1421860844415431</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>It seems that, since jQuery UI 1.11, the <code>_moveToTop</code> override is no longer necessary (see <a href="/ticket/9166">#9166</a>). Can anyone else confirm? If this is true, then the CKEditor workaround could be reduced to something like this:</p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
 /**
  * jQuery UI v1.11+ fix to accommodate CKEditor (and other iframed content) inside a dialog
  * @see http://bugs.jqueryui.com/ticket/9087
  * @see http://dev.ckeditor.com/ticket/10269
  */
  _allowInteraction: function( event ) {
    return this._super( event ) ||

      // addresses general interaction issues with iframes inside a dialog
      event.target.ownerDocument !== this.document[ 0 ] ||

      // addresses interaction issues with CKEditor's dialog windows and iframe-based dropdowns in IE
      !!$( event.target ).closest( ".cke_dialog, .cke_dialog_background_cover, .cke" ).length;
  }
});

</pre><p>...I also wonder if the <code>event.target.ownerDocument</code> check is necessary or redundant. Thoughts?</p><p>Tested with CKEditor 4.4.6 / jQuery UI 1.11.2 on IE9, Firefox 35, Chrome 40.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:38">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 05, 2015 08:33PM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:38">comment:38</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Hi,&#92;
&#92;
I&#39;m going to experiment and see if we can get 1.11 working. The last time I tried this I found that my fix was fundamentally flawed, but that was with 1.10 beyond 1.10.3.&#92;
&#92;
I&#39;m really hoping the above comment is true, and I can just simplify the fix and move on.&#92;
&#92;
&#92;
&#92;
</span> → <span class="change-field-new">1433543950916442</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Hi,</p><p>I'm going to experiment and see if we can get 1.11.4 working. The last time I tried this I found that my fix was fundamentally flawed, but that it didn't work at all with 1.10.3 - hence why we only posted for 1.10.2</p><p>I'm really hoping the above comment is true, and I can just simplify the fix and move on.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:39">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 05, 2015 11:20PM UTC by <span class="author">kamelkev</span></span>
        <a class="ticket-change-link" href="#comment:39">comment:39</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Hi usmonster,&#92;
&#92;
I agree with your assessment. The override for _moveToTop is no longer necessary. The initial fix from ticket 10269 appears to be the only thing we need for this to work in jQuery UI 1.11.4. I noticed your _allowInteraction code is different, I cannot confirm if that works or not. The variant included below has been in production for me for 18 months, and I know for sure that works.&#92;
&#92;
Fiddle: http://jsfiddle.net/kamelkev/80qex6v1/6/&#92;
&#92;
Code that we have tested in IE 8/9/10, and latest versions of autoupdated browsers (Firefox,Chrome,Safari): &#92;
&#92;
{{{&#92;
$.widget( &quot;ui.dialog&quot;, $.ui.dialog, {&#92;
 /*! jQuery UI - v1.11.4 - 2015-06-05&#92;
  *  http://bugs.jqueryui.com/ticket/9087#comment:27 - bugfix&#92;
  *  http://bugs.jqueryui.com/ticket/4727#comment:23 - bugfix&#92;
  *  allowInteraction fix to accommodate windowed editors&#92;
  */&#92;
  _allowInteraction: function( event ) {&#92;
    if ( this._super( event ) ) {&#92;
      return true;&#92;
    }&#92;
&#92;
    // address interaction issues with general iframes with the dialog&#92;
    if ( event.target.ownerDocument != this.document[ 0 ] ) {&#92;
      return true;&#92;
    }&#92;
&#92;
    // address interaction issues with dialog window&#92;
    if ( $( event.target ).closest( &quot;.cke_dialog&quot; ).length ) {&#92;
      return true;&#92;
    }&#92;
&#92;
    // address interaction issues with iframe based drop downs in IE&#92;
    if ( $( event.target ).closest( &quot;.cke&quot; ).length ) {&#92;
      return true;&#92;
    }&#92;
  }&#92;
});&#92;
&#92;
}}}&#92;
</span> → <span class="change-field-new">1433548287832853</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Hi usmonster,</p><p>I agree with your assessment. The override for _moveToTop is no longer necessary. The initial fix from ticket <a href="http://bugs.jqueryui.com/ticket/10269" class="ext-link"><span class="icon"></span>http://bugs.jqueryui.com/ticket/10269</a> appears to be the only thing we need for this to work in jQuery UI 1.11.4. I noticed your _allowInteraction code is different, I cannot confirm if that works or not. The variant included below has been in production for me for 18 months, and I know for sure that works.</p><p>Fiddle: <a href="http://jsfiddle.net/kamelkev/80qex6v1/6/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/kamelkev/80qex6v1/6/</a></p><p>Code that we have tested in IE 9/10/11, and latest versions of autoupdated browsers (Firefox,Chrome,Safari): </p><pre class="wiki">
$.widget( "ui.dialog", $.ui.dialog, {
 /*! jQuery UI - v1.11.4 - 2015-06-05
  *  http://bugs.jqueryui.com/ticket/9087#comment:27 - bugfix
  *  http://bugs.jqueryui.com/ticket/4727#comment:23 - bugfix
  *  allowInteraction fix to accommodate windowed editors
  */
  _allowInteraction: function( event ) {
    if ( this._super( event ) ) {
      return true;
    }

    // address interaction issues with general iframes with the dialog
    if ( event.target.ownerDocument != this.document[ 0 ] ) {
      return true;
    }

    // address interaction issues with dialog window
    if ( $( event.target ).closest( ".cke_dialog" ).length ) {
      return true;
    }

    // address interaction issues with iframe based drop downs in IE
    if ( $( event.target ).closest( ".cke" ).length ) {
      return true;
    }
  }
});

</pre>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

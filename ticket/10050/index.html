<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#10050 (Autocomplete: Destroy potential memory/resource leak) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/10049/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/10053/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#10050</a>
      <span class="ticket-status">open</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">()</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened May 20, 2014 10:37PM UTC</p>
      
      
        <p>Last modified September 21, 2018 06:58PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Autocomplete: Destroy potential memory/resource leak</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        scott.k.mitch1
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.autocomplete</td>
      
        <th>Version:</th>
      
      <td>1.10.4</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>It seems like Autocomplete's <code>destroy</code> method may not be making all memory available for GC.  I have a [test case](<a href="http://jsfiddle.net/WX8wd/)" class="ext-link"><span class="icon"></span>http://jsfiddle.net/WX8wd/)</a> setup to try the potential issue out.  I am using google chrome dev tool bar to debug and noticing that there are new elements in the <code>Detatched DOM Tree</code> section of <code>heap snap shots</code> before and after the <code>destroy</code> call is made.  After waiting a while and forcing a GC collection  the timeline indicates the number of nodes is not returning to the original state.  The <code>object's retaining tree</code> indicates that the <code>:not(.ui-menu-item) in function cache()</code> object still may have a reference preventing resources from being re-claimed.  Can someone confirm my analysis or explain why this is not an issue?</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 21, 2014 06:39PM UTC by <span class="author">scott.k.mitch1</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here is some environment information that may be relevant:</p><p>Google Chrome Version 35.0.1916.114</p><p>Ubuntu 12.04 x86_64 3.2.0-61-generic</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2014 01:14PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm admittedly no expert in using the heap tools in Chrome's <a href="/wiki/DevTools">DevTools</a>, but what I'm seeing is two "Detached DOM tree" top level entries. One is datepicker related, which is a known problem that we're addressing in the rewrite.</p><p>The second one however contains two elements from autocomplete: the live region and the menu—which correspond to the </p><pre class="wiki">liveRegion</pre> and <pre class="wiki">menu</pre> variables on the autocomplete instance. The autocomplete widget does call <pre class="wiki">remove()</pre> on each of these elements (see <a href="https://github.com/jquery/jquery-ui/blob/203b23a87c68312382aed45c0e67df4461c4ebfc/ui/autocomplete.js#L326-327)," class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/blob/203b23a87c68312382aed45c0e67df4461c4ebfc/ui/autocomplete.js#L326-327),</a> but perhaps a reference remains that keeps this from being cleaned up?<p></p><p>In local testing if I add </p><pre class="wiki">this.liveRegion = null</pre> to autocomplete's <pre class="wiki">_destroy()</pre>, the live region no longer appears as a Detached DOM tree, so I'll mark this issue as valid. The real question to me is: what still has a reference to the instance. scott.k.mitch1, do you have any ideas?<p></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2014 01:20PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">Autocomplete Destroy potential memory/resource leak</span> → <span class="change-field-new">Autocomplete: Destroy potential memory/resource leak</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2014 03:10PM UTC by <span class="author">scott.k.mitch1</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Thanks for looking into this issue.  I have been evaluating and contributing to a few of other open source packages that have more sever memory leaks for my use-case. Unfortunately this means I have not had time to dive into Autocomplete.&#92;
&#92;
A few general things to look out for are:&#92;
* Clean up any jquery data cache you may be using. It is good practice to accompany any calls to {{{.data(&#39;x&#39;,y)}}} with a {{{.removeData(&#39;x&#39;)}}}&#92;
* In general avoid using references to DOM elements in anonymous functions which are defined outside the scope of that anonymous function. Re-select unless you are sure the anonymous function will be made eligible for GC.  For example if the anonymous function is used to register for an {{{.on(&#39;click&#39;, ...)}}} then you want to make sure you do an {{{.off(&#39;click&#39;, ...)}}}&#92;
* Avoid storing references to DOM elements in the {{{data}}} cache, or if you must make sure that you clean up after yourself. (inspect line 539 {{{return this._renderItem( ul, item ).data( &quot;ui-autocomplete-item&quot;, item );}}})&#92;
</span> → <span class="change-field-new">1400857955258401</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Thanks for looking into this issue.  I have been evaluating and contributing to a few of other open source packages that have more severe memory leaks for my use-case. Unfortunately this means I have not had time to dive into Autocomplete.&#92;
&#92;
A few general things to look out for are:&#92;
* Clean up any jquery data cache you may be using. It is good practice to accompany any calls to {{{.data(&#39;x&#39;,y)}}} with a {{{.removeData(&#39;x&#39;)}}}&#92;
* In general avoid using references to DOM elements in anonymous functions which are defined outside the scope of that anonymous function. Re-select unless you are sure the anonymous function will be made eligible for GC.  For example if the anonymous function is used to register for an {{{.on(&#39;click&#39;, ...)}}} then you want to make sure you do an {{{.off(&#39;click&#39;, ...)}}}&#92;
* Avoid storing references to DOM elements in the {{{data}}} cache, or if you must make sure that you clean up after yourself. (inspect line 539 {{{return this._renderItem( ul, item ).data( &quot;ui-autocomplete-item&quot;, item );}}})&#92;
</span> → <span class="change-field-new">1400858223718719</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Thanks for looking into this issue.  I have been evaluating and contributing to a few of other open source packages that have more severe memory leaks for my use-case. Unfortunately this means I have not had time to dive into Autocomplete.</p><p>A few general things to look out for are:</p><ul><li>Clean up any jquery data cache you may be using. It is good practice to accompany any calls to <pre class="wiki">.data('x',y)</pre> with a <pre class="wiki">.removeData('x')</pre></li><li>In general avoid using references to DOM elements in anonymous functions which are defined outside the scope of that anonymous function. Re-select unless you are sure the anonymous function will be made eligible for GC.  For example if the anonymous function is used to register for an <pre class="wiki">.on('click', ...)</pre> then you want to make sure you do an <pre class="wiki">.off('click', ...)</pre> or equivalent call to un-register the event so there is no longer a reference to the anonymous function</li><li>Avoid storing references to DOM elements in the <pre class="wiki">data</pre> cache, or if you must make sure that you clean up after yourself. (inspect line 539 <pre class="wiki">return this._renderItem( ul, item ).data( "ui-autocomplete-item", item );</pre>)</li></ul>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2014 03:15PM UTC by <span class="author">scott.k.mitch1</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Replying to [comment:4 scott.k.mitch1]:&#92;
&gt; Thanks for looking into this issue.  I have been evaluating and contributing to a few of other open source packages that have more severe memory leaks for my use-case. Unfortunately this means I have not had time to dive into Autocomplete.&#92;
&gt; &#92;
&gt; A few general things to look out for are:&#92;
&gt; * Clean up any jquery data cache you may be using. It is good practice to accompany any calls to {{{.data(&#39;x&#39;,y)}}} with a {{{.removeData(&#39;x&#39;)}}}&#92;
&gt; * In general avoid using references to DOM elements in anonymous functions which are defined outside the scope of that anonymous function. Re-select unless you are sure the anonymous function will be made eligible for GC.  For example if the anonymous function is used to register for an {{{.on(&#39;click&#39;, ...)}}} then you want to make sure you do an {{{.off(&#39;click&#39;, ...)}}} or equivalent call to un-register the event so there is no longer a reference to the anonymous function&#92;
&gt; * Avoid storing references to DOM elements in the {{{data}}} cache, or if you must make sure that you clean up after yourself. (inspect line 539 {{{return this._renderItem( ul, item ).data( &quot;ui-autocomplete-item&quot;, item );}}})&#92;
</span> → <span class="change-field-new">1400858342712724</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 scott.k.mitch1]:</p><p>Hum...I meant to click 'Edit' but instead I clicked 'Reply'. I don't see a way to delete this so just Ignore this reply.</p><p>Why the custom issue interface?  Doesn't Jira offer free issue hosting to open source projects?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2016 01:52PM UTC by <span class="author">jGeek314</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">While researching a memory leak in my page that uses autocomplete I found similar issues with a growing detached DOM tree.  The more I typed in the autocomplete input, the larger the Detached DOM tree would grow.  After a lot of trial and error, I found my issue to be that in the menu.bindings was not being cleared and were referencing the detached DOM objects.  By manually clearing them in the search function of the autocomplete:&#92;
&#92;
&#92;
{{{&#92;
search: function(e,ui){&#92;
     //fix bug in jQuery.ui somewhere where menu.bindings just grows and grows&#92;
     autoComplete.data(&quot;ui-autocomplete&quot;).menu.bindings = $();&#92;
},&#92;
}}}&#92;
&#92;
The detached DOM tree disappeared (presumably because I removed the references to the detached objects).&#92;
&#92;
The issue of the menu.bindings growing can be seen in even the basic autocomplete example:&#92;
&#92;
&#92;
{{{&#92;
&lt;div class=&quot;ui-widget&quot;&gt;&#92;
  &lt;label for=&quot;tags&quot;&gt;Tags: &lt;/label&gt;&#92;
  &lt;input id=&quot;tags&quot;&gt;&#92;
&lt;/div&gt;&#92;
 &#92;
&lt;script&gt;&#92;
&#92;
var availableTags = [&#92;
  &quot;ActionScript&quot;,&#92;
  &quot;AppleScript&quot;,&#92;
  &quot;Asp&quot;&#92;
];&#92;
var autoTest = $( &quot;#tags&quot; ).autocomplete({&#92;
  source: availableTags,&#92;
  search: function(e,ui){&#92;
    console.log(autoTest.data(&quot;ui-autocomplete&quot;).menu.bindings.length);&#92;
  }&#92;
});&#92;
&#92;
&#92;
&lt;/script&gt;&#92;
}}}&#92;
&#92;
Not sure if the issue I found is exactly the same as what is reported in the ticket, but it seemed close enough to be worth noting here.</span> → <span class="change-field-new">1476799045358104</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>While researching a memory leak in my page that uses autocomplete I found similar issues with a growing detached DOM tree.  The more I typed in the autocomplete input, the larger the Detached DOM tree would grow.  After a lot of trial and error, I found my issue to be that in the menu.bindings was not being cleared and were referencing the detached DOM objects.  By manually clearing them in the search function of the autocomplete:</p><pre class="wiki">
search: function(e,ui){
     //fix bug in jQuery.ui somewhere where menu.bindings just grows and grows
     autoComplete.data("ui-autocomplete").menu.bindings = $();
},
</pre><p>The detached DOM tree disappeared (presumably because I removed the references to the detached objects).</p><p>The issue of the menu.bindings growing can be seen in even the basic autocomplete example:</p><p><a href="https://jsfiddle.net/jGeek314/L6wspvnb/" class="ext-link"><span class="icon"></span>https://jsfiddle.net/jGeek314/L6wspvnb/</a></p><p>Not sure if the issue I found is exactly the same as what is reported in the ticket, but it seemed close enough to be worth noting here.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2017 06:34AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/15095">#15095</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 05, 2017 10:36AM UTC by <span class="author">eodb</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We encountered the same issue in our application. After using the autocomplete widget on large lists (&gt; 500 items) a couple of times, the widgets quickly becomes unusable. The menu bindings are always added (via menu.refresh) but never removed.  </p><p>The workaround mentioned above seems to work without noticeable side effects.</p><p>Used: Autocomplete v1.12.1,  jQuery  v3.2.1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 11, 2017 04:13PM UTC by <span class="author">sklarej</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I can confirm that there is an issue with some kind of leak that has performance implications.  You can easily duplicate this using the jQuery Combobox demo by doing the following:&#92;
&#92;
1. Goto the jQuery UI Autocomplete Combobox demo at [https://jqueryui.com/autocomplete/#combobox]&#92;
2. Repeatedly press the dropdown menu arrow on the right of the combobox to show all items&#92;
3. After about 20 times (this is dependent on your computer speed) you will start to see a slowdown in the time it takes to display the dropdown list.&#92;
4. Every time you click the dropdown, it will take longer to display&#92;
5. Autocomplete speed is also compromised&#92;
&#92;
While this is not very noticeable with a smaller list of items, it can severely affect the user experience with a larger list.&#92;
&#92;
We have some comboboxes with a large number of items (up to ~500 items).  The autocomplete works quickly enough at first, but the more you type in the slower it goes.  Even if you just open a jquery combobox dropdown list repeatedly, it gets slower and slower each time.  We&#39;ve had reports of typing in the contents of an autocomplete field taking over a minute.&#92;
&#92;
&#39;&#39;&#39;Workaround&#39;&#39;&#39;: The workaround described in jGeek314&#39;s comment about clearing out the menu bindings had allowed us to continue to use the autocomplete control:&#92;
&#92;
{{{&#92;
autoComplete.data(&quot;ui-autocomplete&quot;).menu.bindings = $();&#92;
}}}&#92;
&#92;
</span> → <span class="change-field-new">1502481927050082</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I can confirm that there is an issue with some kind of leak that has performance implications as of jQuery UI 1.12.1 / jQuery 3.2.1.</p><p>You can easily duplicate this using the jQuery Combobox demo by doing the following:</p><p>1. Goto the jQuery UI Autocomplete Combobox demo at <a href="https://jqueryui.com/autocomplete/#combobox" class="ext-link"><span class="icon"></span>https://jqueryui.com/autocomplete/#combobox</a></p><p>2. Repeatedly press the dropdown menu arrow on the right of the combobox to show all items</p><p>3. After about 20 times (this is dependent on your computer speed) you will start to see a slowdown in the time it takes to display the dropdown list.</p><p>4. Every time you click the dropdown, it will take longer to display</p><p>5. Autocomplete speed is also compromised</p><p>While this is not very noticeable with a smaller list of items, it can severely affect the user experience with a larger list.</p><p>We have some comboboxes with a large number of items (up to ~500 items).  The autocomplete works quickly enough at first, but the more you type in the slower it goes.  Even if you just open a jquery combobox dropdown list repeatedly, it gets slower and slower each time.  We've had reports of typing in the contents of an autocomplete field taking over a minute.</p><p><strong>Workaround</strong>: The workaround described in jGeek314's comment about clearing out the menu bindings had allowed us to continue to use the autocomplete control:</p><pre class="wiki">
autoComplete.data("ui-autocomplete").menu.bindings = $();
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 29, 2017 10:44AM UTC by <span class="author">rjollos</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Thanks indeed, the workaround works a treat.  Would this not be suitable to be included in the jquery ui source?&#92;
&#92;
Replying to [comment:9 sklarej]:&#92;
&gt; I can confirm that there is an issue with some kind of leak that has performance implications as of jQuery UI 1.12.1 / jQuery 3.2.1.&#92;
&gt; &#92;
&gt; You can easily duplicate this using the jQuery Combobox demo by doing the following:&#92;
&gt; &#92;
&gt; 1. Goto the jQuery UI Autocomplete Combobox demo at [https://jqueryui.com/autocomplete/#combobox]&#92;
&gt; 2. Repeatedly press the dropdown menu arrow on the right of the combobox to show all items&#92;
&gt; 3. After about 20 times (this is dependent on your computer speed) you will start to see a slowdown in the time it takes to display the dropdown list.&#92;
&gt; 4. Every time you click the dropdown, it will take longer to display&#92;
&gt; 5. Autocomplete speed is also compromised&#92;
&gt; &#92;
&gt; While this is not very noticeable with a smaller list of items, it can severely affect the user experience with a larger list.&#92;
&gt; &#92;
&gt; We have some comboboxes with a large number of items (up to ~500 items).  The autocomplete works quickly enough at first, but the more you type in the slower it goes.  Even if you just open a jquery combobox dropdown list repeatedly, it gets slower and slower each time.  We&#39;ve had reports of typing in the contents of an autocomplete field taking over a minute.&#92;
&gt; &#92;
&gt; &#39;&#39;&#39;Workaround&#39;&#39;&#39;: The workaround described in jGeek314&#39;s comment about clearing out the menu bindings had allowed us to continue to use the autocomplete control:&#92;
&gt; &#92;
&gt; {{{&#92;
&gt; autoComplete.data(&quot;ui-autocomplete&quot;).menu.bindings = $();&#92;
&gt; }}}&#92;
&gt; &#92;
</span> → <span class="change-field-new">1514899043913059</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Replying to [comment:9 sklarej]:&#92;
&gt; I can confirm that there is an issue with some kind of leak that has performance implications as of jQuery UI 1.12.1 / jQuery 3.2.1.&#92;
&gt; ...&#92;
&#92;
&#92;
Thanks indeed, the workaround works a treat.  Would this not be suitable to be included in the jquery ui source?</span> → <span class="change-field-new">1528202526526676</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:9 sklarej]:</p><blockquote> I can confirm that there is an issue with some kind of leak that has performance implications as of jQuery UI 1.12.1 / jQuery 3.2.1. ...</blockquote><p>Thanks indeed, the workaround works a treat.  Would this not be suitable to be included in the jquery ui source?</p><p>To be clear, I did this each time the list changed.  In a function that loaded the new filtered list I called this</p><p>$(inputId).data("ui-autocomplete").menu.bindings  = $();</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 21, 2018 06:58PM UTC by <span class="author">duanehutchins</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:10 Colum Clissmann]:</p><blockquote> Replying to [comment:9 sklarej]: &gt; I can confirm that there is an issue with some kind of leak that has performance implications as of jQuery UI 1.12.1 / jQuery 3.2.1. &gt; ...   Thanks indeed, the workaround works a treat.  Would this not be suitable to be included in the jquery ui source?  To be clear, I did this each time the list changed.  In a function that loaded the new filtered list I called this  $(inputId).data("ui-autocomplete").menu.bindings  = $();</blockquote><p>If it helps anyone, adding this to the open event works great:</p><pre class="wiki">
$( ".selector" ).autocomplete({
  open: function() { $( this ).data("ui-autocomplete").menu.bindings = $(); }
});
</pre>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

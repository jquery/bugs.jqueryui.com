<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#3120 (Resize handles fail to appear after partial page update (ASP.NET AJAX)) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/3119/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/3121/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#3120</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened July 20, 2008 03:09AM UTC</p>
      
        <p>Closed January 04, 2009 03:52AM UTC</p>
      
      
        <p>Last modified January 17, 2010 06:02AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Resize handles fail to appear after partial page update (ASP.NET AJAX)</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        serializer
      </td>
      <th>Owned by:</th>
      <td>eduardo</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.7">1.7</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.resizable</td>
      
        <th>Version:</th>
      
      <td>1.5.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><ul><li>I apply .resizable() to my element (with options, code listed further down). The handles appear and work with no problems when the page first loads</li><li>I click a button which causes an AJAX update of that region of the page</li><li>.resizable() is applied again to the element exactly as before, once the new content has been inserted into the DOM</li><li>This time, the handle elements are generated but a large amount of their style is missing and they are all 0x0 pixels, so cannot be seen or dragged. When I hover over the containing element, their display: property is changing to block - so clearly some of the resizable functionality is being applied, but something important is missing!</li></ul><p>Note that it is the ASP.NET AJAX framework which is performing the partial page updates, NOT jQuery. However I am using a jQuery/UI layer for a large part of my user interface.</p><p>Some other notes:</p><ul><li>I'm also applying .draggable() to the element. Draggable is working fine after EVERY postback.</li></ul><ul><li>I've tried removing .draggable() from this code but the problem with .resizable() still occurs.</li></ul><ul><li>The resizable() always works on the first page load. However if I try to apply it to content which has just been inserted into the DOM by AJAX, then this bug occurs. If the page loads first WITHOUT the resizable element showing at all, and then an AJAX update causes the resizable element to appear, then the bug still occurs. So it's not that it only works the first time it is applied, it's that it only works on "virgin" DOM elements.</li></ul><ul><li>Clearly this could have something to do with my particular page structure, although I'm not sure how. I'll try to create a simplified test case to see if this can be reproduced in a less complex page. However, I've been making various modifications to the DOM both around the affected element and further up the hierarchy, and this has not had any effect on this bug.</li></ul><ul><li>I noticed this bug whilst using UI 1.5, so I updated to 1.5.2 and it is still there. 1.5.2 is not in the "Version" list in trac, can it be added?</li></ul><ul><li>Affects IE7, Firefox 2 and Firefox 3. Have not tested any other browsers as yet.</li></ul><ul><li>Should also note that I'm using a customized download of UI (minified) which just contains Core, Resizables, Draggables and Droppables.</li></ul><p>The function I'm using to apply the resizable is as follows:</p><pre class="wiki">

	/// &lt;summary&gt;Sets up the marquee sizer around the thumbnail box&lt;/summary&gt;
	marqueeSetup : function() {
	    $(".selectMarquee")
	        .not(".uiSelectMarquee").addClass("uiSelectMarquee")
	        .each(function(){
	            var image = $(this).prev();
	            var leftInput = $(this).siblings(".imageLeft");
	            var widthInput = $(this).siblings(".imageWidth");
	            var topInput = $(this).siblings(".imageTop");
	            var heightInput = $(this).siblings(".imageHeight");
	            $(this)
	                // Allow marquee to resize
	                .resizable({
	                    // Keep within image bounds
	                    containment:image,
	                    // Show handles on hover
	                    autohide:true,
	                    // Display all handles
	                    handles:"all",
	                    // Constrain corners
	                    	                    
	                    // Save values on stop
	                    stop:function(evt,ui){
	                        var helper = $(this);
	                        leftInput.attr("value",helper.css("left"));
	                        topInput.attr("value",helper.css("top"));
	                        widthInput.attr("value",helper.width());
	                        heightInput.attr("value",helper.height());
	                    }
	                })
	                // Allow movement
	                .draggable({
	                    containment:image,
	                    // Save values on stop
	                    stop:function(evt,ui){
	                        var helper = $(this);
	                        leftInput.attr("value",helper.css("left"));
	                        topInput.attr("value",helper.css("top"));
	                    }
	                });
	        });
	}

</pre><p>This function is executed after every partial-page update, so if a new .selectMarquee has been added to the page, the resizable should be re-applied. If a partial-page update does NOT update this particular element, the uiSelectMarquee class is there as a flag to prevent me attempting to re-apply the resizable.</p><p>The HTML for the element is as follows:</p><pre class="wiki">

&lt;div id="Layout_Edit_Editor3145_imageEditor_SelectMarquee" 
class="selectMarquee" style="top:9px;width:172px;left:45px;height:236px;"&gt;
            &lt;/div&gt;
                    &lt;input name="Layout$Edit$Editor3145$imageEditor$ImageTop" 
type="text" value="9" id="Layout_Edit_Editor3145_imageEditor_ImageTop" 
class="text imageTop" /&gt;
                    &lt;input name="Layout$Edit$Editor3145$imageEditor$ImageLeft" 
type="text" value="45" id="Layout_Edit_Editor3145_imageEditor_ImageLeft" 
class="text imageLeft" /&gt;
                    &lt;input name="Layout$Edit$Editor3145$imageEditor$ImageWidth" 
type="text" value="172" id="Layout_Edit_Editor3145_imageEditor_ImageWidth" 
class="text imageWidth" /&gt;

                    &lt;input name="Layout$Edit$Editor3145$imageEditor$ImageHeight" 
type="text" value="236" id="Layout_Edit_Editor3145_imageEditor_ImageHeight" 
class="text imageHeight" /&gt;

</pre><p>Any insight will be massively appreciated!</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (2)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 17, 2008 10:05AM UTC by <span class="author">Cloudream</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-new">→ TDB</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 04, 2009 03:52AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">1.6</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Initializing resizable on an element that has been inserted into the DOM after document ready works.  If you continue to have problems after updating to the latest version (1.6rc4 right now) and you can produce a minimal test case, feel free to re-open this ticket.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

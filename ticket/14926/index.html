<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#14926 (ui.mouse support for touch events) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/14925/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/14927/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#14926</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(duplicate)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened March 01, 2016 04:51PM UTC</p>
      
        <p>Closed March 02, 2016 05:01PM UTC</p>
      
      
        <p>Last modified March 04, 2016 04:06PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">ui.mouse support for touch events</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        gvanmat
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.mouse</td>
      
        <th>Version:</th>
      
      <td>1.12.0-beta.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>The ui.mouse headless component is used by a number of other component features (draggable.js, sortable.js, resizable.js).  This component only distributes mouse events.  This falls short when used in a hybrid app.</p><p>The proposal is to utilize touch events when the browser supports them instead of mouse events.  To minimize change, the touch events are normalized as native mouse events.  The last touch point is pulled up to a corresponding simulated mouse event.  The native simulated event is wrapped in a jquery event object.  The simulated mouse events are passed to the placeholder methods but the native event is not dispatched.</p><p>Consider the following mapping:</p><p>{'touchstart': 'mousedown', 'touchmove': 'mousemove', 'touchend':   'mouseup'} </p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (4)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 01, 2016 06:28PM UTC by <span class="author">gvanmat</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Created pull request with the proposed fix: <a href="https://github.com/gvanmat/jquery-ui/pull/1" class="ext-link"><span class="icon"></span>https://github.com/gvanmat/jquery-ui/pull/1</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 01, 2016 09:34PM UTC by <span class="author">gvanmat</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Closed the last pull as it didn't pass lint or qunit tests.  Please consider the following pull request: <a href="https://github.com/gvanmat/jquery-ui/pull/2" class="ext-link"><span class="icon"></span>https://github.com/gvanmat/jquery-ui/pull/2</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 02, 2016 05:01PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ duplicate</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Duplicate of <a href="/ticket/4143">#4143</a>.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 04, 2016 04:00PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I used the following duck punch workaround:&#92;
&#92;
  var _mouseProto = $.ui[&quot;mouse&quot;].prototype ? $.ui[&quot;mouse&quot;].prototype : {}.prototype;&#92;
  var _mouseInit = _mouseProto[&quot;_mouseInit&quot;];&#92;
  var _mouseDestroy = _mouseProto[&quot;_mouseDestroy&quot;];&#92;
&#92;
  function _wrapTouch(event)&#92;
  {&#92;
    if ([&quot;touchstart&quot;, &quot;touchmove&quot;, &quot;touchend&quot;, &quot;touchcancel&quot;].indexOf(event[&quot;type&quot;]) === -1)&#92;
    {&#92;
      return event;&#92;
    }&#92;
&#92;
    var _getFirstTouchPoint = function(evt)&#92;
    {&#92;
      if (evt[&quot;changedTouches&quot;] &amp;&amp; evt[&quot;changedTouches&quot;].length)&#92;
      {&#92;
        return evt[&quot;changedTouches&quot;][0];&#92;
      }&#92;
      else if (evt[&quot;targetTouches&quot;] &amp;&amp; evt[&quot;targetTouches&quot;].length)&#92;
      {&#92;
        return evt[&quot;targetTouches&quot;][0];&#92;
      }&#92;
      else if (evt[&quot;touches&quot;] &amp;&amp; evt[&quot;touches&quot;].length)&#92;
      {&#92;
        return evt[&quot;touches&quot;][0];&#92;
      }&#92;
      return null;&#92;
    };&#92;
&#92;
    var _TOUCH_TO_MOUSE_XREF = {&quot;touchstart&quot;: &quot;mousedown&quot;, &quot;touchmove&quot;: &quot;mousemove&quot;, &quot;touchend&quot;: &quot;mouseup&quot;, &quot;touchcancel&quot;: &quot;mouseup&quot;};&#92;
    var _COPY_SAFE_EVENT_PROPERTIES = {&quot;altKey&quot;: true, &quot;bubbles&quot;: true, &quot;cancelable&quot;: true, &quot;ctrlKey&quot;: true,&#92;
      &quot;currentTarget&quot;: true, &quot;eventPhase&quot;: true, &quot;metaKey&quot;: true, &quot;target&quot;: true,&#92;
      &quot;relatedTarget&quot;: true, &quot;shiftKey&quot;: true, &quot;timeStamp&quot;: true,&#92;
      &quot;view&quot;: true, &quot;which&quot;: true, &quot;button&quot;: true, &quot;buttons&quot;: true, &quot;clientX&quot;: true,&#92;
      &quot;clientY&quot;: true, &quot;offsetX&quot;: true, &quot;offsetY&quot;: true, &quot;pageX&quot;: true,&#92;
      &quot;pageY&quot;: true, &quot;screenX&quot;: true, &quot;screenY&quot;: true, &quot;toElement&quot;: true,&#92;
      &quot;char&quot;: true, &quot;charCode&quot;: true, &quot;key&quot;: true, &quot;keyCode&quot;: true};&#92;
    var simulatedEvent = document.createEvent(&quot;MouseEvent&quot;);&#92;
    var touch = _getFirstTouchPoint(event[&quot;originalEvent&quot;]);&#92;
    simulatedEvent.initMouseEvent(_TOUCH_TO_MOUSE_XREF[ event[&quot;type&quot;] ], true, true, window, 1,&#92;
      touch[&quot;screenX&quot;], touch[&quot;screenY&quot;], touch[&quot;clientX&quot;], touch[&quot;clientY&quot;], false,&#92;
      false, false, false, 0, null);&#92;
&#92;
    // Capture all interesting event properties.  Similar to jQuery.event.fix.&#92;
    var props = {};&#92;
    if (Object.defineProperty)&#92;
    {&#92;
      var descriptor = {&quot;value&quot;: touch[&quot;target&quot;], &quot;writable&quot;: false, &quot;enumerable&quot;: true, &quot;configurable&quot;: false};&#92;
      Object.defineProperty(simulatedEvent, &quot;target&quot;, descriptor);&#92;
    }&#92;
&#92;
    for (var key in simulatedEvent)&#92;
    {&#92;
      if (_COPY_SAFE_EVENT_PROPERTIES[ key ] &amp;&amp; !$.isFunction(simulatedEvent[ key ]))&#92;
      {&#92;
        props[ key ] = simulatedEvent[ key ];&#92;
      }&#92;
    }&#92;
    if (!props[&quot;target&quot;])&#92;
      props[&quot;target&quot;] = touch[&quot;target&quot;];&#92;
&#92;
    // Wrap a native simulated event in a jQuery.Event extending propertiea&#92;
    var dragEvent = $.Event(simulatedEvent, props);&#92;
    return dragEvent;&#92;
  };&#92;
&#92;
  _mouseProto._touchStartDelegate = function(event)&#92;
  {&#92;
    if (this[&quot;_mouseDown&quot;](_wrapTouch(event)))&#92;
    {&#92;
      this._on(this.document, {&quot;touchmove&quot;: this._touchMoveDelegate});&#92;
      this._on(this.document, {&quot;touchend&quot;: this._touchEndDelegate, &quot;touchcancel&quot;: this._touchEndDelegate});&#92;
    }&#92;
  };&#92;
&#92;
  _mouseProto._touchMoveDelegate = function(event)&#92;
  {&#92;
    var e = _wrapTouch(event);&#92;
    if (this[&quot;_mouseCapture&quot;](e))&#92;
    {&#92;
      event.preventDefault();     // prevent browser scroll&#92;
      this[&quot;_mouseMove&quot;](_wrapTouch(e));&#92;
    }&#92;
  };&#92;
&#92;
  _mouseProto._touchEndDelegate = function(event)&#92;
  {&#92;
    this._off(this.document, &quot;touchmove touchend touchcancel&quot;);&#92;
    this[&quot;_mouseUp&quot;](_wrapTouch(event));&#92;
  };&#92;
&#92;
  _mouseProto[&quot;_mouseInit&quot;] = function()&#92;
  {&#92;
    this._on(this.element, {&quot;touchstart&quot;: this._touchStartDelegate});&#92;
    _mouseInit.call(this);&#92;
  };&#92;
&#92;
  _mouseProto[&quot;_mouseDestroy&quot;] = function()&#92;
  {&#92;
    this._off(this.element, &quot;touchstart&quot;);&#92;
    this._off(this.document, &quot;touchmove touchend touchcancel&quot;);&#92;
    _mouseDestroy.call(this);&#92;
  };</span> → <span class="change-field-new">1457107587066326</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I used the following duck punch workaround:</p><p>NOTE: Code removed from comment. Use <a href="http://touchpunch.furf.com/" class="ext-link"><span class="icon"></span>http://touchpunch.furf.com/</a> for now.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

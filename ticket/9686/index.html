<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9686 (Resizeable UI causes page reload) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9685/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9687/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#9686</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened November 29, 2013 08:04PM UTC</p>
      
        <p>Closed December 06, 2013 06:17PM UTC</p>
      
      
        <p>Last modified December 07, 2013 12:34AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Resizeable UI causes page reload</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        emmett
      </td>
      <th>Owned by:</th>
      <td>emmett</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.resizable</td>
      
        <th>Version:</th>
      
      <td>1.10.3</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I am using the jQuery UI resizeable on a page and I find that the page is reloaded once whenever the following code is in the page:</p><pre class="wiki">
$('#fr_blk_0').resizable({
        resize: function(e, ui) {
          $('#fr_bkgnd_0').height(ui.size.height);
          $('#fr_bkgnd_0').width(ui.size.width);
        },
        handles: 'all',
        stop: function(e, ui) {
          $.get ('fill-slide.php', { sid: 1259, attr: 'sz', container: 'fr_blk_0', width: ui.size.width , height: ui.size.height });
        }
      });

</pre><p>There is a lot of jQuery code in this page, including dragable and dialog, but there is never a page reload unless the above code is in the page.</p><p>I am using jQuery 2.0.3 and UI 1.10.3</p><p>This page can have multiple emements that are resizable and dragable, yet the page reloads only once.</p><p>I first saw the problem when I passed GET variables that would cause a new element to be added to the page.  The second page reload would cause the new element to be created again as the reload included the full URI of the original request.</p><p>It occurs like there is a PHP header('Location:') call after the page loads once.  Using <a href="/wiki/LiveHTTPheaders">LiveHTTPheaders</a> I can see that the page is requested twice, but only when the jQuery resizable code is present.</p><p>I even tried it with only the resizeable code (no other javascript except the jquery and ui js files), both inside $().ready() and just before the closing &lt;/body&gt; tag.  In both cases the page was reloaded.</p><p>If I take away the resizeable code (above) there is no page reload.</p><p>This happens in both Firefox and Chrome.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (12)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 29, 2013 08:31PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ emmett</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This sounds like it's a result of the Ajax call, not a result of the resizable code.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2013 04:39PM UTC by <span class="author">emmett</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>There are no ajax call in the code.  I created a jsFiddle at <a href="http://jsfiddle.net/emmett/pdR4Z/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/emmett/pdR4Z/2/</a></p><p>Though I don't know how you are going to tell that it is getting loaded twice.  However you can also see it at <a href="http://dev.webengineer.com/slide_show/slide-preview-test.php." class="ext-link"><span class="icon"></span>http://dev.webengineer.com/slide_show/slide-preview-test.php.</a></p><p>If you load the page with ?resize=1 then the resizable element will be loaded, otherwise only the draggable element will be loaded.  And...  I still don't know how you will be able to tell that the page is getting reloaded.  I suppose you'll have to get the source and run it on your own server and note in your log that it reloads only when resizable is enabled.</p><p>I supose the next thing to do is trace the resizeable code with firebug.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2013 07:58PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>When do you think the page is reloading? Immediately? After the resize?</p><p>Even on your hosted page, I'm only seeing the alert that the page loaded once.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2013 10:16PM UTC by <span class="author">emmett</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>There are two calls to the page when looking at the apache access log. Also there is some server sode code that print to the log that that the code was entered twice.  Plus, before I added code to redirect to the page wirhout the "add element" GET variables, a duplicate element would get added on the page reload.  So that each time I added a single element a second element would also be created.</p><p>I am not seeing the duplicate elements now, but it bugs me that there is an unnecessary second page load and I'd like to know why and how that is happening.</p><p>And I did notice that the javascript that does the "page loaded" alert is not executed on the unnecessary page reload.  And that is even more curious.</p><p>As for when...  If I put a client side delay inside the $().ready() function, the apache log and the server side code shows that the second page load happens as a result of entering that function.  And it only happens when the resizable UI element is present in that function.</p><p>Plus it doesn't matter if it is after the resizable initialization or before.  So I don't belive it is the resizable code that is causing the page reload.  Of course that may not be so as the sleep function cannot be asynchronous, and so if the resizable code was doing something asynchronously then the sellp may happen before any action is taken by the resizable code.</p><p>I'll keep trying to think up new ways to debug and add comments if I do find something else to comment on.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2013 10:56PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Until there is a way to debug this with just jQuery UI code, there's not really anything we can do.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2013 05:24AM UTC by <span class="author">emmett</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The page at <a href="http://dev.webengineer.com/slide_show/slide-preview-test.php" class="ext-link"><span class="icon"></span>http://dev.webengineer.com/slide_show/slide-preview-test.php</a> is all jQuery UI code.  I'd be happy to provide the source that includes PHP code that shows the reload in the apache error_log.  Plus yu can see it in firbug and chrome.</p><p>Add ?resize to cause the resizable initialization.</p><p>There is something new I discovered today.  In both firefox/firebug and Chrome, you can see that when the second load happens javascript is not loaded.  In firefox you can see it easier because the current version of firebug is so slow that you can see that upon the first load the javascript shows in the panel, then a second or two later it disappears.</p><p>This is why your are not seeing the second 'page loaded' alert.</p><p>In the firefox panel the following messages shows after the page reload:</p><p>Reload the page to get source for: <a href="http://dev.webengineer.com/slide_show/slide-preview-test.php?resize" class="ext-link"><span class="icon"></span>http://dev.webengineer.com/slide_show/slide-preview-test.php?resize</a></p><p>That makes it impossible to debug.</p><p>With the ?resize parameter the page loads twice and once without.  The resize parameter causes the resizable code to get initialized.  Note that even though it gets reloaded, the resizable code works and the block is resizeable.</p><p>I suppose I'll try an earlier version of the UI code next to see if that makes a difference.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2013 12:55PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>There is still a lot of code on that page. You need to do a few things before we can really look into this.</p><ul><li>Use a doctype that triggers standards mode.</li><li>Don't mix versions between CSS and JS.</li><li>Remove everything not related to initializing a resizable (including the alerts).</li></ul>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2013 12:55PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2013 06:03PM UTC by <span class="author">emmett</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I trimmed out all code unnecsssary to demonstrate the issue.  Changed the DTD XHTML 1.O Strict and verified that the code validates with no errors or warnings. (<a href="http://validator.w3.org)" class="ext-link"><span class="icon"></span>http://validator.w3.org)</a></p><p>I also changed all jQuery library load to user the same versions, including the CSS link.</p><p>The issue remains.  One note, I have changed my PHP code to mitigate the second load, so my system is working.  However, the problem of not being able to debug javascript is still a major problem.  That and the fact that an autonomous and unexpected page reload indicates a problem in the core jQuery code and I'd like to help get it resolved.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2013 06:17PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I copy and pasted your page into a file on my computer, put the file in a directory serviced by Apache, and this is the entirely of the access log when opening that page:</p><pre class="wiki">
127.0.0.1 - - [06/Dec/2013:13:15:56 -0500] "GET /demos/resizable/default.html HTTP/1.1" 200 4182
</pre><p>I don't know what else to tell you. It doesn't even make sense that resizable can cause a page reload.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2013 06:19PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Sorry, forgot to include the flag (this is why I asked you to actually reduce your page).</p><p>Here's the log with the query parameter:</p><pre class="wiki">
127.0.0.1 - - [06/Dec/2013:13:18:21 -0500] "GET /demos/resizable/default.html?resize HTTP/1.1" 200 4182
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 07, 2013 12:34AM UTC by <span class="author">emmett</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I found the cause of the page reload.  It was the CSS statement:</p><pre class="wiki">
.ui-icon-gripsmall-diagonal-se { background-image: url(); }
</pre><p>If I remove that line, or change it to:</p><pre class="wiki">
.ui-icon-gripsmall-diagonal-se { background-image: none; }
</pre><p>There is no page reload.  So now that I see the cause I can assume that the browser's CSS engine is loading "this page" when the value for backgroung-image is empty.  So it has nothing to do with resizable.</p><p>I remember that I used url() in an attempt to hide or remove the corner grip icon, and when it didn't show up after adding that statement I didn't look further.</p><p>Well, it was a good exercise for me, though do I apologize for taking your time.  Thanks for being so responsive.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

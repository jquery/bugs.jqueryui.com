<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#8875 (Autocomplete vertical scroll-to-top bug) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/8874/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/8876/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#8875</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened November 30, 2012 08:45PM UTC</p>
      
        <p>Closed November 30, 2012 09:33PM UTC</p>
      
      
        <p>Last modified November 30, 2012 10:12PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Autocomplete vertical scroll-to-top bug</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        jjtroberts
      </td>
      <th>Owned by:</th>
      <td>jjtroberts</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.10.0">1.10.0</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.autocomplete</td>
      
        <th>Version:</th>
      
      <td>1.9.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Hovering over the very top or bottom of a scrollable suggestion list (using max-height) causes the menu to scroll. This is visible in the maxheight demo.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 08:57PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">Under 1.9.2 CSS, when the number of results from autocomplete exceeds max-height AND the user scrolls down the result list, whenever the mouse hovers over a result item the result list jumps back to the top making it impossible to scroll down and select an item from the list.&#92;
&#92;
I removed jquery-ui-1.9.2.custom.min.css and replaced it with jquery-ui-1.8.23.custom.css and the problem went away.&#92;
&#92;
Pertinent code is below:&#92;
&#92;
&#92;
{{{&#92;
$(&#39;#search&#39;).autocomplete({&#92;
			source: &quot;&lt;?php echo Router::url(array(&#39;controller&#39; =&gt; &#39;Residents&#39;,&#39;action&#39; =&gt; &#39;Search&#39;)); ?&gt;&quot;,&#92;
			minLength: 2,&#92;
			select: function( event, ui ) {&#92;
				var ResidentControllers = new Array(&#92;
					&quot;Residents&quot;,&quot;Accounts&quot;,&quot;EmergencyContacts&quot;,&quot;Notifications&quot;,&quot;TransportationPasses&quot;&#92;
				);&#92;
				var controller = &quot;&lt;?php echo $this-&gt;name; ?&gt;&quot;;&#92;
				var action     = &quot;&lt;?php echo $this-&gt;action; ?&gt;&quot;;&#92;
				if(ResidentControllers.indexOf(controller) != -1){&#92;
					location.href=&quot;&lt;?php echo Router::url(array(&#39;controller&#39; =&gt; &#39;&quot;+controller+&quot;&#39;,&#39;action&#39; =&gt; &#39;&quot;+action+&quot;&#39;)); ?&gt;/&quot;+ui.item.value;&#92;
				}else{&#92;
					location.href=&quot;&lt;?php echo Router::url(array(&#39;controller&#39; =&gt; &#39;Residents&#39;,&#39;action&#39; =&gt; &#39;Edit&#39;)); ?&gt;/&quot;+ui.item.value;&#92;
				}&#92;
				return false;&#92;
			},&#92;
			open: function(){&#92;
		        $(this).autocomplete(&#39;widget&#39;).css(&#39;z-index&#39;, 9999999999999999);&#92;
		        return false;&#92;
		    }&#92;
		}).data(&quot;autocomplete&quot;)._renderItem = function(ul, item){&#92;
			if(item.value){&#92;
	    		var imageUrl = &quot;&lt;?php echo $this-&gt;Html-&gt;webroot(&#39;img/residents/&#39;); ?&gt;&quot;;&#92;
	    		return $( &quot;&lt;li&gt;&lt;/li&gt;&quot; )&#92;
					.data( &quot;item.autocomplete&quot;, item )&#92;
					.append(&#92;
						&quot;&lt;a class=&#92;&#92;&quot;uiasearchitem&#92;&#92;&quot; style=&#92;&#92;&quot;float:left;&#92;&#92;&quot;&gt;&quot;+&#92;
							&quot;&lt;div style=&#92;&#92;&quot;float:left;&#92;&#92;&quot;&gt;&quot;+&#92;
								&quot;&lt;img class=&#92;&#92;&quot;avatar&#92;&#92;&quot; width=&#92;&#92;&quot;80px&#92;&#92;&quot; height=&#92;&#92;&quot;60px&#92;&#92;&quot; src=&#92;&#92;&quot;&quot;+imageUrl+item.filename+&quot;&#92;&#92;&quot; /&gt;&quot;+&#92;
							&quot;&lt;/div&gt;&quot;+&#92;
							&quot;&lt;div class=&#92;&#92;&quot;username&#92;&#92;&quot; style=&#92;&#92;&quot;font-size:10px;float:left;clear:right;width:240px;&#92;&#92;&quot;&gt;&quot;+item.name+&quot;&lt;/div&gt;&quot;+&#92;
							&quot;&lt;div class=&#92;&#92;&quot;laststay&#92;&#92;&quot; style=&#92;&#92;&quot;font-size:10px;float:left;clear:right;width:240px;&#92;&#92;&quot;&gt;&quot;+item.last_stay+&quot;&lt;/div&gt;&quot;+&#92;
							&quot;&lt;div class=&#92;&#92;&quot;bars&#92;&#92;&quot;     style=&#92;&#92;&quot;font-size:10px;float:left;clear:right;width:240px;&#92;&#92;&quot;&gt;No Bars&lt;/div&gt;&quot;+&#92;
						&quot;&lt;/a&gt;&quot;&#92;
					).appendTo( ul );&#92;
			}else{&#92;
				return $( &quot;&lt;li&gt;&lt;/li&gt;&quot; )&#92;
					.data( &quot;item.autocomplete&quot;, item )&#92;
					.append(item.message)&#92;
					.appendTo( ul );&#92;
			}&#92;
    	};&#92;
}}}</span> → <span class="change-field-new">Hovering over the very top or bottom of a scrollable suggestion list (using max-height) causes the menu to scroll. This is visible in the maxheight demo.</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 08:58PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ jjtroberts</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Please do not dump large blocks of code into the ticket, especially code that cannot be run by anyone but yourself.</p><p>I'm not sure this is a bug; generally when a menu contains too many options, moving to the very top or bottom of the menu will cause it to scroll. Are you seeing something other than the behavior I describe in the updated description?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:02PM UTC by <span class="author">jjtroberts</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It doesn't happen just at the very top or bottom. It happens at any height in the list. If I position my mouse cursor over the scrollbar and use the wheel to scroll down, it will scroll correctly, but the moment I try to mouse over a list item the entire list snaps back to the top.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:04PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>What browser are you seeing that happen in? Are you seeing the same behavior on <a href="http://view.jqueryui.com/master/demos/autocomplete/maxheight.html" class="ext-link"><span class="icon"></span>http://view.jqueryui.com/master/demos/autocomplete/maxheight.html</a> ?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:06PM UTC by <span class="author">jjtroberts</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have seen it in both Firefox 16.0 and Chrome 23.0.1271.95 m; and it does not mimic the behavior on the demo. Could it be a problem with the width of each list item in the suggestion list?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:09PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Can you provide a reduced test case showing the problem? You can use <a href="http://jsfiddle.net/ZgAqH/Open/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/ZgAqH/Open/</a> as a starting point.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:11PM UTC by <span class="author">jjtroberts</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'd like to do that, but I don't see how to use the 1.9.2 version of jquery at jsFiddle. They seem to stop at 1.8.2</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:13PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The fiddle link I sent is already set up to use jQuery UI git (current master). It's linked from the Manage Resources panel on the right. Just add the relevant markup in the HTML section (just the contents inside <code>&lt;body&gt;</code>, don't put a full document in there) and whatever custom CSS/JS you need to reproduce the problem. Try to get it stripped down as much as possible.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:23PM UTC by <span class="author">jjtroberts</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Will this work? http://jsfiddle.net/jjtroberts/Kn45F/</span> → <span class="change-field-new">1354311089462312</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">http://jsfiddle.net/jjtroberts/Kn45F/3/&#92;
&#92;
Tried to strip it down as much as possible.</span> → <span class="change-field-new">1354312105232690</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p><a href="http://jsfiddle.net/jjtroberts/Kn45F/5/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/jjtroberts/Kn45F/5/</a></p><p>Tried to strip it down as much as possible.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 09:33PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>No, a few thousand lines of markup is certainly not a reduced test case. I'm going to close this since it works in our demo. Please use the forums or <a href="/wiki/StackOverflow">StackOverflow</a> for support. If you can reduce this and there actually is a bug in jQuery UI, please report a new bug with the reduced test case.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2012 10:12PM UTC by <span class="author">jjtroberts</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Well, my lack or prowess at jsFiddle not withstanding, I managed to find the solution on my end. Perhaps this can help someone else with a similar problem in the future.&#92;
&#92;
The problem was being caused by floats withing the suggestion list. I removed the floats and autocomplete works as expected. Guess I&#39;ll have to resort to tables.</span> → <span class="change-field-new">1354313559456938</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Well, my lack of prowess at jsFiddle not withstanding, I managed to find the solution on my end. Perhaps this can help someone else with a similar problem in the future.</p><p>The problem was being caused by floats withing the suggestion list. I removed the floats and autocomplete works as expected. Guess I'll have to resort to tables.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

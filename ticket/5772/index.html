<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5772 (Sortable: containment parent restricting replacement of first and last elements) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5771/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5773/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#5772</a>
      <span class="ticket-status">open</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">()</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened June 26, 2010 06:32PM UTC</p>
      
      
        <p>Last modified January 21, 2015 03:52PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Sortable: containment parent restricting replacement of first and last elements</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        meyerovb
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/2.0.0">2.0.0</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.sortable</td>
      
        <th>Version:</th>
      
      <td>1.8.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>haspatch</td>
      
        <th>Cc:</th>
      
      <td>bryanam@gmail.com</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>If you contain a sortable to parent, then when you hold the top part of any element, you cannot move it into the last position (vice versa for first position).  See attachment for simple code example.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (1)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/5772/jQuerySortable.html/index.html">jQuerySortable.html</a> (1.2 KB) - added by meyerovb
        <strong>June 26, 2010 06:32PM UTC</strong>.<br>
        
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (12)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 29, 2010 05:32AM UTC by <span class="author">meyerovb</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Sorry, forgot to set component to ui.sortable</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 30, 2010 10:50AM UTC by <span class="author">jzaefferer</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">ui.core</span> → <span class="change-field-new">ui.sortable</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 26, 2011 09:21PM UTC by <span class="author">medmunds</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Still seeing this in 1.8.13.</p><p>Setting option tolerance: 'pointer' seems to work around the issue (though maybe it causes some other problem I'm missing).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 23, 2011 07:27PM UTC by <span class="author">jinxdone</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I added an additional check in the sortable for whether it&#39;s hitting the sides of the containment. The effect should be that it will reorder first/last elements when the draggable hits the side of the containment.&#92;
&#92;
I also added a special case &quot;&quot;if (!horizontalDirection &amp;&amp; !verticalDirection) return false;&quot;&quot; because that was leading to inconsistent behavior. (What are you supposed to be comparing if there is no information which axis is being dragged on?)&#92;
&#92;
https://github.com/jinxdone/jquery-ui/commit/f9d87d57f271b49606be48237d60e42d22914369&#92;
&#92;
Needs review and testing.</span> → <span class="change-field-new">1316806631043250</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I added an additional check in the sortable for whether it's hitting the sides of the containment. The effect should be that it will reorder first/last elements when the draggable hits the side of the containment.</p><p>I also added a special case ""if (!horizontalDirection && !verticalDirection) return false;"" because that was leading to inconsistent behavior. (What are you supposed to be comparing if there is no information which axis is being dragged on?)</p><p><a href="https://github.com/jinxdone/jquery-ui/commit/f9d87d57f271b49606be48237d60e42d22914369" class="ext-link"><span class="icon"></span>https://github.com/jinxdone/jquery-ui/commit/f9d87d57f271b49606be48237d60e42d22914369</a></p><p>Needs review and testing.</p><p>I prepared an example by overriding the method;</p><p>Default: <a href="http://jsfiddle.net/kY5n5/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/kY5n5/</a></p><p>With fix applied: <a href="http://jsfiddle.net/9sm2G/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/9sm2G/2/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 11, 2012 09:07PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">TBD</span> → <span class="change-field-new">2.0.0</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 08, 2012 02:03AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old">sortable containment</span> → <span class="change-field-new">haspatch</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">Sortable containment parent restricting replacement of first and last elements</span> → <span class="change-field-new">Sortable: containment parent restricting replacement of first and last elements</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Confirmed on latest: <a href="http://jsfiddle.net/2q2YE/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/2q2YE/</a> with a working patch!</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 09, 2012 01:40PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/8794">#8794</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 12, 2013 09:02PM UTC by <span class="author">dcarrith</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I think issue #5620 illustrates the fundamental problem.  &#92;
See my comment for more info: http://bugs.jqueryui.com/ticket/5620#comment:6&#92;
&#92;
To summarize though, I think it comes down to where the mouse pointer is when you grab the item to drag.  If it is below the middle point of the item you&#39;re grabbing, and the tolerance method is &quot;intersect&quot; (i.e. the default) then you will never be able to drop the item above the first item in the list (to make it the new first item).  If the mouse cursor is above the middle point of the item you&#39;re grabbing, then you will not be able to drop it as the last item in the list.  That&#39;s because the &quot;pointer&quot; point (which is what the &quot;intersect&quot;  condition seems to be based) will never cross the half way point in either of those scenarios.  &#92;
&#92;
</span> → <span class="change-field-new">1363122633687496</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">I think issue #5620 illustrates the fundamental problem.  &#92;
See my comment for more info: http://bugs.jqueryui.com/ticket/5620#comment:6&#92;
&#92;
To summarize though, I think it comes down to where the mouse pointer is when you grab the item to drag.  If it is below the middle point of the item you&#39;re grabbing, and the tolerance method is &quot;intersect&quot; (i.e. the default) then you will never be able to drop the item above the first item in the list (to make it the new first item).  If the mouse cursor is above the middle point of the item you&#39;re grabbing, then you will not be able to drop it as the last item in the list.  That&#39;s because the &quot;pointer&quot; point (which is what the &quot;intersect&quot;  condition seems to be based) will never cross the half way point in either of those scenarios.  &#92;
&#92;
I think the default &quot;tolerance&quot; method &quot;intersect&quot; should be updated to figure out the dimensions of the item being dragged, and then base the determination of the intersection on the edges of the dragged item rather than the mouse pointer.  The &quot;pointer&quot; method seems to work as expected.     &#92;
&#92;
</span> → <span class="change-field-new">1363122671545180</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>I think issue <a href="/ticket/5620">#5620</a> illustrates the fundamental problem.  </p><p>See my comment for more info: <a href="http://bugs.jqueryui.com/ticket/5620#comment:6" class="ext-link"><span class="icon"></span>http://bugs.jqueryui.com/ticket/5620#comment:6</a></p><p>To summarize though, I think it comes down to where the mouse pointer is when you grab the item to drag.  If it is below the middle point of the item you're grabbing, and the tolerance method is "intersect" (i.e. the default) then you will never be able to drop the item above the first item in the list (to make it the new first item).  If the mouse cursor is above the middle point of the item you're grabbing, then you will not be able to drop it as the last item in the list.  That's because the "pointer" point (which is what the "intersect"  condition seems to be based) will never cross the half way point in either of those scenarios.  </p><p>I think the default "tolerance" method "intersect" should be updated to figure out the dimensions of the item being dragged, and then base the determination of the intersection on the edges of the dragged item rather than the mouse pointer.  The "pointer" method of "tolerance" seems to work as expected.     </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 16, 2013 06:57PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Possibly a duplicate of <a href="/ticket/4428">#4428</a> because both have to due with not being able to reorder when using the </p><pre class="wiki">containment</pre> option.<p></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 16, 2013 07:53AM UTC by <span class="author">morchard</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've made a pull request to improve the behaviour in this scenario, if someone could take a look at it.</p><p><a href="https://github.com/jquery/jquery-ui/pull/1060" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/pull/1060</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 24, 2014 08:20AM UTC by <span class="author">morchard</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've since updated the pull request above, after getting some feedback. Could someone take another look?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 21, 2015 03:52PM UTC by <span class="author">morchard</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>FYI my colleague has picked up and update the pull request above, which can now be found here: <a href="https://github.com/jquery/jquery-ui/pull/1424" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/pull/1424</a></p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

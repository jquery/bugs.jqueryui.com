<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9300 (Draggable element after body re-appended to parent on drag start) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9299/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9301/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#9300</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(notabug)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened May 15, 2013 12:10AM UTC</p>
      
        <p>Closed May 15, 2013 12:51AM UTC</p>
      
      
        <p>Last modified May 15, 2013 03:54PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Draggable element after body re-appended to parent on drag start</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        jaredjacobs
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.draggable</td>
      
        <th>Version:</th>
      
      <td>1.10.3</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>A draggable element that is a direct child of the &lt;html&gt; element (not in the &lt;body&gt;) and that has no drag helper gets re-appended to its parent, making it the last child, when a drag begins.</p><p><a href="http://jsfiddle.net/KZFNK/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/KZFNK/</a></p><p>One could argue that draggable elements should always be descendants of &lt;body&gt;, but in practice, browsers render elements after the body, and it's sometime useful to inject content into a page as direct children of &lt;html&gt; (e.g. in a browser extension). Doing so allows a Chrome or Firefox extension to add content to a &lt;frameset&gt; document (which has no &lt;body&gt;), for example.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (7)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 12:22AM UTC by <span class="author">jaredjacobs</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Pull request with one-line fix: <a href="https://github.com/jquery/jquery-ui/pull/987" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-ui/pull/987</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 12:51AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ notabug</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Whether you find this useful or not, it's invalid HTML.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 04:20AM UTC by <span class="author">jaredjacobs</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi Scott. Thanks for taking the time to evaluate this issue.</p><p>You're correct, of course, that content after the &lt;body&gt; is not valid HTML. Still, I'd ask you to please take a look at my tiny pull request (+4 bytes, -4 bytes). It doesn't introduce any code to the jQuery UI library that generates invalid HTML. It doesn't break the draggable library for any valid HTML documents. What's the harm, exactly?</p><p>Feel free to leave this ticket closed as <strong>notabug</strong>. I'm not claiming that there is a fault or defect in the library. I do believe, however, that pull request 987 will make jQuery UI more broadly useful. (I'm not aware of a jQuery team mandate to force HTML conformance on its users. It generally treats that as a user responsibility.)</p><p>Please take a moment to look at the pull request and respond to it either here or there. Thanks!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 12:19PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">&gt; What&#39;s the harm, exactly?&#92;
&#92;
The harm is unbelievably large. Someone needs to write the code. Someone needs to review the code. Someone needs to write tests to verify the behavior. Everyone needs to ensure that we never regress. Having a test menas we&#39;re encouraging bad practices. Multiply this by the millions of invalid things people do all the time. That&#39;s a LOT of time and energy wasted on invalid use cases.&#92;
&#92;
&gt; Please take a moment to look at the pull request and respond to it either here or there.&#92;
&#92;
This is part of the harm. I&#39;ve already spent too much time discussing something that you know is invalid.</span> → <span class="change-field-new">1368620505266831</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <blockquote> What's the harm, exactly?</blockquote><p>The harm is unbelievably large. Someone needs to write the code. Someone needs to review the code. Someone needs to write tests to verify the behavior. Everyone needs to ensure that we never regress. Having a test means we're encouraging bad practices. Multiply this by the millions of invalid things people do all the time. That's a LOT of time and energy wasted on invalid use cases. Not to mention all the bytes that add up over time, purely for invalid edge cases.</p><blockquote> Please take a moment to look at the pull request and respond to it either here or there.</blockquote><p>This is part of the harm. I've already spent too much time discussing something that you know is invalid.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 01:19PM UTC by <span class="author">jaredjacobs</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">You and I agree that the relevant HTML is non-conforming. However, I don&#39;t agree that the use case is invalid. There&#39;s a difference. Users often want to do things to documents written by one author using third-party scripts written by a different author. The third-party script authors don&#39;t have control over the global structure of the HTML document. Users don&#39;t care; they just want the third-party script to work.&#92;
&#92;
Take a look at the list of &quot;intended scenarios&quot; for using jQuery 2.0 (under &#39;&#39;&#39;How to Use It&#39;&#39;&#39; at http://blog.jquery.com/2013/04/18/jquery-2-0-released/). Browser extensions and add-ons are clearly listed. They are third-party script scenarios.&#92;
&#92;
You&#39;re in charge. If you&#39;d like me to add a test to my pull request, I&#39;d be happy to. If you just want me to go away, well, I can do that too. And if you&#39;re finding working on jQuery too demanding or stressful, well... it might be time to consider something new. http://www.42go.com/join_us.html Cheers!</span> → <span class="change-field-new">1368624497030705</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>You and I agree that the relevant HTML is non-conforming. However, I don't agree that the use case is invalid. There's a difference. Users often want to do things to documents written by one author using third-party scripts written by a different author. The third-party script authors don't have control over the global structure of the HTML document. Users don't care; they just want the third-party script to work.</p><p>Take a look at the list of "intended scenarios" for using jQuery 2.0 (under <strong>How to Use It</strong> at <a href="http://blog.jquery.com/2013/04/18/jquery-2-0-released/)." class="ext-link"><span class="icon"></span>http://blog.jquery.com/2013/04/18/jquery-2-0-released/).</a> Note that browser extensions and add-ons are listed. They are third-party script scenarios.</p><p>You're in charge. If you'd like me to add a test to my pull request, I'd be happy to. If you just want me to go away, well, I can do that too. And if you're finding working on jQuery too demanding or stressful, well... it might be time for a vacation or to consider something new. <a href="http://www.42go.com/join_us.html" class="ext-link"><span class="icon"></span>http://www.42go.com/join_us.html</a> Cheers!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 01:58PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hey Jared, I wrote that blog post and can assure you that making invalid code/markup work is not anywhere in the jQuery 2.0 charter. Perhaps you can use jQuery to correct the document, for example to move the markup into the body. But as Scott says, we've already spent too much time on this.</p><p>Also, say "hi" to Greg. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2013 03:54PM UTC by <span class="author">jaredjacobs</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Can't change a &lt;frameset&gt; to a &lt;body&gt; with script, unfortunately, but thanks for taking the time to reply.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#10113 (Sortable: Discrepancy between receive event and appending with nested sortables) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/10112/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/10114/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#10113</a>
      <span class="ticket-status">open</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">()</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened June 16, 2014 12:01PM UTC</p>
      
      
        <p>Last modified September 01, 2014 10:32AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Sortable: Discrepancy between receive event and appending with nested sortables</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        tj
      </td>
      <th>Owned by:</th>
      <td>tj</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/none">none</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.sortable</td>
      
        <th>Version:</th>
      
      <td>1.10.4</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I'm jqueryui sortable components. I've a sortable container element whose children  are also sortable. </p><p>Here's a JSFiddle <a href="http://jsfiddle.net/tilwinjoy/U9k7d/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/tilwinjoy/U9k7d/</a> demonstrating what I've got so far.  (most of the code in the fiddle is simply  console.logs for detecting the events and set up of sortables)</p><p>In the fiddle or image below, the blue area is #container, white boxes are .child and group of such boxes marked with a black border is .parent.</p><p>#container and .parent are sortables.</p><p>[[Image(<a href="http://i.stack.imgur.com/ME8D7.png)" class="ext-link"><span class="icon"></span>http://i.stack.imgur.com/ME8D7.png)</a>]]</p><p>What's happening is that, if we drop an innermost child item partially between an inner sortable element (.parent) and outermost sortable (#container), a receive event is triggered on the outermost sortable (#container), but the item is actually being appended to the inner sortable (.parent). this is creating chaos!.</p><p>Following the a <a href="/wiki/StackOverflow">StackOverflow</a> question describing the issue in a much better way: <a href="http://stackoverflow.com/questions/24200248/jquery-ui-sortable-appending-to-wrong-target" class="ext-link"><span class="icon"></span>http://stackoverflow.com/questions/24200248/jquery-ui-sortable-appending-to-wrong-target</a></p><p>If you've followed the instruction in the question and is able to reproduce the scenario - What i expect is  the receive event of the inner sortable (div.parent in fiddle) is triggered and item is append in it (since placeholder appeared in it).</p><p>Currently the receive event attached to outermost sortable (div#container in fiddle) is triggered even though item is appended to div.parent where the placeholder was.</p><p>As you can see in jsfiddle the version i'm using is query ui 1.9.2 , i've tested it also in 1.10.3</p><p>I've tested it in latest version of google chrome in windows 8.1, and safari 6.1.4 in mac os x 10.7.5.</p><p>I hope i've provided enough information to reproduce the issue and  you guys can fix this..! :)</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (6)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 16, 2014 01:28PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ tj</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>HI tj,</p><p>Thanks for taking the time to contribute to jQuery UI. As is, it's really hard to figure out what's going on in your test case because of the sheer amount of code. Could you take some time to remove any unnecessary code from your test case (options, CSS, logging, etc)? Basically we need to see the least amount of code that shows the issue you're experiencing.</p><p>Please use the latest version of jQuery UI. You can start with this jsFiddle: <a href="http://jsfiddle.net/tj_vantoll/YMnwU/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/tj_vantoll/YMnwU/</a> (which uses the latest version).</p><p>There are a few existing issues with nested sortables that might be related to this, but I'm not sure. See <a href="/ticket/6075">#6075</a> and <a href="/ticket/9582">#9582</a>.</p><p>Thanks.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 16, 2014 02:29PM UTC by <span class="author">tj</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">hi, thanks for the reply, here&#39;s an updates simplest jsfiddle , which has  no custom code other than 3 console.log statements for debugging purpose - [http://jsfiddle.net/YMnwU/7/] in the fiddle, drag an item from first group to the second group, drag it down as much as possible while keeping the placeholder visible and drop it. check the console, you&#39;re see that the remove event is fired from .parent and a receive event is fired on #container even though we dropped the item to another .parent...</span> → <span class="change-field-new">1402929239269205</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>hi, thanks for the reply, here's an updated simplest jsfiddle , which has  no custom code other than 3 console.log statements for debugging purpose - <a href="http://jsfiddle.net/YMnwU/7/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/YMnwU/7/</a> in the fiddle, drag an item from first group to the second group, drag it down as much as possible while keeping the placeholder visible and drop it. check the console, you'll see that the remove event is fired from .parent and a receive event is fired on #container even though we dropped the item to another .parent...</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 16, 2014 06:42PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks, that test case helps a lot. Can you explain why the </p><pre class="wiki">connectWith</pre> option for the <pre class="wiki">.parent</pre> sortables includes <pre class="wiki">#container</pre>? If I remove that the problem goes away, and it seems like a strange thing to do.<p></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 17, 2014 06:06AM UTC by <span class="author">tj</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Because  as per requirement, an item can be either moved to another parent  or the container. so i've specified <code>connectWith</code> both <code>.parent</code> and <code>#container</code> …  thanks.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 17, 2014 01:22PM UTC by <span class="author">tj.vantoll</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">jQuery UI sortable appending to wrong target</span> → <span class="change-field-new">Sortable: Discrepancy between receive event and appending with nested sortables</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for working through this we me. It takes some time to understand some of these interaction issues. I see the the receive event is fired on a different sortable than the element is appended to.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 01, 2014 10:32AM UTC by <span class="author">tj</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The receive is triggered on one element, and the item is being appended to some other element. I wonder why this is left as <strong>minor</strong> issue..!</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>

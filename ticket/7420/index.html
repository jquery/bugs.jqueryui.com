<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#7420 (Search call is not triggered on certain typing events in an autocomplete field) - jQuery UI - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jqueryui.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/u10aUuj4Q4.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery UI issues have moved to <a href="https://github.com/jquery/jquery-ui/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. <br>Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery UI Bugs Home">
            <img src="/img/logo.svg" width="253" alt="jQuery UI">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus" class="flex-column">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery UI sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui active">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery UI navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jqueryui.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://jqueryui.com/demos/">
                    Demos &amp; Documentation
                  </a>
                </li>
                <li class="jq-themes">
                  <a href="https://jqueryui.com/themeroller/">
                    Themes
                  </a>
                </li>
                <li class="jq-development">
                  <a href="https://jqueryui.com/development/">
                    Development
                  </a>
                </li>
                <li class="jq-support">
                  <a href="https://jqueryui.com/support/">
                    Support
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main id="skip" class="flex-column white-box">
        <h2 class="visually-hidden">Search and Top Navigation</h2>
        <div class="flex-row flex-end-center">
          <div id="search"></div>
        </div>
        <nav id="jq-topnav" class="flex-column flex-start-center">
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="flex-column">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/7419/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/7421/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h2>
      <a href="" class="ticket-number">#7420</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h2>

    <div class="ticket-dates">
      <p>Opened May 25, 2011 01:01PM UTC</p>
      
        <p>Closed May 25, 2011 01:33PM UTC</p>
      
      
        <p>Last modified May 27, 2011 03:28AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Search call is not triggered on certain typing events in an autocomplete field</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        ebunton
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.9.0">1.9.0</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ui.autocomplete</td>
      
        <th>Version:</th>
      
      <td>1.8.13</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Behaviour can be reproduced reliably on the jQuery UI Autocomplete demo page:</p><p><a href="http://jqueryui.com/demos/autocomplete/" class="ext-link"><span class="icon"></span>http://jqueryui.com/demos/autocomplete/</a></p><p>  1. Type "ja" into the field. Results appear. <strong>OK</strong></p><p>  2. Double-click the "ja" and ctrl-x. Results disappear. <strong>OK</strong></p><p>  3. Blur the field. Focus on the field, paste "ja" (ctrl-v). Results appear. <strong>OK</strong></p><p>  4. Blur the field. Results disappear. <strong>OK</strong></p><p>  5. While "ja" is still in the search field, double-click it to select all and then type in "ja" at an normal typing speed (i.e. not too slowly). Results do not appear. <strong>ERROR</strong></p><p>  6. While "ja" is still in the search field, double-click it to select all and then ctrl-v "ja" on top of itself.  Results do not appear. <strong>ERROR</strong></p><p>As you can see, under certain, fairly ordinary conditions, the autocomplete does not trigger. </p><p>(Reproducible in Safari 5.0.5, Firefox 4, Chrome 12)</p><p>I am using it with a JSON-P ajax-y type arrangement in a large project, and this is causing a poor impression of the auto-complete search field (i.e. it sometimes doesn't work).</p><p>What can be done about this in the interim, before a fix is done?</p><p>I need this to work reliably. Thanks!</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (8)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 25, 2011 01:33PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is expected behavior. Your "normal typing speed" is faster than the delay and you're pasting the same value that already exists. In both cases, by the time the widget checks if the value has changed, it has not. I also disagree that it's ordinary for someone to paste the existing value into a text box.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2011 03:55AM UTC by <span class="author">ebunton</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:1 scott.gonzalez]:</p><blockquote> This is expected behavior. Your "normal typing speed" is faster than the delay and you're pasting the same value that already exists. In both cases, by the time the widget checks if the value has changed, it has not. I also disagree that it's ordinary for someone to paste the existing value into a text box.</blockquote><p>Hi Scott,</p><p>Thanks for responding so quickly.</p><p>I agree that the widget should check that the value has changed before sending out triggering the search call.</p><p>However I respectfully disagree with the GUI behaviour. </p><p>I have one chief assumption of the functionality of the autocomplete widget, which may differ from yours:</p><pre class="wiki">
A user expects an autocomplete field to consistently '''display results, if any''' whenever a typing event has occurred in the field.
</pre><p>Do you agree that this is a reasonable assumption?</p><p>Please note that this assumption does not mean that the autocomplete needs to re-trigger the search call if the input is the same as the previous - just that results are <strong>displayed</strong> consistently based on the input.</p><p>Picture this:</p><p>  1. A user types in "ja", the results are shown.</p><p>  1. He/she blurs the field.</p><p>  1. Say the user wants to see the same autocomplete results again. Then he would type in "ja" again right?</p><p>  1. However the end result since "ja" typed now is the same as the "ja" entered previously is that the '''previous results aren't re-displayed''' - to reiterate, it appears to the user that nothing happens.</p><p>In my humble opinion, this behaviour is unexpected and inconsistent with the assumption above, and gives the impression that the autocomplete is broken.</p><p>Look forward to hearing your perspective.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2011 04:09AM UTC by <span class="author">ebunton</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Let's take real-world examples of my assumption above:</p><p>  1. Mac's Spotlight exhibits behaviour in line with my above assumption</p><p>  1. Safari's Google search field exhibits behaviour in line with my above assumption</p><p>  1. Google's Instant search exhibits behaviour in line with my above assumption</p><p>In all three case above, a user is able to re-enter the same input as before and consistently be shown results.</p><p>How strange would it be if I were to type in say "jquery" in Google, and then retype it, getting 0 results the second time I typed it?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2011 11:58AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:2 ebunton]:</p><blockquote> <pre class="wiki">
&gt; A user expects an autocomplete field to consistently '''display results, if any''' whenever a typing event has occurred in the field.
&gt; </pre></blockquote><p>Then turn off the delay. We intentionally don't do that because it will hammer remote services.</p><blockquote> Do you agree that this is a reasonable assumption? Please note that this assumption does not mean that the autocomplete needs to re-trigger the search call if the input is the same as the previous - just that results are <strong>displayed</strong> consistently based on the input.</blockquote><p>Separating the search and the display requires caching results, which does not belong in the base implementation.</p><blockquote> Picture this:    1. A user types in "ja", the results are shown.   2. He/she blurs the field.   3. Say the user wants to see the same autocomplete results again. Then he would type in "ja" again right?</blockquote><p>Or press the down arrow.</p><blockquote>   4. However the end result since "ja" typed now is the same as the "ja" entered previously is that the '''previous results aren't re-displayed''' - to reiterate, it appears to the user that nothing happens.</blockquote><p>There are multiple solutions here: turn off delay, press the down arrow (which requires less effort), customize autocomplete to clear its internal previous value on blur.</p><p>Replying to [comment:3 ebunton]:</p><blockquote> Let's take real-world examples of my assumption above:    1. Mac's Spotlight exhibits behaviour in line with my above assumption</blockquote><p>Actually, it's impossible to blur spotlight. You could easily build spotlight with jQuery UI by clearing the internal previous value on close.</p><blockquote>   2. Safari's Google search field exhibits behaviour in line with my above assumption</blockquote><p>Safari's search field is arguably worse than jQuery UI. Type "ja", then press backspace and watch all results disappear.</p><blockquote>   3. Google's Instant search exhibits behaviour in line with my above assumption</blockquote><p>Google's instant search is completely separate from their autocomplete, they just happen to run simultaneously. I assume you want to discuss the actual autocomplete behavior since Google would obviously not blank out the page during instant search. Go to Google, type "ja" to turn on instant search, copy the value, press escape (to close the autocomplete), tab out, tab back, paste and watch as absolutely nothing happens. If you retype "ja" you'll get results, but again, that's instant - we do the exact same thing if you turn off delay and make the jQuery UI autocomplete instant. You'll also notice that if you type "j", blur the field, refocus the field and type "j" again, nothing will happen. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2011 04:42PM UTC by <span class="author">ebunton</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 scott.gonzalez]:</p><blockquote> Replying to [comment:2 ebunton]: &gt; <pre class="wiki">
&gt; &gt; A user expects an autocomplete field to consistently '''display results, if any''' whenever a typing event has occurred in the field.
&gt; &gt; </pre>  Then turn off the delay. We intentionally don't do that because it will hammer remote services.</blockquote><p>Yes obviously. I'm sure you understand that from a purely user perspective, the technical implementation doesn't matter - so long as an autocomplete field behaves consistently.</p><blockquote>  &gt; Do you agree that this is a reasonable assumption? &gt; Please note that this assumption does not mean that the autocomplete needs to re-trigger the search call if the input is the same as the previous - just that results are <strong>displayed</strong> consistently based on the input.  Separating the search and the display requires caching results, which does not belong in the base implementation.</blockquote><p>You haven't indicated whether you believe that this is a reasonable assumption of functionality from a user perspective.</p><blockquote>  &gt; Picture this: &gt;  &gt;   1. A user types in "ja", the results are shown. &gt;   2. He/she blurs the field. &gt;   3. Say the user wants to see the same autocomplete results again. Then he would type in "ja" again right?  Or press the down arrow.</blockquote><p>I'm sorry but this is a rather curt, odd and unexpected response. </p><p>Clearly we aren't here to dictate what user should and shouldn't do depending on an implementation detail in the code.</p><blockquote>  &gt;   4. However the end result since "ja" typed now is the same as the "ja" entered previously is that the '''previous results aren't re-displayed''' - to reiterate, it appears to the user that nothing happens.  There are multiple solutions here: turn off delay, press the down arrow (which requires less effort), customize autocomplete to clear its internal previous value on blur.</blockquote><p>Thanks for the suggestion. Clearly turning off the delay is not a clever solution, since it hammers the server, as you point out above.</p><p>I will of course now attempt to customise the autocomplete so that it simply re-displays its last results if a user retypes the same query. </p><p>I will try to ensure that jquery does not actually destroy the previous results, but simply hides them, in case the results need to be re-shown.</p><blockquote>  Replying to [comment:3 ebunton]: &gt; Let's take real-world examples of my assumption above: &gt;  &gt;   1. Mac's Spotlight exhibits behaviour in line with my above assumption  Actually, it's impossible to blur spotlight. You could easily build spotlight with jQuery UI by clearing the internal previous value on close.</blockquote><p>Yes, it is impossible to blur spotlight. </p><p>That is clearly not my point.</p><blockquote>  &gt;   2. Safari's Google search field exhibits behaviour in line with my above assumption  Safari's search field is arguably worse than jQuery UI. Type "ja", then press backspace and watch all results disappear.</blockquote><p>Yes, the backspace behaviour is a poorer implementation.</p><p> Again this is not my point. It would be great if you could stay within the bounds of the discussion.</p><blockquote>  &gt;   3. Google's Instant search exhibits behaviour in line with my above assumption  Google's instant search is completely separate from their autocomplete, they just happen to run simultaneously. I assume you want to discuss the actual autocomplete behavior since Google would obviously not blank out the page during instant search. Go to Google, type "ja" to turn on instant search, copy the value, press escape (to close the autocomplete), tab out, tab back, paste and watch as absolutely nothing happens. </blockquote><p>Which is still acceptable since google keeps the "ja" results displayed.</p><blockquote> If you retype "ja" you'll get results, but again, that's instant - we do the exact same thing if you turn off delay and make the jQuery UI autocomplete instant. You'll also notice that if you type "j", blur the field, refocus the field and type "j" again, nothing will happen. </blockquote><p>I find your argument rather weak since Google's implementation is bolstered by their Instant Search. They always show results (autocomplete or otherwise) when there is a match.</p><p>Arguably, the last point you make about typing "j", blurring, and then typing "j" again in google is a bug as this is plainly inconsistent behaviour. However it doesn't appear like a bug since google keeps its results on screen for that "j" query (pardon the pun).</p><p>All in all, I'm a disappointed by your seemingly snarky comments to what I think is a very reasonable expectation (something which you have not expressed an opinion... perhaps deliberately?).</p><p>Thanks anyway for your time in responding.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2011 04:58PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I wasn't trying to be snarky, I was trying to point out that you're comparing the default behavior of jQuery UI's autocomplete widget to customized implementations out in the wild. I could go into extreme detail about why your comparisons are completely invalid, but since the simple explanations didn't help, I don't think detailed explanations will either. Your argument was that we should behave a certain way because others do, so I argued against that by saying that's not what they do or by pointing out that they're not good models to blindly follow.</p><p>I don't think pressing the down arrow is an implementation detail. It's how every dropdown and combobox implementation that I'm aware of works, and how most autocomplete implementation work as well.</p><p>I could potentially see clearing the internal value on blur as an improvement, but that won't address all of your issues (and I don't believe all of your issues should be addressed).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 27, 2011 01:27AM UTC by <span class="author">ebunton</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:6 scott.gonzalez]:</p><blockquote> I wasn't trying to be snarky, I was trying to point out that you're comparing the default behavior of jQuery UI's autocomplete widget to customized implementations out in the wild. I could go into extreme detail about why your comparisons are completely invalid, but since the simple explanations didn't help, I don't think detailed explanations will either. Your argument was that we should behave a certain way because others do, so I argued against that by saying that's not what they do or by pointing out that they're not good models to blindly follow.</blockquote><p>I regret posting the examples as they clearly have derailed my chief point on expected functionality.</p><p>I'm just trying to be helpful here and present a case where jquery's autocomplete could exhibit best of breed behaviour.</p><p>I am unsure how to express this better than the following: </p><p><strong>Users expect that when they re-type a phrase in an autocomplete field, matching results should appear every time consistently and without fail.</strong></p><p>I can only urge that you run usability testing of a suitable sample size to objectively judge what a user might expect. </p><p>The reason why I have submitted this as an issue here is that in real-world usage, our users have given us such feedback.</p><blockquote>  I don't think pressing the down arrow is an implementation detail. It's how every dropdown and combobox implementation that I'm aware of works, and how most autocomplete implementation work as well.  I could potentially see clearing the internal value on blur as an improvement, but that won't address all of your issues (and I don't believe all of your issues should be addressed).</blockquote><p>There is only one issue here, as I have made above in bold.</p><p>Let's bring this to a close: please let me know whether you agree or disagree with the bold text.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 27, 2011 03:28AM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>At some level, we disagree, which is why the existing functionality exists. Feel free to start a discussion on the <a href="http://forum.jquery.com/developing-jquery-ui" class="ext-link"><span class="icon"></span>forum</a> about specific cases where you think a search should be run and we can discuss individual cases.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
